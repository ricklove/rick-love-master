(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[26],{w73Y:function(e,t,n){"use strict";n.r(t),n.d(t,"art_nftAdventure_nftTextAdventure",(function(){return g}));n("E2zO");var o=n("VtSi"),i=n.n(o),r=(n("3yYM"),n("QsI/")),a=n("la2L"),d={key:"nft-text-adventure",name:"NFT Text Adventure",description:"NFT Text Adventure is a game where actions are chosen by the NFT community",author:"Rick Love & the NFT Community"},s='\n.........()-,.......................\n.......(),...}:.....................\n.........."}:==::>..................\n.....()::}:-==:::::>................\n..........,==:::::::::}.............\n.....():"}..:::::::::::::::.........\n.............:::-...<::::::::::.....\n...........():..........::::::::::..\n..........................-::::::::.\n.........oooSS:.............-::::::.\n......:SSOOOoo::...........:::::::-.\n......oOoo:o::..:.........::::::::..\n.....:OOo:...:::::........::::::::..\n......oOS:::::::::........o::::::...\n......-oOo::::...::..:ooooooo:::....\n..........::::--::::oooooooooo:.....\n...........:::::::oooooooooooo:.....\n....-:oooo:ooooooooooooooooooo:.....\n'.trim().replace(/\./g," "),u=[{key:"torch",name:"Torch",description:"This torch will be your light when all other lights go out..."},{key:"torch_lit",name:"Lit Torch",description:"This torch it lit!"},{key:"rope",name:"Knife",description:"That's not a knife... This is a knife!"}],l=[{title:"NFT Text Adventure",asciiArt:s,description:"",inventory:[],actions:[{name:"play",description:"",gameOver:!1}]},{title:"Cold",description:"\n\nCold, damp, wet... you wake up shivering. \n\nWhen you open your eyes, everything is still dark.\n\nYou can't see anything, but you can feel that you are lying on a cold hard surface...",glitch:{ratio:.07,messages:["HELP ME!","Who are you?","What are you?","How are you?","Where are you?","Why are you?","I'm cold","I'm alone","I'm afraid"]},inventory:[],actions:[{name:"search the ground",description:"You search the ground...",gameOver:"\nAs you feel around your position, you realize that there is no ground anywhere around you.\n                \nThere is no way you can escape.\n\n"},{name:"call for help",description:"You call for help...",gameOver:"\nSuddenly you hear scratching quickly coming towards you.\n                \nYou feel a sharp pain in your stomach. Your muscles spasm for a moment, but then you are no longer able to move.\n"},{name:"listen",description:"You carefully listen without making a sound...",gameOver:!1}]},{title:"Whispers",description:'\n\nIn the distance, you hear the slight brookling of water flowing over stones, but nothing else at first.\n\nThen, you hear something you did not expect, a whisper in your ear that says: \n\n"Do not move... They will see you..."',glitch:{ratio:.03,messages:["HELP ME!","Who are you?","What are you?","How are you?","Where are you?","Why are you?","I'm cold","I'm alone","I'm afraid"]},inventory:[],actions:[{name:"remain still",description:"You decide not moving is a good idea for now..."},{name:"move away",description:"You jerk away from the whisper..."},{name:"stand up",description:"You push yourself off the ground..."}]}],c=function(e){var t,n=e.gameState,o=e.gameData,i=e.s,r=e.frame,d=e.seed,s=e.timeMs;"step"===n.mode&&n.input&&(n.timeStartMs=1,n.actionIndex=void 0);var u=n.stepIndex,l=void 0===u?0:u,c=n.actionIndex,m=n.input,h=void 0===m?"":m,g=n.mode,f=null!==(t=o.story[l||0])&&void 0!==t?t:void 0;if(!f)return{done:!0,gameState:n};var p,v,y,w=function(e){var t,n,o=e.step,i=e.actionIndex,r=e.s,d=e.timeMs,s=e.frame,u=e.seed,l=e.input,c=e.mode;if(!o)return{done:!0};var m=d,h=Object(a.a)(""+u+o+Math.floor(m/250)).random,g=Object(a.a)(""+u+o+Math.floor(m/50)).random,f=o.glitch&&h()>1-o.glitch.ratio,p=Math.floor(m/1e3*30);r.background(r.color(25-25*Math.cos(2*Math.PI*m/1e3/10),0,0)),r.fill(r.color(255,255,255)),r.textFont("monospace"),r.textAlign("left"),r.textSize(14);var v=o.actions.length,y=function(e){r.text(e,4,47,-8+s.width,-24+s.height-20*(v+2))},w=function(e){r.text(e,4,-8+s.height-40,-8+s.width,-4+s.height)},x=function(e,t,n,o,i){return void 0===i&&(i=1),r.fill(n),r.textSize(o),p*i<e.length?(t(e.substr(0,p*i)),{done:!1}):(t(e),p-=Math.floor(e.length/i),{done:!0})},S=function(e,t,n,o,i,a){var d=e/1e3*30;if(p<d){var s=t?n?p/30*1e3%1e3<500?t:n:t:"";return i&&r.fill(i),a&&r.textSize(a),s&&o&&o(s),{done:!1}}return p-=d,{done:!0}};if(o.glitch&&f&&(r.rotate(.25*g()),r.scale(1-.25*g(),1),r.background(r.color(0,150*g(),0)),h()>.25)){r.fill(r.color(255,255,255)),r.textAlign("center"),r.textSize(12);var O=o.glitch.messages;return r.text(O[Math.floor(g()*O.length)],4,104,-8+s.width,-8+s.height),{done:!1}}"step"!==c&&(p=Number.MAX_SAFE_INTEGER),p+=o.title.trim().length,r.textAlign("center");var I=r.color(255,255,255);if(!x(o.title.trim(),(function(e){r.text(e,4,4,-8+s.width,44)}),I,14).done)return{done:!1};if(!S(5e3,o.asciiArt,o.asciiArt,(function(e){r.text(e,4,47,-8+s.width,-4+s.height)}),I,10).done)return{done:!1};if(r.textAlign("left"),!x(o.description.trim(),y,r.color(255,255,255),12).done)return{done:!1};if(!S(1e3).done)return{done:!1};if(!x(""+o.actions.map((function(e){return"    - "+e.name+"\n"})).join(""),(function(e){r.text(e,4,-16+s.height-20*(v+2),-8+s.width,-12+s.height-40)}),r.color(255,255,100),12).done)return{done:!1};if(!S(3e3,">","> |",w,r.color(100,255,100),12).done)return{done:!1};var M=o.actions[null!=i?i:-1];if(!x("> "+(null!==(t=null!==(n=null==M?void 0:M.name)&&void 0!==n?n:l)&&void 0!==t?t:""),w,r.color(100,255,100),14).done)return{done:!1};if(!S(1e3).done)return{done:!1};if("response"===c&&M){var A;p=Math.floor(m/1e3*30),r.background(r.color(25-25*Math.cos(2*Math.PI*m/1e3/10),0,0));var b=M.description,k=null!==(A=M.gameOver)&&void 0!==A&&A,T=k?r.color(255,100,100):r.color(100,100,255);if(!x(b,y,T,14).done)return{done:!1};if(!S(1e3).done)return{done:!1};if(null==M.gameOver&&(r.textAlign("center"),!x("TO BE CONTINUED",w,T,14).done))return{done:!0};if(k){if(r.background(r.color(25-25*Math.cos(2*Math.PI*m/1e3/10),0,0)),!x(k,y,T,14).done)return{done:!1};if(!S(1e3).done)return{done:!1};if(r.textAlign("center"),!x("GAME OVER",w,T,14).done)return{done:!0}}}return{done:!0}}({step:f,actionIndex:c,s:i,timeMs:s,frame:r,seed:d,input:h,mode:g});if(h.endsWith("\n")&&h.trim()){var x=h.trim().split(" ").filter((function(e){return e})),S=f.actions.findIndex((function(e){return e.name.split(" ").some((function(e){return x.some((function(t){return t===e}))}))}));return S>=0?{done:!1,gameState:Object.assign({},n,{input:"",actionIndex:S,mode:"response",timeStartMs:void 0})}:{done:!1,gameState:Object.assign({},n,{input:""})}}return"response"===n.mode&&w.done?null===(p=null===(v=f.actions[null!==(y=n.actionIndex)&&void 0!==y?y:-1])||void 0===v?void 0:v.gameOver)||void 0===p||p?h?{done:!1,gameState:Object.assign({},n,{mode:"step",stepIndex:0,actionIndex:void 0,timeStartMs:void 0,input:""})}:{done:!0,gameState:n}:{done:!1,gameState:Object.assign({},n,{mode:"step",stepIndex:l+1,actionIndex:void 0,timeStartMs:void 0})}:Object.assign({},w,{gameState:n})},m=n("bSfO"),h={metadata:d,items:u,story:l},g={key:"nft-text-adventure",title:h.metadata.name,description:h.metadata.description,artist:h.metadata.author,canSetSeed:!1,getTokenDescription:function(e){var t,n,o,i=e.split(":").map((function(e){return parseInt(e,10)})),r=i[0],a=i[1],d=h.story[r],s=null==d?void 0:d.actions[a];return s?r+":"+a+" - "+(null!==(t=null==d?void 0:d.title)&&void 0!==t?t:"")+" > "+(null!==(n=null==s?void 0:s.name)&&void 0!==n?n:""):r+" - "+(null!==(o=null==d?void 0:d.title)&&void 0!==o?o:"")},renderArt:function(e,t,n,o){void 0===t&&(t="This is my hash!");Object(a.a)(t).random;var d=(window.innerWidth>300&&window.innerHeight,300),s=null,u=!1,l=t.split(":").map((function(e){return parseInt(e,10)})),g=l[0],f=l[1],p=function(){return n?n.timeProvider.now():Date.now()},v={timeStart:p(),stepIndex:g,actionIndex:f,input:"",isRespondingToInput:!1,mode:"step"};return o((function(e){e.setup=function(){console.log("renderArt:createP5:s.setup");var t=e.createCanvas(d,d),n=""+Math.random();t.id(n),s=document.getElementById(n),Object(m.a)(s).windowAddEventListener("keydown",(function(e){"backspace"===e.key.toLowerCase()?v.input=v.input.substr(0,v.input.length-1):"enter"===e.key.toLowerCase()?v.input+="\n":e.key.match(/^[A-Za-z0-9 ]$/)&&(v.input=v.input.trimStart()+e.key),console.log("keypress",{x:e,input:v.input})}))},e.draw=function(){var o,a;null!=n&&n.isRecording()&&!u&&(v.timeStartMs=n.timeProvider.now(),!1),u=null!==(o=null==n?void 0:n.isRecording())&&void 0!==o&&o;var l=null!==(a=v.timeStartMs)&&void 0!==a?a:p(),m=p()-l,g=c({frame:{width:d,height:d},s:e,gameData:h,gameState:v,seed:t,timeMs:m});(v=g.gameState).timeStartMs||(v.timeStartMs=p()),g.done?!0:null!=n&&n.isWaitingForFrame()&&s&&(console.log("game.update waitingForFrame - addFrame",{}),Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getRecorder().addFrame(s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))())}}),e)}}}}]);
//# sourceMappingURL=26-407cc4ea2cb34bd52a00.js.map