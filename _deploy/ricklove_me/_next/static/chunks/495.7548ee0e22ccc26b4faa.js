"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{1569:function(e,o,t){t.d(o,{R:function(){return s}});var r=t(1738),n=t(6135);const s=e=>{const o={saveScore:(t,r)=>{const n=o.loadScore();n.push({name:t,score:r}),n.sort(((o,t)=>e.sortKey(o.score)<e.sortKey(t.score)?-1:1)),localStorage.setItem(e.storageKey,JSON.stringify(n))},loadScore:()=>{const o=localStorage.getItem(e.storageKey);if(!o)return[];const t=JSON.parse(o);return t.sort(((o,t)=>(e.sortKey(o.score)>e.sortKey(t.score)?-1:1)*(e.sortDescending?-1:1))),t}},t={container:{flex:1,alignItems:"center",margin:16},textInput:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#0000FF"},buttonView:{margin:4,padding:4,borderColor:"#FFFF00",borderStyle:"solid",borderWidth:1,borderRadius:4},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#FFFF00"}},s=e=>{const[o,s]=(0,r.useState)("");return r.createElement(n.G7,{style:t.container},r.createElement(n.oi,{style:t.textInput,value:o,onChange:s,placeholder:"Name",keyboardType:"default",autoCompleteType:"off"}),r.createElement(n.Au,{onPress:()=>!!o&&e.onSubmit(o),style:o?{}:{opacity:.5}},r.createElement(n.G7,{style:t.buttonView},r.createElement(n.xv,{style:t.buttonText},"Save Score"))))},l={container:{marginTop:16,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},scoreView:{flexDirection:"row",justifyContent:"space-around",padding:4,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},nameText:{flex:2,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFFFF",overflow:"hidden"},scoreText:{flex:1,textAlign:"right",fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},a=o=>r.createElement(n.G7,{style:l.container},r.createElement(n.G7,{style:l.scoreView},r.createElement(n.xv,{style:l.nameText},"Leaderboard"),e.scoreColumns.map((e=>r.createElement(n.xv,{key:e.name,style:l.scoreText})))),r.createElement(n.G7,{style:l.scoreView},r.createElement(n.xv,{style:l.nameText},"Name"),e.scoreColumns.map((e=>r.createElement(n.xv,{key:e.name,style:l.scoreText},e.name)))),o.scores.map((o=>r.createElement(n.G7,{style:l.scoreView},r.createElement(n.xv,{style:l.nameText},o.name),e.scoreColumns.map((e=>r.createElement(n.xv,{key:o.name,style:l.scoreText},e.getValue(o.score))))))));return{useLeaderboard:({getScore:e})=>{const[t,n]=(0,r.useState)({scores:o.loadScore()});return{LeaderboardArea:l=>r.createElement(r.Fragment,null,!!l.gameOver&&r.createElement(s,{onSubmit:t=>{o.saveScore(t,e()),n({scores:o.loadScore()}),l.onScoreSaved()}}),r.createElement(a,{scores:t.scores}))}}}}},5495:function(e,o,t){t.r(o),t.d(o,{EducationalGame_MultiplesMonster:function(){return c}});var r=t(1738),n=t(6135),s=t(5950),l=t(1569),a=t(6548);const i=(0,l.R)({storageKey:"MultiplesMonsterLeaderboard",sortKey:e=>e.score,scoreColumns:[{name:"Time",getValue:e=>`${(e.timeMs/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}`},{name:"Score",getValue:e=>`${e.score}`}]}),c=e=>{var o;const[t,s]=(0,r.useState)({key:0,startTime:Date.now(),gameOverTime:void 0,score:0}),[l,c]=(0,r.useState)(u()),[m,p]=(0,r.useState)(null),y=(0,r.useRef)(l),g=i.useLeaderboard({getScore:()=>{var e;return{score:t.score,timeMs:(null!==(e=t.gameOverTime)&&void 0!==e?e:Date.now())-t.startTime}}}),F=e=>{const o=Object.assign({},y.current);o.player.position=e;let t=o.columns[o.player.position.col].cells[o.player.position.row];if("blank"===t.state&&(a.ProgressGameService.onCorrect(),s((e=>Object.assign(Object.assign({},e),{score:e.score+t.value})))),"house"===t.state){const e=u();return c(e),void v(e)}d(o),t=o.columns[o.player.position.col].cells[o.player.position.row],"monster"===t.state&&s((e=>Object.assign(Object.assign({},e),{gameOverTime:Date.now(),key:e.key+1}))),c(o),setTimeout((()=>{v(o)}),100)},v=e=>{const o=f(e,F);p(o)};return(0,r.useEffect)((()=>{v(l)}),[]),y.current=l,r.createElement(r.Fragment,null,r.createElement(n.G7,{style:{marginTop:50,marginBottom:150,padding:2,alignItems:"center"}},r.createElement(n.G7,{style:{width:292}},r.createElement(x,{gameScore:t}),r.createElement(w,{gameBoard:l,focus:null!==(o=l.player.position)&&void 0!==o?o:{col:0,row:0}}),m&&!t.gameOverTime&&r.createElement(b,{gameInput:m}),r.createElement(g.LeaderboardArea,{gameOver:!!t.gameOverTime,onScoreSaved:()=>{const e=u();s({key:0,startTime:Date.now(),gameOverTime:void 0,score:0}),c(e),v(e)}}))))},m=12,u=()=>{const e={key:0,maxTimes:m,columns:[...new Array(m)].map(((e,o)=>({col:o,cells:[...new Array(m)].map(((e,t)=>({col:o,row:t,value:(o+1)*(t+1),state:"blank"})))}))),player:{position:{col:(0,s.m0)(m),row:(0,s.m0)(m)}},house:{position:{col:(0,s.m0)(m),row:(0,s.m0)(m)}},monsters:[...new Array(3)].map((e=>({position:{col:(0,s.m0)(m),row:(0,s.m0)(m)}})))};for(;e.house.position.row===e.player.position.row;)e.house.position={col:(0,s.m0)(m),row:(0,s.m0)(m)};return e.monsters.forEach((o=>{const t=o;for(;t.position.row===e.player.position.row;)t.position={col:(0,s.m0)(m),row:(0,s.m0)(m)}})),p(e),e},d=e=>{p(e);const o=e.player;if(e.monsters.forEach((e=>{const t=e,r=o.position.col-t.position.col,n=o.position.row-t.position.row;Math.abs(r)>=Math.abs(n)?t.position=Object.assign(Object.assign({},t.position),{col:t.position.col+Math.sign(r)}):t.position=Object.assign(Object.assign({},t.position),{row:t.position.row+Math.sign(n)})})),Math.random()<.25){const o={position:{col:(0,s.m0)(m),row:(0,s.m0)(m)}};Math.random()<.5?Math.random()<.5?o.position.col=0:o.position.col=11:Math.random()<.5?o.position.row=0:o.position.row=11,e.monsters.push(o)}const t=e,r=[...e.monsters],n=r.filter((o=>"answer"===e.columns[o.position.col].cells[o.position.row].state)),l=r.filter((o=>"answer"!==e.columns[o.position.col].cells[o.position.row].state));n.forEach((e=>{t.columns[e.position.col].cells[e.position.row].state="blank"})),t.monsters=l,p(t)},p=e=>{e.columns.forEach((e=>e.cells.forEach((e=>{const o=e;"monster"===o.state&&(o.state="blank"),"player"===o.state&&(o.state="answer")})))),y(e,e.house.position,"house"),y(e,e.player.position,"player"),e.monsters.forEach((o=>{y(e,o.position,"monster")}))},y=(e,o,t)=>{const r=e;r.columns[o.col].cells[o.row].state=t,r.key+=1},g={cellView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.75)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellView:{width:24,height:24,borderWidth:1,borderColor:"#66FF66",borderLeftColor:"#FF66FF",borderRightColor:"#FF66FF",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12},cellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#333300"},focusCellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},w=({gameBoard:e,focus:o})=>r.createElement(r.Fragment,null,r.createElement(n.G7,{style:{flexDirection:"row"}},r.createElement(n.G7,{style:{flexDirection:"column-reverse"}},r.createElement(n.G7,{style:g.focusCellHeaderView},r.createElement(n.xv,{style:g.focusCellHeaderText},"x")),e.columns[0].cells.map((e=>r.createElement(n.G7,{key:e.row,style:o.row===e.row?g.focusCellHeaderView:g.cellHeaderView},r.createElement(n.xv,{style:o.row===e.row?g.focusCellHeaderText:g.cellHeaderText},`${e.row+1}`))))),e.columns.map((e=>r.createElement(n.G7,{key:e.col,style:{flexDirection:"column-reverse"}},r.createElement(n.G7,{style:o.col===e.col?g.focusCellHeaderView:g.cellHeaderView},r.createElement(n.xv,{style:o.col===e.col?g.focusCellHeaderText:g.cellHeaderText},`${e.col+1}`)),e.cells.map((t=>r.createElement(n.G7,{key:t.row,style:o.row>=t.row&&o.col>=e.col?g.focusCellView:g.cellView},r.createElement(n.xv,{style:g.cellText},(e=>"answer"===e.state?`${e.value}`:"player"===e.state?"\ud83d\ude00":"monster"===e.state?"\ud83d\udc80":"house"===e.state?"\ud83c\udfe0":"")(t)))))))))),f=(e,o)=>{var t,r,n,l;const{player:a}=e,i=[null===(t=e.columns[a.position.col+0])||void 0===t?void 0:t.cells[a.position.row+1],null===(r=e.columns[a.position.col+0])||void 0===r?void 0:r.cells[a.position.row-1],null===(n=e.columns[a.position.col+1])||void 0===n?void 0:n.cells[a.position.row+0],null===(l=e.columns[a.position.col-1])||void 0===l?void 0:l.cells[a.position.row+0]].filter((e=>e)),c=a.position.col===a.position.row,m=i.map((e=>({key:`${e.row} ${e.col}`,text:`${e.value}${c&&a.position.col===e.col?"\u2195":c&&a.position.row===e.row?"\u2194":""}`,onPress:()=>o(e)})));return{key:`${e.key}`,buttons:(0,s.TV)(m)}},F={outerContainer:{height:150},container:{flexDirection:"row",justifyContent:"space-around",margin:16},buttonView:{width:48,height:48,borderWidth:2,borderColor:"#6666FF",borderStyle:"solid",justifyContent:"center",alignItems:"center"},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FFFFFF"}},b=({gameInput:e})=>{const[o,t]=(0,r.useState)(0);return(0,r.useEffect)((()=>{t(100);const e=setInterval((()=>{t((e=>Math.max(0,e-1)))}),50);return()=>clearInterval(e)}),[e.key]),console.log("GameInput",{gameInput:e}),r.createElement(r.Fragment,null,r.createElement(n.G7,{style:F.outerContainer},r.createElement(n.G7,{style:[F.container,{transform:`translate(0px,${o}px)`}]},e.buttons.map((e=>r.createElement(n.Au,{key:e.key,onPress:e.onPress},r.createElement(n.G7,{style:F.buttonView},r.createElement(n.xv,{style:F.buttonText},e.text))))))))},v={container:{flex:1,alignItems:"center",margin:16},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FFFF00"},mistakesText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FF6666"}},x=({gameScore:e})=>{const[o,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("");return(0,r.useEffect)((()=>{const o=setInterval((()=>{if(l(`${e.score}`),e.gameOverTime){const o=e.gameOverTime-e.startTime;return void t((e=>`${(o/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})} seconds`))}const o=Date.now()-e.startTime;t((e=>`${(o/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})} seconds`))}),100);return()=>clearInterval(o)}),[e]),r.createElement(r.Fragment,null,r.createElement(n.G7,{style:v.container},r.createElement(n.G7,null,r.createElement(n.xv,{style:v.text},s))))}}}]);