"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{1569:function(e,t,o){o.d(t,{R:function(){return l}});var r=o(1738),n=o(6135);const l=e=>{const t={saveScore:(o,r)=>{const n=t.loadScore();n.push({name:o,score:r}),n.sort(((t,o)=>e.sortKey(t.score)<e.sortKey(o.score)?-1:1)),localStorage.setItem(e.storageKey,JSON.stringify(n))},loadScore:()=>{const t=localStorage.getItem(e.storageKey);if(!t)return[];const o=JSON.parse(t);return o.sort(((t,o)=>(e.sortKey(t.score)>e.sortKey(o.score)?-1:1)*(e.sortDescending?-1:1))),o}},o={container:{flex:1,alignItems:"center",margin:16},textInput:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#0000FF"},buttonView:{margin:4,padding:4,borderColor:"#FFFF00",borderStyle:"solid",borderWidth:1,borderRadius:4},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#FFFF00"}},l=e=>{const[t,l]=(0,r.useState)("");return r.createElement(n.G7,{style:o.container},r.createElement(n.oi,{style:o.textInput,value:t,onChange:l,placeholder:"Name",keyboardType:"default",autoCompleteType:"off"}),r.createElement(n.Au,{onPress:()=>!!t&&e.onSubmit(t),style:t?{}:{opacity:.5}},r.createElement(n.G7,{style:o.buttonView},r.createElement(n.xv,{style:o.buttonText},"Save Score"))))},a={container:{marginTop:16,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},scoreView:{flexDirection:"row",justifyContent:"space-around",padding:4,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},nameText:{flex:2,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFFFF",overflow:"hidden"},scoreText:{flex:1,textAlign:"right",fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},s=t=>r.createElement(n.G7,{style:a.container},r.createElement(n.G7,{style:a.scoreView},r.createElement(n.xv,{style:a.nameText},"Leaderboard"),e.scoreColumns.map((e=>r.createElement(n.xv,{key:e.name,style:a.scoreText})))),r.createElement(n.G7,{style:a.scoreView},r.createElement(n.xv,{style:a.nameText},"Name"),e.scoreColumns.map((e=>r.createElement(n.xv,{key:e.name,style:a.scoreText},e.name)))),t.scores.map((t=>r.createElement(n.G7,{style:a.scoreView},r.createElement(n.xv,{style:a.nameText},t.name),e.scoreColumns.map((e=>r.createElement(n.xv,{key:t.name,style:a.scoreText},e.getValue(t.score))))))));return{useLeaderboard:({getScore:e})=>{const[o,n]=(0,r.useState)({scores:t.loadScore()});return{LeaderboardArea:a=>r.createElement(r.Fragment,null,!!a.gameOver&&r.createElement(l,{onSubmit:o=>{t.saveScore(o,e()),n({scores:t.loadScore()}),a.onScoreSaved()}}),r.createElement(s,{scores:o.scores}))}}}}},4917:function(e,t,o){o.r(t),o.d(t,{EducationalGame_MultiplesCounting:function(){return c}});var r=o(1738),n=o(6135),l=o(9504),a=o(1569),s=o(6548);const i=(0,a.R)({storageKey:"MultiplesCountingLeaderboard",sortKey:e=>e.timeMs,sortDescending:!0,scoreColumns:[{name:"Time",getValue:e=>`${(e.timeMs/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}`},{name:"Mistakes",getValue:e=>`${e.mistakes}`}]}),c=e=>{var t;const[o,l]=(0,r.useState)({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),[a,c]=(0,r.useState)(m()),[u,y]=(0,r.useState)(null),b=(0,r.useRef)(a),C=i.useLeaderboard({getScore:()=>{var e;return{mistakes:o.mistakes,timeMs:(null!==(e=o.gameWonTime)&&void 0!==e?e:Date.now())-o.startTime}}}),x=()=>{l((e=>Object.assign(Object.assign({},e),{gameWonTime:Date.now(),key:e.key+1})))},p=e=>{s.ProgressGameService.onCorrect();const t=Object.assign({},b.current),o=t.columns.find((t=>t.multiple===e.multiple));o&&(o.maxTimesCorrect=e.times),c(t),setTimeout((()=>{E(t)}),100)},w=e=>{y((e=>Object.assign({},e))),l((e=>Object.assign(Object.assign({},e),{mistakes:e.mistakes+1,key:e.key+1})))},E=e=>{const t=g(e,x,p,w);y(t)};return(0,r.useEffect)((()=>{E(a)}),[]),b.current=a,r.createElement(r.Fragment,null,r.createElement(n.G7,{style:{marginTop:50,marginBottom:150,padding:2,alignItems:"center"}},r.createElement(n.G7,{style:{width:292}},r.createElement(F,{gameScore:o}),r.createElement(d,{gameBoard:a,focus:null!==(t=null===u||void 0===u?void 0:u.focus)&&void 0!==t?t:{multiple:0,times:0}}),u&&!o.gameWonTime&&r.createElement(f,{gameInput:u}),r.createElement(C.LeaderboardArea,{gameOver:!!o.gameWonTime,onScoreSaved:()=>{const e=m();l({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),c(e),E(e)}}))))},m=()=>({size:12,rows:[...new Array(12)].map(((e,t)=>({times:t+1}))),columns:[...new Array(12)].map(((e,t)=>({multiple:t+1,maxTimesCorrect:0})))}),u={cellView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.75)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellView:{width:24,height:24,borderWidth:1,borderColor:"#66FF66",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12},cellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#333300"},focusCellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},d=({gameBoard:e,focus:t})=>{const[o,l]=(0,r.useState)(0);(0,r.useEffect)((()=>{l(0);const e=setInterval((()=>{l((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]);const a=()=>o%5===0?"row":o%5===1?"col":"both",s=()=>{const e=a();return"both"===e?{borderLeftColor:u.focusCellView.borderColor,borderRightColor:u.focusCellView.borderColor,borderTopColor:u.focusCellView.borderColor,borderBottomColor:u.focusCellView.borderColor}:{borderLeftColor:e.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderRightColor:e.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderTopColor:e.includes("row")?"#000000":"rgba(0,0,0,0.15)",borderBottomColor:e.includes("row")?"#000000":"rgba(0,0,0,0.15)"}};return r.createElement(r.Fragment,null,r.createElement(n.G7,{style:{flexDirection:"row"}},r.createElement(n.G7,{style:{flexDirection:"column-reverse"}},r.createElement(n.G7,{style:u.focusCellHeaderView},r.createElement(n.xv,{style:u.focusCellHeaderText},"x")),e.rows.map((e=>r.createElement(n.G7,{key:e.times,style:t.times===e.times?u.focusCellHeaderView:u.cellHeaderView},r.createElement(n.xv,{style:t.times===e.times?u.focusCellHeaderText:u.cellHeaderText},`${e.times}`))))),e.columns.map((o=>r.createElement(n.G7,{key:o.multiple,style:{flexDirection:"column-reverse"}},r.createElement(n.G7,{style:t.multiple===o.multiple?u.focusCellHeaderView:u.cellHeaderView},r.createElement(n.xv,{style:t.multiple===o.multiple?u.focusCellHeaderText:u.cellHeaderText},`${o.multiple}`)),e.rows.map((e=>{return r.createElement(n.G7,{key:e.times,style:t.times>=e.times&&t.multiple>=o.multiple?[u.focusCellView,s()]:u.cellView},o.maxTimesCorrect>=e.times?r.createElement(n.xv,{style:u.cellText},""+(l=o.multiple,i=e.times,"both"===a()?""+l*i:"")):r.createElement(n.xv,{style:u.cellText}));var l,i})))))))},g=(e,t,o,r)=>{const n=e.columns.filter((t=>t.maxTimesCorrect<e.size))[0];if(!n)return t(),{key:"",focus:{multiple:0,times:0},buttons:[]};const a=n.multiple,s=n.maxTimesCorrect+1,i=a*s,c=(0,l.EB)([...new Array(100)].map((()=>Math.round(a+1-2*Math.random())*Math.round(s+1-2*Math.random())+Math.round(2-4*Math.random()))).filter((e=>e!==i)).filter((e=>e>0))).slice(0,4),m=(0,l.TV)([i,...c]),u=m.map((e=>({value:e,text:`${e}`,onPress:()=>(e=>{if(e===i)return void o({multiple:a,times:s});const t=u.find((t=>t.value===e));t&&(t.wasAnsweredWrong=!0,r({multiple:a,times:s}))})(e),wasAnsweredWrong:!1})));return{key:`${a}*${s}`,focus:{multiple:a,times:s},buttons:u}},y={outerContainer:{height:150},container:{flexDirection:"row",justifyContent:"space-around",margin:16},buttonView:{width:48,height:48,borderWidth:2,borderColor:"#6666FF",borderStyle:"solid",justifyContent:"center",alignItems:"center"},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FFFFFF"},buttonText_wrong:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FF6666"}},f=({gameInput:e})=>{const[t,o]=(0,r.useState)(0);return(0,r.useEffect)((()=>{o(100);const e=setInterval((()=>{o((e=>Math.max(0,e-1)))}),50);return()=>clearInterval(e)}),[e.key]),r.createElement(r.Fragment,null,r.createElement(n.G7,{style:y.outerContainer},r.createElement(n.G7,{style:[y.container,{transform:`translate(0px,${t}px)`}]},e.buttons.map((t=>r.createElement(n.Au,{key:t.text+e.key,onPress:t.wasAnsweredWrong?()=>{}:t.onPress},r.createElement(n.G7,{style:y.buttonView},r.createElement(n.xv,{style:t.wasAnsweredWrong?y.buttonText_wrong:y.buttonText},t.text))))))))},b={container:{flex:1,alignItems:"center",margin:16},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FFFF00"},mistakesText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FF6666"}},F=({gameScore:e})=>{const[t,o]=(0,r.useState)(""),[l,a]=(0,r.useState)("");return(0,r.useEffect)((()=>{const t=setInterval((()=>{var t;if(a(e.mistakes?`${null!==(t=e.mistakes)&&void 0!==t?t:0} Mistakes`:""),e.gameWonTime){const t=e.gameWonTime-e.startTime;return void o((e=>`${(t/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})} seconds`))}const r=Date.now()-e.startTime;o((e=>`${(r/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})} seconds`))}),100);return()=>clearInterval(t)}),[e]),r.createElement(r.Fragment,null,r.createElement(n.G7,{style:b.container},r.createElement(n.G7,null,r.createElement(n.xv,{style:b.text},t)),r.createElement(n.G7,null,r.createElement(n.xv,{style:b.mistakesText},l))))}}}]);