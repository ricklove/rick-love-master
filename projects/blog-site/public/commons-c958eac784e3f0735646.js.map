{"version":3,"sources":["webpack:///D:/Projects/rick-love-master/code/utils/objects.ts","webpack:///D:/Projects/rick-love-master/node_modules/core-js/modules/es6.reflect.construct.js","webpack:///D:/Projects/rick-love-master/code/utils/random.ts","webpack:///D:/Projects/rick-love-master/node_modules/core-js/modules/_parse-float.js","webpack:///D:/Projects/rick-love-master/code/utils/email-address.ts","webpack:///D:/Projects/rick-love-master/node_modules/core-js/modules/es6.number.parse-float.js","webpack:///D:/Projects/rick-love-master/node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack:///D:/Projects/rick-love-master/code/utils/phone-number.ts","webpack:///D:/Projects/rick-love-master/node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack:///D:/Projects/rick-love-master/code/payments/common/types.ts","webpack:///D:/Projects/rick-love-master/code/payments/common/process-steps.ts","webpack:///D:/Projects/rick-love-master/code/payments/providers/stripe/common/stripe-process-steps.ts","webpack:///D:/Projects/rick-love-master/code/payments/providers/stripe/client/stripe-payment-react.tsx","webpack:///D:/Projects/rick-love-master/code/payments/providers/stripe/client/stripe-client-tokens.ts","webpack:///D:/Projects/rick-love-master/node_modules/react-icons/lib/esm/iconsManifest.js","webpack:///D:/Projects/rick-love-master/node_modules/react-icons/lib/esm/iconContext.js","webpack:///D:/Projects/rick-love-master/node_modules/react-icons/lib/esm/iconBase.js","webpack:///D:/Projects/rick-love-master/code/react-native-lite/index.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/icon-kind.ts","webpack:///D:/Projects/rick-love-master/code/utils/json.ts","webpack:///D:/Projects/rick-love-master/code/controls-react/icon.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/error-box.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/button.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/index.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/loading.tsx","webpack:///D:/Projects/rick-love-master/code/controls-react/inputs.tsx","webpack:///D:/Projects/rick-love-master/code/utils/delay.ts","webpack:///D:/Projects/rick-love-master/code/themes/theme.ts","webpack:///D:/Projects/rick-love-master/code/utils/arrays.ts","webpack:///D:/Projects/rick-love-master/code/utils-react/hooks.tsx","webpack:///D:/Projects/rick-love-master/code/games/console-simulator/utils.ts"],"names":["getValuesAsItems","obj","Object","keys","map","k","filter","x","toKeyValueObject","items","v","forEach","key","value","toMap","Map","$export","create","aFunction","anObject","isObject","fails","bind","rConstruct","Reflect","construct","NEW_TARGET_BUG","F","ARGS_BUG","S","Target","args","newTarget","arguments","length","$args","push","apply","proto","prototype","instance","result","Function","call","randomIndex","Math","floor","random","randomItem","$parseFloat","parseFloat","$trim","trim","module","exports","Infinity","str","string","String","charAt","toEmailAddress","email","Number","React","_typeof","Symbol","iterator","constructor","_objectWithoutProperties","source","excluded","i","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","emptyFunction","emptyFunctionWithReset","hasOwnProperty","resetWarningCache","propTypes","fn","createCommonjsModule","shim","props","propName","componentName","location","propFullName","secret","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","isUnknownObject","raw","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","every","usePrevious","ref","useRef","useEffect","current","validateStripe","maybeStripe","elements","createToken","createPaymentMethod","confirmCardPayment","parseStripeProp","then","isPromise","tag","stripePromise","Promise","resolve","stripe","ElementsContext","createContext","displayName","useElementsContextWithUseCase","useCaseMessage","ctx","useCase","concat","parseElementsContext","useContext","ElementsConsumer","_ref2","children","useCallbackReference","cb","extractUpdateableOptions","options","paymentRequest","noop","createElementComponent","type","isServer","toUpperCase","slice","Element","id","className","createElement","_ref","_ref$options","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$onReady","onReady","_ref$onChange","onChange","_ref$onEscape","onEscape","_ref$onClick","onClick","elementRef","domNode","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","useLayoutEffect","mount","on","prevOptions","console","warn","updateableOptions","update","destroy","__elementType","window","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","PaymentRequestButtonElement","Elements","rawStripeProp","_final","isMounted","parsed","useMemo","_React$useState2","useState","setContext","prevStripe","anyStripe","_registerWrapper","version","Provider","useElements","useStripe","defineProperty","factory","formatPhoneNumber_UsaCanada","text","phoneNumberMask_UsaCanada","corrected","toStandardPhoneNumber","digitsNo1","digits","replace","split","letters","iDigit","iLast","full","join","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","loadScript","params","reject","Stripe","script","scripts","document","querySelectorAll","test","src","findScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","injectScript","addEventListener","error","initStripe","registerWrapper","stripePromise$1","loadCalled","ProcessSteps_CreateSavedPaymentMethod","PaymentError","message","data","ProcessSteps_CreateSavedPaymentMethod_Stripe","_02_Server_SetupSavedPaymentMethod","_03_Client_CollectPaymentDetails","_04_Server_ObtainPaymentMethod","logProcessStep_CreateSavedPaymentMethod_Stripe","step","status","log","wrapProcessStep_CreateSavedPaymentMethod_Stripe","execute","a","createPaymentClientComponents_stripe","_len","_key","loadStripe","stripePublicKey","AppWrapperComponent","PaymentMethodEntryComponent","style","paymentMethodSetupToken","onPaymentMethodReady","stripeError","setStripeError","handleSubmit","event","preventDefault","_03A_Client_CollectPaymentDetails","setupInfo","stripeDecodeClientSetupToken","confirmCardSetup","clientSecret","payment_method","card","getElement","billing_details","customerBillingDetails","setupIntent","stripeEncodeClientToken","s","inputStyle","base","color","textColor","fontSize","fontFamily","fontSmoothing","opacity","invalid","textColor_invalid","iconColor","inputContainerStyle","marginBottom","elementPadding","padding","textPadding","backgroundColor","borderWidth","borderStyle","borderColor","borderRadius","buttonStyle","fontWeight","buttonJustifyContent","buttonAlignment","errorContainerStyle","errorMessageStyle","onSubmit","display","flexDirection","justifyContent","disabled","buttonText","stripeEncodeClientSetupToken","DefaultContext","size","attr","IconContext","__assign","assign","t","n","p","this","__rest","e","GenIcon","IconBase","Tree2Element","tree","child","elem","conf","computedSize","title","svgProps","stroke","fill","strokeWidth","height","width","xmlns","Consumer","mergeStyles","item","IconKind","viewStyleDefaults","textStyleDefaults","whiteSpace","View","Text","numberOfLines","overflow","wordWrap","textOverflow","TextInput","keyboardType","secureTextEntry","autoCompleteType","onKeyPress","onSubmitEditing","shiftKey","placeholder","editable","TouchableOpacity","lastPressTime","onPress","Date","now","onTouchStart","role","tabIndex","ActivityIndicator","sizePx","thickness","CircleSvg","dashLength","PI","maxWidth","viewBox","cx","cy","strokeDasharray","transformOrigin","Clipboard","setString","navigator","clipboard","writeText","jsonStringify_safe","shouldFormat","visited","JSON","stringify","_","val","includes","Icon","icon","kind","menu","component","MdMenu","back","MdArrowBack","MdErrorOutline","expanded","FiChevronDown","collapsed","FiChevronRight","copy","MdContentCopy","retry","FaRedo","dashboard","MdDashboard","add","FaPlus","remove","FaMinus","eye","FaEye","eyeSlash","FaEyeSlash","MdCheckBoxOutlineBlank","getIcon","IconComponent","theme","sizes","errorBoxStyle","view","view_error","text_error","text_errorMessage","icon_errorMessage","button","outlineColor","colors","outline","ErrorBox_Inner","setExpanded","errorAsString","errorMessage","errorDetails","errorObjText","canExpand","flex","alignItems","paddingRight","paddingLeft","retryCallback","Button","styleAlt","button_formAction_alt","button_formAction","extractViewStyle","extractTextStyle","C","Loading","loading","loader","LoadingInline","ErrorBox","ErrorMessage","View_Panel","view_panel","View_Form","view_form","View_FormFields","view_formFields","View_FieldRow","view_fieldRow","View_FormActionRow","view_formActionRow","Text_FormTitle","text_formTitle","Text_FieldLabel","text_fieldLabel","Button_FieldInline","button_fieldInline_alt","button_fieldInline","Button_FormAction","Input_Text","input_fieldEntry","Input_Username","Input_Password","showPassword","setShowPassword","marginRight","Input_Phone","valueActual","setValueActual","Input_Email","Input_Currency","delay","timeout","setTimeout","background","margin","marginLeft","marginTop","paddingTop","paddingBottom","minWidth","lineHeight","getBorderSizes","all","borderLeftWidth","borderRightWidth","borderTopWidth","top","borderBottomWidth","bottom","basicThemeSizes","borderWidth_minor","borderWidth_input","sectionGap","elementGap","rowGap","rowPadding","fontSize_input","fontSize_button","fontSize_header","minWidth_label","minWidth_input","minWidth_button","basicFont","fontWeight_normal","fontWeight_button","fontWeight_header","createTheme","font","borderProps","border","borderProps_minor","border_minor","borderProps_input","border_input","sTextView","text_header","background_field","flexWrap","background_button","text_button","background_error","purpleThemeColors","purpleSizes","moveItem","to","splice","sameArrayContents","b","useAutoLoadingError","mounted","useMounted","loadingError","setLoadingError","doWork","doWorkInner","getContext","contextInit","stopIfObsolete","c","doCall","randomBinary","fromCharCode"],"mappings":"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","file":"commons-c958eac784e3f0735646.js","sourcesContent":["export const getValuesAsItems = <T>(obj: T) => {\r\n    return Object.keys(obj).map(k => k as keyof typeof obj).map(k => obj[k]).filter(x => x);\r\n};\r\n\r\nexport const toKeyValueObject = <T>(items: { key: string, value: T }[]): { [key: string]: T } => {\r\n    const v = {} as { [key: string]: T };\r\n    items.forEach(x => { v[x.key] = x.value; });\r\n    return v;\r\n};\r\n\r\nexport const toMap = <T>(items: { key: string, value: T }[]): Map<string, T> => {\r\n    const v = new Map(items.map(x => [x.key, x.value]));\r\n    return v;\r\n};\r\n\r\nexport const toKeyValueArray = <T>(obj: { [key: string]: T }): { key: string, value: T }[] => {\r\n    return Object.keys(obj).map(k => k as keyof typeof obj).map(k => ({ key: k as string, value: obj[k] }));\r\n};\r\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","export const randomIndex = (length: number) => {\r\n    const x = Math.floor(length * Math.random());\r\n    return x >= length ? length - 1 : x;\r\n};\r\nexport const randomItem = <T>(items: T[]) => items[randomIndex(items.length)];\r\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","\r\nexport type EmailAddress = string & { __type: 'email' };\r\nexport const toEmailAddress = (email: string): EmailAddress => {\r\n    return email.trim() as EmailAddress;\r\n};\r\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","require(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) : (global = global || self, factory(global.ReactStripe = {}, global.React));\n})(this, function (exports, React) {\n  'use strict';\n\n  React = React && React.hasOwnProperty('default') ? React['default'] : React;\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n      return;\n    }\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function factoryWithThrowingShims() {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    } // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n    /**\n     * Copyright (c) 2013-present, Facebook, Inc.\n     *\n     * This source code is licensed under the MIT license found in the\n     * LICENSE file in the root directory of this source tree.\n     */\n    {\n      // By explicitly using `prop-types` you are opting into new production behavior.\n      // http://fb.me/prop-types-in-prod\n      module.exports = factoryWithThrowingShims();\n    }\n  });\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false;\n    if (!leftPlainObject && !leftArray) return false;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(INVALID_STRIPE_ERROR);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(validateStripe)\n      };\n    }\n\n    var stripe = validateStripe(raw);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var ElementsContext = React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n\n    var _final = React.useRef(false);\n\n    var isMounted = React.useRef(true);\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]);\n\n    var _React$useState = React.useState(function () {\n      return {\n        stripe: null,\n        elements: null\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    var prevStripe = usePrevious(rawStripeProp);\n    var prevOptions = usePrevious(options);\n\n    if (prevStripe !== null) {\n      if (prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n\n      if (!isEqual(options, prevOptions)) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.');\n      }\n    }\n\n    if (!_final.current) {\n      if (parsed.tag === 'sync') {\n        _final.current = true;\n        setContext({\n          stripe: parsed.stripe,\n          elements: parsed.stripe.elements(options)\n        });\n      }\n\n      if (parsed.tag === 'async') {\n        _final.current = true;\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted.current) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            setContext({\n              stripe: stripe,\n              elements: stripe.elements(options)\n            });\n          }\n        });\n      }\n    }\n\n    React.useEffect(function () {\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    React.useEffect(function () {\n      var anyStripe = ctx.stripe;\n\n      if (!anyStripe || !anyStripe._registerWrapper) {\n        return;\n      }\n\n      anyStripe._registerWrapper({\n        name: 'react-stripe-js',\n        version: \"1.1.2\"\n      });\n    }, [ctx.stripe]);\n    return React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, children);\n  };\n\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n\n  var useStripe = function useStripe() {\n    var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsContextWi2.stripe;\n\n    return stripe;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n\n  ElementsConsumer.propTypes = {\n    children: propTypes.func.isRequired\n  };\n\n  var useCallbackReference = function useCallbackReference(cb) {\n    var ref = React.useRef(cb);\n    React.useEffect(function () {\n      ref.current = cb;\n    }, [cb]);\n    return function () {\n      if (ref.current) {\n        ref.current.apply(ref, arguments);\n      }\n    };\n  };\n\n  var extractUpdateableOptions = function extractUpdateableOptions(options) {\n    if (!isUnknownObject(options)) {\n      return {};\n    }\n\n    var _ = options.paymentRequest,\n        rest = _objectWithoutProperties(options, [\"paymentRequest\"]);\n\n    return rest;\n  };\n\n  var noop = function noop() {};\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          _ref$onBlur = _ref.onBlur,\n          onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n          _ref$onFocus = _ref.onFocus,\n          onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n          _ref$onReady = _ref.onReady,\n          onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n          _ref$onChange = _ref.onChange,\n          onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n          _ref$onEscape = _ref.onEscape,\n          onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n          _ref$onClick = _ref.onClick,\n          onClick = _ref$onClick === void 0 ? noop : _ref$onClick;\n\n      var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n          elements = _useElementsContextWi.elements;\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null);\n      var callOnReady = useCallbackReference(onReady);\n      var callOnBlur = useCallbackReference(onBlur);\n      var callOnFocus = useCallbackReference(onFocus);\n      var callOnClick = useCallbackReference(onClick);\n      var callOnChange = useCallbackReference(onChange);\n      var callOnEscape = useCallbackReference(onEscape);\n      React.useLayoutEffect(function () {\n        if (elementRef.current == null && elements && domNode.current != null) {\n          var element = elements.create(type, options);\n          elementRef.current = element;\n          element.mount(domNode.current);\n          element.on('ready', function () {\n            return callOnReady(element);\n          });\n          element.on('change', callOnChange);\n          element.on('blur', callOnBlur);\n          element.on('focus', callOnFocus);\n          element.on('escape', callOnEscape); // Users can pass an an onClick prop on any Element component\n          // just as they could listen for the `click` event on any Element,\n          // but only the PaymentRequestButton will actually trigger the event.\n\n          element.on('click', callOnClick);\n        }\n      });\n      var prevOptions = React.useRef(options);\n      React.useEffect(function () {\n        if (prevOptions.current && prevOptions.current.paymentRequest !== options.paymentRequest) {\n          console.warn('Unsupported prop change: options.paymentRequest is not a customizable property.');\n        }\n\n        var updateableOptions = extractUpdateableOptions(options);\n\n        if (Object.keys(updateableOptions).length !== 0 && !isEqual(updateableOptions, extractUpdateableOptions(prevOptions.current))) {\n          if (elementRef.current) {\n            elementRef.current.update(updateableOptions);\n            prevOptions.current = options;\n          }\n        }\n      }, [options]);\n      React.useEffect(function () {\n        return function () {\n          if (elementRef.current) {\n            elementRef.current.destroy();\n          }\n        };\n      }, []);\n      return React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      // Validate that we are in the right context by calling useElementsContextWithUseCase.\n      useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var id = props.id,\n          className = props.className;\n      return React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: propTypes.string,\n      className: propTypes.string,\n      onChange: propTypes.func,\n      onBlur: propTypes.func,\n      onFocus: propTypes.func,\n      onReady: propTypes.func,\n      onClick: propTypes.func,\n      options: propTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","export type PhoneNumber = string & { __type: 'PhoneNumber', format: '+19785551234' };\r\nexport type PhoneNumberFormatted = string & { __type: 'PhoneNumber', format: '(###) ###-####' };\r\n\r\nexport function formatPhoneNumber_UsaCanada(text: string): PhoneNumberFormatted {\r\n    return phoneNumberMask_UsaCanada(text).corrected as PhoneNumberFormatted;\r\n}\r\n\r\nexport function toStandardPhoneNumber(text: string): PhoneNumber {\r\n    return `+1${phoneNumberMask_UsaCanada(text).digitsNo1}` as PhoneNumber;\r\n}\r\n\r\nexport function toStandardPhoneNumber_optional(text: string | null | undefined): PhoneNumber | undefined {\r\n    if (!text) { return undefined; }\r\n    return `+1${phoneNumberMask_UsaCanada(text).digitsNo1}` as PhoneNumber;\r\n}\r\n\r\nexport function phoneNumberMask_UsaCanada(x: string | null | undefined) {\r\n    const numberMask = `(###) ###-####`;\r\n    const digits = x\r\n        ?.replace(/^(\\+1|1)/, ``)\r\n        .replace(/\\D/g, ``)\r\n        .split(``) ?? [];\r\n    const letters = numberMask.split(``);\r\n    let iDigit = 0;\r\n    let iLast = -1;\r\n    for (let i = 0; i < letters.length; i++) {\r\n        if (letters[i] === `#` && iDigit < digits.length) {\r\n            letters[i] = digits[iDigit];\r\n            iDigit++;\r\n            iLast = i;\r\n        }\r\n    }\r\n    const full = letters.join(``);\r\n    const corrected = letters.slice(0, iLast + 1).join(``);\r\n    return { corrected, full, digitsNo1: digits.join(``) };\r\n}\r\n","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.5.0\"\n  });\n};\n\nvar stripePromise = null;\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\n\nvar initStripe = function initStripe(maybeStripe, args) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(void 0, _toConsumableArray(args));\n  registerWrapper(stripe);\n  return stripe;\n}; // own script injection.\n\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\n\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args);\n  });\n};\n\nexport { loadStripe };","/** This token is used to identify a specific app user with the user's id in the provider's context (i.e. customer id) */\r\nexport type PaymentProviderUserToken = unknown & { __type: 'PaymentProviderUserToken' };\r\n/** This token is used to identify the client as it negotiates directly with the provider to enter payment method data */\r\nexport type PaymentProviderSavedPaymentMethodClientSetupToken = unknown & { __type: 'PaymentProviderSavedPaymentMethodClientSetupToken' };\r\n/** This token is used to identify the payment method obtained on the client from the provider */\r\nexport type PaymentProviderSavedPaymentMethodClientToken = unknown & { __type: 'PaymentProviderSavedPaymentMethodClientToken' };\r\n/** This token is used to identify the payment method long term after being verified by the provider on the server */\r\nexport type PaymentProviderSavedPaymentMethodStorageToken = unknown & { __type: 'PaymentProviderSavedPaymentMethodStorageToken' };\r\n\r\n/** PaymentProviderName identifies the payment provider and it's implementation (i.e. stripe, paypal, etc.) */\r\nexport type PaymentProviderName = string & { __type: 'PaymentProviderName' };\r\n\r\n/** PaymentMethodStorageKey is the auto generated storage key to uniquely identify a stored payment method */\r\nexport type PaymentMethodStorageKey = string & { __type: 'PaymentMethodStorageKey' };\r\n\r\nexport type PaymentMethodExpiration = {\r\n    year: number;\r\n    month: number;\r\n};\r\nexport type PaymentMethodClientInfo = {\r\n    key: PaymentMethodStorageKey;\r\n    providerName: PaymentProviderName;\r\n    title: string;\r\n    expiration: PaymentMethodExpiration;\r\n};\r\n\r\nexport type PaymentAmount = { currency: 'usd', usdCents: number };\r\n\r\nexport type PaymentTransaction = {\r\n    providerName: PaymentProviderName;\r\n    created: Date;\r\n    amount: PaymentAmount;\r\n    status: 'success' | 'incomplete' | 'terminated';\r\n}\r\n\r\n/** Payment Client to Server Calls\r\n * \r\n * These are the calls made on the client to the server, it supports multiple payment provider types\r\n * \r\n * Note: this is scoped to the user associated with the client\r\n */\r\nexport type PaymentClientApi = {\r\n    // Normal Flow\r\n    setupSavedPaymentMethod: (params: { providerName: PaymentProviderName }) => Promise<PaymentProviderSavedPaymentMethodClientSetupToken>;\r\n    saveSavedPaymentMethod: (params: { providerName: PaymentProviderName, paymentMethodClientToken: PaymentProviderSavedPaymentMethodClientToken }) => Promise<void>;\r\n\r\n    // Management of Payment Methods\r\n    getSavedPaymentMethods: () => Promise<PaymentMethodClientInfo[]>;\r\n    deleteSavedPaymentMethod: (params: { key: PaymentMethodStorageKey }) => Promise<void>;\r\n\r\n    // Management of Payments\r\n    debug_triggerPayment: (params: { amount: PaymentAmount }) => Promise<void>;\r\n    getPayments: () => Promise<PaymentTransaction[]>;\r\n    // getPaymentsRequiringUserAction: () => Promise<PaymentTransaction[]>;\r\n}\r\n\r\n\r\n/** Payment Server to Server Calls\r\n * \r\n * These are the calls intended to be used server-side to process payments\r\n * \r\n */\r\nexport type PaymentServerApi = {\r\n    /** This will use the payment methods in order until one succeeds */\r\n    chargeUsingSavedPaymentMethods: (params: { amount: PaymentAmount }) => Promise<void>;\r\n}\r\n\r\n/** Payment Server to Payment Provider Api Calls\r\n * \r\n * This wraps the provider-specific server code\r\n */\r\nexport type PaymentProviderApi = {\r\n    providerName: PaymentProviderName;\r\n    setupSavedPaymentMethod: (userToken: PaymentProviderUserToken | null) => Promise<{\r\n        newUserToken?: PaymentProviderUserToken;\r\n        setupToken: PaymentProviderSavedPaymentMethodClientSetupToken;\r\n    }>;\r\n    obtainSavedPaymentMethod: (userToken: PaymentProviderUserToken, clientToken: PaymentProviderSavedPaymentMethodClientToken) => Promise<{\r\n        token: PaymentProviderSavedPaymentMethodStorageToken;\r\n        title: string;\r\n        expiration: PaymentMethodExpiration;\r\n    }>;\r\n    chargeSavedPaymentMethod: (userToken: PaymentProviderUserToken, token: PaymentProviderSavedPaymentMethodStorageToken, amount: PaymentAmount) => Promise<void>;\r\n\r\n    getPayments: (userToken: PaymentProviderUserToken) => Promise<PaymentTransaction[]>;\r\n}\r\n\r\n/** Payment Server Dependencies */\r\nexport type PaymentMethodStorageData = {\r\n    /** Key should be auto-generated by storage provider */\r\n    key: PaymentMethodStorageKey;\r\n    title: string;\r\n    expiration: PaymentMethodExpiration;\r\n    providerName: PaymentProviderName;\r\n    paymentMethodStorageToken: PaymentProviderSavedPaymentMethodStorageToken;\r\n};\r\n\r\nexport type PaymentUserTokenData = {\r\n    providerName: PaymentProviderName;\r\n    userToken: PaymentProviderUserToken;\r\n};\r\n\r\nexport type PaymentStorageProviderApi = {\r\n    getUserToken: (params: { providerName: PaymentProviderName }) => Promise<PaymentUserTokenData | null>;\r\n    setUserToken: (params: PaymentUserTokenData) => Promise<void>;\r\n\r\n    savePaymentMethod: (params: Omit<PaymentMethodStorageData, 'key'>) => Promise<void>;\r\n    /** Return all saved payment methods - In the order that they were created */\r\n    getSavedPaymentMethods: () => Promise<PaymentMethodStorageData[]>;\r\n    deleteSavedPaymentMethod: (params: { key: PaymentMethodStorageKey }) => Promise<void>;\r\n}\r\n\r\nexport class PaymentError extends Error {\r\n    constructor(public message: string, public data?: unknown) { super(); }\r\n}\r\n","\r\nexport enum ProcessSteps_CreateSavedPaymentMethod {\r\n    _01_Client_BeginCreateSavedPaymentMethod = 100,\r\n    _02_Server_SetupSavedPaymentMethod = 200,\r\n    _03_Client_CollectPaymentDetails = 300,\r\n    _04_Server_ObtainPaymentMethod = 400,\r\n    _05_Server_SavePaymentMethod = 500,\r\n};\r\n\r\nexport const logProcessStep_CreateSavedPaymentMethod = (step: ProcessSteps_CreateSavedPaymentMethod, status?: 'BEGIN' | 'END' | 'FAIL', data?: unknown) => {\r\n    // TODO: Implement Universal Logger\r\n\r\n    // eslint-disable-next-line no-console\r\n    console.log(`CreateSavedPaymentMethod: ${ProcessSteps_CreateSavedPaymentMethod[step]} ${status}`, data);\r\n};\r\n\r\nexport const wrapProcessStep_CreateSavedPaymentMethod = async <TResult>(step: ProcessSteps_CreateSavedPaymentMethod, execute: () => Promise<TResult>): Promise<TResult> => {\r\n    try {\r\n        logProcessStep_CreateSavedPaymentMethod(step, `BEGIN`);\r\n\r\n        const result = await execute();\r\n        logProcessStep_CreateSavedPaymentMethod(step, `END`);\r\n        return result;\r\n    } catch (error) {\r\n        logProcessStep_CreateSavedPaymentMethod(step, `FAIL`, { error });\r\n        throw error;\r\n    }\r\n};\r\n","/* eslint-disable @typescript-eslint/quotes */\r\n/* eslint-disable prefer-template */\r\nimport { ProcessSteps_CreateSavedPaymentMethod } from '../../../common/process-steps';\r\n\r\n// Saved Payments: https://stripe.com/docs/payments/save-and-reuse\r\nexport enum ProcessSteps_CreateSavedPaymentMethod_Stripe {\r\n    _02A_Server_GetOrCreateCustomer = ProcessSteps_CreateSavedPaymentMethod._02_Server_SetupSavedPaymentMethod + 1,\r\n    _02B_Server_CreateSetupIntent = ProcessSteps_CreateSavedPaymentMethod._02_Server_SetupSavedPaymentMethod + 2,\r\n    _03A_Client_CollectPaymentDetails = ProcessSteps_CreateSavedPaymentMethod._03_Client_CollectPaymentDetails + 1,\r\n    _04A_Server_ObtainPaymentMethod = ProcessSteps_CreateSavedPaymentMethod._04_Server_ObtainPaymentMethod + 1,\r\n    _04B_Server_ObtainPaymentMethodDetails = ProcessSteps_CreateSavedPaymentMethod._04_Server_ObtainPaymentMethod + 2,\r\n};\r\n\r\nexport const logProcessStep_CreateSavedPaymentMethod_Stripe = (step: ProcessSteps_CreateSavedPaymentMethod_Stripe, status?: 'BEGIN' | 'END' | 'FAIL', data?: unknown) => {\r\n    // TODO: Implement Universal Logger\r\n\r\n    // eslint-disable-next-line no-console\r\n    console.log(`CreateSavedPaymentMethod_Stripe: ${ProcessSteps_CreateSavedPaymentMethod_Stripe[step]} ${status}`, data);\r\n};\r\n\r\nexport const wrapProcessStep_CreateSavedPaymentMethod_Stripe = async <TResult>(step: ProcessSteps_CreateSavedPaymentMethod_Stripe, execute: () => Promise<TResult>): Promise<TResult> => {\r\n    try {\r\n        logProcessStep_CreateSavedPaymentMethod_Stripe(step, `BEGIN`);\r\n\r\n        const result = await execute();\r\n        logProcessStep_CreateSavedPaymentMethod_Stripe(step, `END`);\r\n        return result;\r\n    } catch (error) {\r\n        logProcessStep_CreateSavedPaymentMethod_Stripe(step, `FAIL`, { error });\r\n        throw error;\r\n    }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport { loadStripe, PaymentMethod, PaymentMethodCreateParams } from '@stripe/stripe-js';\r\nimport { PaymentClientComponents } from '../../../common/types-react';\r\nimport { PaymentError } from '../../../common/types';\r\nimport { stripeDecodeClientSetupToken, stripeEncodeClientToken } from './stripe-client-tokens';\r\nimport { wrapProcessStep_CreateSavedPaymentMethod_Stripe, ProcessSteps_CreateSavedPaymentMethod_Stripe } from '../common/stripe-process-steps';\r\n\r\nexport const createPaymentClientComponents_stripe = (params: { stripePublicKey: string }): PaymentClientComponents => {\r\n\r\n    const stripePromise = loadStripe(params.stripePublicKey);\r\n\r\n    const components: PaymentClientComponents = {\r\n        AppWrapperComponent: ({ children }) => (<Elements stripe={stripePromise}>{children}</Elements>),\r\n        PaymentMethodEntryComponent: ({ style, paymentMethodSetupToken, onPaymentMethodReady }) => {\r\n            const stripe = useStripe();\r\n            const elements = useElements();\r\n\r\n            const [stripeError, setStripeError] = useState(null as null | { message: string, error: unknown });\r\n\r\n            const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n                event.preventDefault();\r\n                if (!stripe || !elements) { return; }\r\n\r\n                try {\r\n                    // Completed SetupIntent -> Used to get PaymentMethod\r\n                    const setupIntent = await wrapProcessStep_CreateSavedPaymentMethod_Stripe(\r\n                        ProcessSteps_CreateSavedPaymentMethod_Stripe._03A_Client_CollectPaymentDetails,\r\n                        async () => {\r\n\r\n                            const setupInfo = stripeDecodeClientSetupToken(paymentMethodSetupToken);\r\n\r\n                            const result = await stripe.confirmCardSetup(setupInfo.clientSecret, {\r\n                                payment_method: {\r\n                                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                                    card: elements.getElement(CardElement)!,\r\n                                    billing_details: setupInfo.customerBillingDetails,\r\n                                },\r\n                            });\r\n\r\n                            if (result.error || !result.setupIntent) {\r\n                                throw new PaymentError(`Stripe Payment Error`, result.error);\r\n                            }\r\n\r\n                            return result.setupIntent;\r\n                        });\r\n                    if (!setupIntent) { return; }\r\n\r\n                    onPaymentMethodReady(stripeEncodeClientToken({ setupIntent }));\r\n                } catch (error) {\r\n                    setStripeError({ message: `Stripe Payment Error`, error });\r\n                }\r\n            };\r\n\r\n            const s = style;\r\n            const inputStyle = {\r\n                base: {\r\n                    color: s.textColor,\r\n                    fontSize: s.fontSize ? `${s.fontSize}px` : ``,\r\n                    fontFamily: s.fontFamily,\r\n                    fontSmoothing: `antialiased`,\r\n                    \"::placeholder\": {\r\n                        color: s.textColor,\r\n                        opacity: 0.8,\r\n                    },\r\n                },\r\n                invalid: {\r\n                    color: s.textColor_invalid,\r\n                    iconColor: s.textColor_invalid,\r\n                },\r\n            };\r\n            const inputContainerStyle = {\r\n                marginBottom: s.elementPadding,\r\n                padding: s.textPadding,\r\n                backgroundColor: s.backgroundColor,\r\n                borderWidth: 1, borderStyle: `solid`, borderColor: s.borderColor, borderRadius: s.borderRadius,\r\n            };\r\n            const buttonStyle = {\r\n                color: s.textColor,\r\n                backgroundColor: s.backgroundColor,\r\n                borderWidth: 1, borderStyle: `solid`, borderColor: s.borderColor, borderRadius: s.borderRadius,\r\n\r\n                fontSize: s.fontSize ? `${s.fontSize}px` : ``,\r\n                fontFamily: s.fontFamily,\r\n                fontSmoothing: `antialiased`,\r\n                fontWeight: `bold`,\r\n                padding: s.textPadding,\r\n                marginBottom: s.elementPadding,\r\n            } as const;\r\n            const buttonJustifyContent = s.buttonAlignment === `left` ? `flex-start`\r\n                : (s.buttonAlignment === `right` ? `flex-end`\r\n                    : `center`);\r\n\r\n            const errorContainerStyle = {\r\n                marginBottom: s.elementPadding,\r\n                padding: s.textPadding,\r\n                backgroundColor: s.backgroundColor,\r\n                borderWidth: 1, borderStyle: `solid`, borderColor: s.borderColor, borderRadius: s.borderRadius,\r\n            };\r\n            const errorMessageStyle = {\r\n                color: s.textColor_invalid,\r\n\r\n                fontSize: s.fontSize ? `${s.fontSize}px` : ``,\r\n                fontFamily: s.fontFamily,\r\n                fontSmoothing: `antialiased`,\r\n                fontWeight: `bold`,\r\n                padding: s.textPadding,\r\n                marginBottom: s.elementPadding,\r\n            } as const;\r\n\r\n            return (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div style={inputContainerStyle}>\r\n                        <CardElement options={{ style: inputStyle }} />\r\n                    </div>\r\n                    {stripeError && (\r\n                        <>\r\n                            <div style={errorContainerStyle}>\r\n                                <span style={errorMessageStyle}>{stripeError.message}</span>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n\r\n                    {!stripeError && (\r\n                        <div style={{ display: `flex`, flexDirection: `row`, justifyContent: buttonJustifyContent }}>\r\n                            <button type='submit' disabled={!stripe || !elements} style={buttonStyle}>{s.buttonText ?? `Subscribe`}</button>\r\n                        </div>\r\n                    )}\r\n                </form>\r\n            );\r\n        },\r\n    };\r\n\r\n    return components;\r\n};\r\n","import { PaymentMethodCreateParams, SetupIntent } from '@stripe/stripe-js';\r\nimport { PaymentProviderSavedPaymentMethodClientSetupToken, PaymentProviderSavedPaymentMethodClientToken } from '../../../common/types';\r\n\r\nexport type StripeCustomerBillingDetails = PaymentMethodCreateParams.BillingDetails;\r\n\r\nexport type StripePaymentClientSetupToken = {\r\n    clientSecret: string;\r\n    customerBillingDetails: StripeCustomerBillingDetails;\r\n};\r\n\r\nexport const stripeEncodeClientSetupToken = (params: StripePaymentClientSetupToken): PaymentProviderSavedPaymentMethodClientSetupToken => {\r\n    return params as unknown as PaymentProviderSavedPaymentMethodClientSetupToken;\r\n};\r\nexport const stripeDecodeClientSetupToken = (params: PaymentProviderSavedPaymentMethodClientSetupToken): StripePaymentClientSetupToken => {\r\n    return params as unknown as StripePaymentClientSetupToken;\r\n};\r\n\r\nexport type StripePaymentClientToken = {\r\n    setupIntent: SetupIntent;\r\n};\r\n\r\nexport const stripeEncodeClientToken = (params: StripePaymentClientToken): PaymentProviderSavedPaymentMethodClientToken => {\r\n    return params as unknown as PaymentProviderSavedPaymentMethodClientToken;\r\n};\r\nexport const stripeDecodeClientToken = (params: PaymentProviderSavedPaymentMethodClientToken): StripePaymentClientToken => {\r\n    return params as unknown as StripePaymentClientToken;\r\n};\r\n","export var IconsManifest = [{\n  \"id\": \"fa\",\n  \"name\": \"Font Awesome\",\n  \"projectUrl\": \"https://fontawesome.com/\",\n  \"license\": \"CC BY 4.0 License\",\n  \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n}, {\n  \"id\": \"io\",\n  \"name\": \"Ionicons\",\n  \"projectUrl\": \"https://ionicons.com/\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://github.com/ionic-team/ionicons/blob/master/LICENSE\"\n}, {\n  \"id\": \"md\",\n  \"name\": \"Material Design icons\",\n  \"projectUrl\": \"http://google.github.io/material-design-icons/\",\n  \"license\": \"Apache License Version 2.0\",\n  \"licenseUrl\": \"https://github.com/google/material-design-icons/blob/master/LICENSE\"\n}, {\n  \"id\": \"ti\",\n  \"name\": \"Typicons\",\n  \"projectUrl\": \"http://s-ings.com/typicons/\",\n  \"license\": \"CC BY-SA 3.0\",\n  \"licenseUrl\": \"https://creativecommons.org/licenses/by-sa/3.0/\"\n}, {\n  \"id\": \"go\",\n  \"name\": \"Github Octicons icons\",\n  \"projectUrl\": \"https://octicons.github.com/\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://github.com/primer/octicons/blob/master/LICENSE\"\n}, {\n  \"id\": \"fi\",\n  \"name\": \"Feather\",\n  \"projectUrl\": \"https://feathericons.com/\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://github.com/feathericons/feather/blob/master/LICENSE\"\n}, {\n  \"id\": \"gi\",\n  \"name\": \"Game Icons\",\n  \"projectUrl\": \"https://game-icons.net/\",\n  \"license\": \"CC BY 3.0\",\n  \"licenseUrl\": \"https://creativecommons.org/licenses/by/3.0/\"\n}, {\n  \"id\": \"wi\",\n  \"name\": \"Weather Icons\",\n  \"projectUrl\": \"https://erikflowers.github.io/weather-icons/\",\n  \"license\": \"SIL OFL 1.1\",\n  \"licenseUrl\": \"http://scripts.sil.org/OFL\"\n}, {\n  \"id\": \"di\",\n  \"name\": \"Devicons\",\n  \"projectUrl\": \"https://vorillaz.github.io/devicons/\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n}, {\n  \"id\": \"ai\",\n  \"name\": \"Ant Design Icons\",\n  \"projectUrl\": \"https://github.com/ant-design/ant-design-icons\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n}, {\n  \"id\": \"bs\",\n  \"name\": \"Bootstrap Icons\",\n  \"projectUrl\": \"https://github.com/twbs/icons\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n}, {\n  \"id\": \"ri\",\n  \"name\": \"Remix Icon\",\n  \"projectUrl\": \"https://github.com/Remix-Design/RemixIcon\",\n  \"license\": \"Apache License Version 2.0\",\n  \"licenseUrl\": \"http://www.apache.org/licenses/\"\n}, {\n  \"id\": \"fc\",\n  \"name\": \"Flat Color Icons\",\n  \"projectUrl\": \"https://github.com/icons8/flat-color-icons\",\n  \"license\": \"MIT\",\n  \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n}, {\n  \"id\": \"gr\",\n  \"name\": \"Grommet-Icons\",\n  \"projectUrl\": \"https://github.com/grommet/grommet-icons\",\n  \"license\": \"Apache License Version 2.0\",\n  \"licenseUrl\": \"http://www.apache.org/licenses/\"\n}];","import * as React from 'react';\nexport var DefaultContext = {\n  color: undefined,\n  size: undefined,\n  className: undefined,\n  style: undefined,\n  attr: undefined\n};\nexport var IconContext = React.createContext && React.createContext(DefaultContext);","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.assign\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { IconContext, DefaultContext } from './iconContext';\n\nfunction Tree2Element(tree) {\n  return tree && tree.map(function (node, i) {\n    return React.createElement(node.tag, __assign({\n      key: i\n    }, node.attr), Tree2Element(node.child));\n  });\n}\n\nexport function GenIcon(data) {\n  return function (props) {\n    return React.createElement(IconBase, __assign({\n      attr: __assign({}, data.attr)\n    }, props), Tree2Element(data.child));\n  };\n}\nexport function IconBase(props) {\n  var elem = function elem(conf) {\n    var computedSize = props.size || conf.size || \"1em\";\n    var className;\n    if (conf.className) className = conf.className;\n    if (props.className) className = (className ? className + ' ' : '') + props.className;\n\n    var attr = props.attr,\n        title = props.title,\n        svgProps = __rest(props, [\"attr\", \"title\"]);\n\n    return React.createElement(\"svg\", __assign({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, conf.attr, attr, svgProps, {\n      className: className,\n      style: __assign({\n        color: props.color || conf.color\n      }, conf.style, props.style),\n      height: computedSize,\n      width: computedSize,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), title && React.createElement(\"title\", null, title), props.children);\n  };\n\n  return IconContext !== undefined ? React.createElement(IconContext.Consumer, null, function (conf) {\n    return elem(conf);\n  }) : elem(DefaultContext);\n}","import './index.css';\r\nimport React, { ReactNode, useRef } from 'react';\r\nimport { ThemeTextStyle, ThemeViewStyle } from 'themes/theme';\r\n\r\nfunction mergeStyles<T>(items: (T | undefined | null) | (T | T[] | undefined | null)[]): T {\r\n    if (Array.isArray(items)) {\r\n        if (items.length === 1) { return mergeStyles(items[0]) ?? {} as T; }\r\n        let item = { ...mergeStyles(items[0]) };\r\n        items.forEach(x => { item = { ...item, ...mergeStyles(x ?? {}) }; });\r\n        return (item ?? {}) as T;\r\n    }\r\n    return items as T;\r\n};\r\n\r\nconst viewStyleDefaults = {\r\n    display: `flex`,\r\n    flexDirection: `column`,\r\n} as const;\r\n\r\nconst textStyleDefaults = {\r\n    whiteSpace: `pre`,\r\n} as const;\r\n\r\nexport const View = (props: { style?: ThemeViewStyle | ThemeViewStyle[], children?: ReactNode }) => { return (<div style={mergeStyles([viewStyleDefaults, props.style])}>{props.children}</div>); };\r\nexport const Text = (props: { style?: ThemeTextStyle | ThemeTextStyle[], children?: string, numberOfLines?: undefined | 1 }) => {\r\n    if (props.numberOfLines === 1) {\r\n        const singleLineStyle = {\r\n            overflow: `hidden`,\r\n            whiteSpace: `nowrap`,\r\n            wordWrap: `break-word`,\r\n            textOverflow: `ellipsis`,\r\n        } as const;\r\n        return (<span style={mergeStyles([textStyleDefaults, props.style, singleLineStyle])}>{props.children}</span>);\r\n    }\r\n    return (<span style={mergeStyles([textStyleDefaults, props.style])}>{props.children}</span>);\r\n};\r\nexport const TextInput = (props: {\r\n    style?: ThemeTextStyle | ThemeTextStyle[];\r\n    keyboardType: 'default' | 'numeric' | 'phone-pad' | 'email-address';\r\n    autoCompleteType: 'off' | 'username' | 'password' | 'email' | 'name' | 'tel' | 'street-address' | 'postal-code';\r\n    secureTextEntry?: boolean;\r\n    placeholder?: string;\r\n    editable?: boolean;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    onSubmitEditing?: () => void;\r\n    onBlur?: () => void;\r\n}) => {\r\n    const type = props.keyboardType === `numeric` ? `number`\r\n        : (props.secureTextEntry ? `password`\r\n            : `text`);\r\n\r\n    const name = props.autoCompleteType === `username` ? `username`\r\n        : (props.autoCompleteType === `password` ? `password`\r\n            : undefined);\r\n\r\n    const onKeyPress = props.onSubmitEditing && ((e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === `Enter` && !e.shiftKey) {\r\n            e.preventDefault();\r\n            props.onSubmitEditing?.();\r\n        }\r\n    }) || undefined;\r\n\r\n    return (<input type={type}\r\n        name={name} id={name}\r\n        style={mergeStyles([textStyleDefaults, props.style])}\r\n        placeholder={props.placeholder}\r\n        disabled={!(props.editable ?? true)}\r\n        value={props.value}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        onKeyPress={onKeyPress}\r\n        onBlur={props.onBlur}\r\n    />);\r\n\r\n};\r\nexport const TouchableOpacity = (props: { style?: ThemeViewStyle | ThemeViewStyle[], children?: ReactNode, onPress: () => void }) => {\r\n\r\n    const lastPressTime = useRef(0);\r\n    const onPress = () => {\r\n        // Prevent duplicate triggers\r\n        if (Date.now() < lastPressTime.current + 250) { return; }\r\n        lastPressTime.current = Date.now();\r\n\r\n        props.onPress();\r\n    };\r\n\r\n    return (\r\n        <div style={mergeStyles([viewStyleDefaults, props.style])}\r\n            onClick={onPress}\r\n            onTouchStart={onPress}\r\n            onKeyPress={onPress}\r\n            role='button'\r\n            tabIndex={0}>\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const ActivityIndicator = ({ size, color }: { size: 'large' | 'small', color: string }) => {\r\n    const sizePx = size === `small` ? 16 : 32;\r\n    return (\r\n        <CircleSvg size={sizePx} thickness={sizePx / 8} color={color} />\r\n    );\r\n};\r\n\r\n// Based on: https://glennmccomb.com/articles/building-a-pure-css-animated-svg-spinner/\r\nconst CircleSvg = ({ size, thickness, color }: { size: number, thickness: number, color: string }) => {\r\n    const circumference = 2 * Math.PI * (size - thickness) * 0.5;\r\n    const dashLength = circumference * 0.6;\r\n    return (\r\n        <svg style={{ maxWidth: size }} viewBox={`0 0 ${size} ${size}`} xmlns='http://www.w3.org/2000/svg'>\r\n            <circle style={{\r\n                fill: `transparent`,\r\n                stroke: color,\r\n                strokeWidth: thickness,\r\n                opacity: 0.5,\r\n            }} cx={size * 0.5} cy={size * 0.5} r={size * 0.5 - thickness} />\r\n            <circle className='activity-spinner' style={{\r\n                strokeDasharray: dashLength,\r\n                fill: `transparent`,\r\n                stroke: color,\r\n                strokeWidth: thickness,\r\n                transformOrigin: `${size * 0.5}px ${size * 0.5}px`,\r\n            }} cx={size * 0.5} cy={size * 0.5} r={size * 0.5 - thickness} />\r\n        </svg>\r\n    );\r\n};\r\n\r\n\r\nexport const Platform = {\r\n    OS: `web` as 'web' | 'ios' | 'android',\r\n};\r\n\r\nexport const Clipboard = {\r\n    setString: async (value: string) => { await navigator.clipboard.writeText(value); },\r\n};\r\n","\r\nexport enum IconKind {\r\n    // common icons\r\n    menu,\r\n    back,\r\n    error,\r\n    expanded,\r\n    collapsed,\r\n    copy,\r\n    retry,\r\n    dashboard,\r\n    add,\r\n    remove,\r\n    eye,\r\n    eyeSlash,\r\n\r\n    // navigation icons\r\n    account,\r\n    message,\r\n    subscription,\r\n    calendar,\r\n    contacts,\r\n    keys,\r\n    resources,\r\n    admin,\r\n}\r\n","export type JsonTyped<T> = string & { __json: T };\r\n\r\nexport const jsonParse = <T>(json: JsonTyped<T>): T => {\r\n    return JSON.parse(json) as T;\r\n};\r\nexport const jsonParse_smart = <T>(json: T | JsonTyped<T>): T => {\r\n    if (typeof json === `string`) {\r\n        return JSON.parse(json) as T;\r\n    }\r\n    return json as T;\r\n};\r\nexport const jsonStringify = <T>(obj: T) => JSON.stringify(obj) as JsonTyped<T>;\r\n\r\nexport const jsonStringify_safe = (obj: unknown, shouldFormat?: boolean): string => {\r\n    const visited = [] as unknown[];\r\n\r\n    return JSON.stringify(obj, (_, val: unknown) => {\r\n        if (val != null && typeof val == `object`) {\r\n            if (visited.includes(val)) {\r\n                return `[OBJ-DUPLICATED]`;\r\n            }\r\n            visited.push(val);\r\n        }\r\n        return val;\r\n    }, shouldFormat ? 2 : 0);\r\n};\r\n","import React from 'react';\r\nimport { ThemeIconStyle, theme } from 'themes/theme';\r\nimport { MdMenu, MdArrowBack, MdCheckBoxOutlineBlank, MdErrorOutline, MdContentCopy, MdDashboard } from 'react-icons/md';\r\nimport { FiChevronRight, FiChevronDown } from 'react-icons/fi';\r\nimport { FaRedo, FaPlus, FaMinus, FaEye, FaEyeSlash } from 'react-icons/fa';\r\nimport { View } from 'react-native-lite';\r\nimport { IconKind } from './icon-kind';\r\n\r\nfunction getIcon(kind: IconKind) {\r\n    switch (kind) {\r\n        case IconKind.menu: return { name: `menu`, component: MdMenu };\r\n        case IconKind.back: return { name: `arrow-back`, component: MdArrowBack };\r\n        case IconKind.error: return { name: `error-outline`, component: MdErrorOutline };\r\n        case IconKind.expanded: return { name: `chevron-down`, component: FiChevronDown };\r\n        case IconKind.collapsed: return { name: `chevron-right`, component: FiChevronRight };\r\n        case IconKind.copy: return { name: `content-copy`, component: MdContentCopy };\r\n        case IconKind.retry: return { name: `reload`, component: FaRedo };\r\n        case IconKind.dashboard: return { name: `dashboard`, component: MdDashboard };\r\n        case IconKind.add: return { name: `plus`, component: FaPlus };\r\n        case IconKind.remove: return { name: `minus`, component: FaMinus };\r\n        case IconKind.eye: return { name: `eye`, component: FaEye };\r\n        case IconKind.eyeSlash: return { name: `eye-slash`, component: FaEyeSlash };\r\n\r\n        // case IconKind.Account: return { name: `account-circle`, component: MaterialIcons };\r\n        // case IconKind.Message: return { name: `message`, component: MaterialIcons };\r\n        // case IconKind.Subscription: return { name: `ticket-account`, component: MaterialCommunityIcons };\r\n        // case IconKind.Campaigns: return { name: `calendar-multiselect`, component: MaterialCommunityIcons };\r\n        // case IconKind.Contacts: return { name: `contacts`, component: MaterialIcons };\r\n        // case IconKind.Keywords: return { name: `key-variant`, component: MaterialCommunityIcons };\r\n        // case IconKind.Resources: return { name: `collections-bookmark`, component: MaterialIcons };\r\n        // case IconKind.Admin: return { name: `settings`, component: MaterialIcons };\r\n        // case IconKind.Solutions: return { name: '', component: FontAwesome };\r\n        // case IconKind.Texting: return { name: '', component: FontAwesome };\r\n        // case IconKind.Pricing: return { name: '', component: FontAwesome };\r\n        // case IconKind.Download: return { name: '', component: FontAwesome };\r\n\r\n        default:\r\n            return { name: `unknown`, component: MdCheckBoxOutlineBlank };\r\n    }\r\n}\r\n\r\nexport const Icon = (props: { kind: IconKind, style?: ThemeIconStyle }) => {\r\n    const icon = getIcon(props.kind);\r\n    const IconComponent = icon.component;\r\n    const size = props.style?.size ?? theme.icon.size ?? theme.sizes.fontSize;\r\n    return (\r\n        <View style={{ width: size, height: size }}>\r\n            <IconComponent name={icon.name} size={size} color={props.style?.color ?? theme.icon.color} />\r\n        </View>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { View, Text, TouchableOpacity, Clipboard } from 'react-native-lite';\r\nimport { theme } from 'themes/theme';\r\nimport { ErrorState } from 'utils/error';\r\nimport { jsonStringify_safe } from 'utils/json';\r\nimport { Icon } from './icon';\r\nimport { IconKind } from './icon-kind';\r\n\r\nconst DEBUG = true;\r\n\r\nconst errorBoxStyle = {\r\n    view: theme.view_error,\r\n    text: theme.text_error,\r\n    text_errorMessage: theme.text_errorMessage,\r\n    icon: theme.icon,\r\n    icon_errorMessage: theme.icon_errorMessage,\r\n    button: { outlineColor: theme.colors.outline },\r\n};\r\n\r\nexport const ErrorBox = ({ error }: { error: ErrorState | null | undefined }) => {\r\n    if (!error) { return (<></>); }\r\n    return (<ErrorBox_Inner error={error} />);\r\n};\r\n\r\nconst ErrorBox_Inner = (props: { error: ErrorState }) => {\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    // console.log(`ErrorBox`, { error: props.error, expanded });\r\n\r\n    const errorAsString = typeof props.error === `string` ? `${props.error}` : null;\r\n    const errorMessage = props.error.message ?? errorAsString ?? `Unknown Error`;\r\n    const errorDetails = props.error.data && jsonStringify_safe(props.error.data, true) || undefined;\r\n    const errorObjText = DEBUG && props.error && jsonStringify_safe(props.error, true) || undefined;\r\n    const canExpand = !!errorDetails || !!errorObjText;\r\n\r\n    return (\r\n        <View style={errorBoxStyle.view}>\r\n            <View style={{ flexDirection: `row` }}>\r\n                <TouchableOpacity style={{ flex: 1, flexDirection: `row`, alignItems: `center`, ...errorBoxStyle.button }} onPress={() => setExpanded(!expanded)}>\r\n                    {canExpand && (expanded ? <Icon style={errorBoxStyle.icon} kind={IconKind.expanded} /> : <Icon style={errorBoxStyle.icon} kind={IconKind.collapsed} />)}\r\n                    <View style={{ paddingRight: 8 }}>\r\n                        <Icon style={errorBoxStyle.icon} kind={IconKind.error} />\r\n                    </View>\r\n                    <View style={{ flex: 1, overflow: `hidden` }}>\r\n                        <Text style={errorBoxStyle.text} numberOfLines={!expanded ? 1 : undefined}>{errorMessage}</Text>\r\n                    </View>\r\n                </TouchableOpacity>\r\n                {DEBUG && (\r\n                    <TouchableOpacity style={{ flexDirection: `row`, alignItems: `center`, paddingLeft: 8, ...errorBoxStyle.button }} onPress={() => Clipboard.setString(jsonStringify_safe({ errorMessage, errorDetails, errorObjText }, true))}>\r\n                        <Icon style={errorBoxStyle.icon} kind={IconKind.copy} />\r\n                    </TouchableOpacity>\r\n                )}\r\n                {props.error.retryCallback && (\r\n                    <TouchableOpacity style={{ flexDirection: `row`, alignItems: `center`, paddingLeft: 8, ...errorBoxStyle.button }} onPress={props.error.retryCallback}>\r\n                        <Icon style={errorBoxStyle.icon} kind={IconKind.retry} />\r\n                    </TouchableOpacity>\r\n                )}\r\n            </View>\r\n            {canExpand && expanded && !!errorDetails && (<Text style={{ ...errorBoxStyle.text }}>{errorDetails}</Text>)}\r\n            {canExpand && expanded && !!errorObjText && (<Text style={{ ...errorBoxStyle.text }}>{errorObjText}</Text>)}\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\nexport const ErrorMessage = (props: { children: string }) => {\r\n    return (\r\n        <View style={{ flexDirection: `row`, alignItems: `center` }}>\r\n            <View style={{ paddingLeft: 8, paddingRight: 8 }}>\r\n                <Icon style={errorBoxStyle.icon_errorMessage} kind={IconKind.error} />\r\n            </View>\r\n            <View style={{ overflow: `hidden` }}>\r\n                <Text style={errorBoxStyle.text_errorMessage} numberOfLines={1}>{props.children}</Text>\r\n            </View>\r\n        </View>\r\n    );\r\n};\r\n","import React, { } from 'react';\r\nimport { Text, TouchableOpacity } from 'react-native-lite';\r\nimport { theme, ThemeTextStyle, ThemeViewStyle, extractViewStyle, extractTextStyle } from 'themes/theme';\r\n\r\nexport const Button = (props: { style?: ThemeTextStyle & ThemeViewStyle, styleAlt?: boolean, children: string, onPress: () => void }) => {\r\n    const s = props.style ?? (props.styleAlt ? theme.button_formAction_alt : theme.button_formAction);\r\n    return (\r\n        <TouchableOpacity style={extractViewStyle(s)} onPress={props.onPress}>\r\n            <Text style={extractTextStyle(s)}>{props.children}</Text>\r\n        </TouchableOpacity>\r\n    );\r\n};\r\n","import React, { } from 'react';\r\nimport { View, Text } from 'react-native-lite';\r\nimport { theme } from 'themes/theme';\r\nimport { Loading, LoadingInline } from './loading';\r\nimport { ErrorBox, ErrorMessage } from './error-box';\r\nimport { Input_Text, Input_Username, Input_Password, Input_Phone, Input_Email, Input_Currency } from './inputs';\r\nimport { Button } from './button';\r\n\r\ntype PropsOf<T> = T extends (props: infer P) => JSX.Element ? P : never;\r\n\r\nexport const C = {\r\n    Loading,\r\n    LoadingInline,\r\n    ErrorBox,\r\n    ErrorMessage,\r\n    View_Panel: (props: PropsOf<typeof View>) => (<View style={theme.view_panel} {...props} />),\r\n    View_Form: (props: PropsOf<typeof View>) => (<View style={theme.view_form} {...props} />),\r\n    View_FormFields: (props: PropsOf<typeof View>) => (<View style={theme.view_formFields} {...props} />),\r\n    View_FieldRow: (props: PropsOf<typeof View>) => (<View style={theme.view_fieldRow} {...props} />),\r\n    View_FormActionRow: (props: PropsOf<typeof View>) => (<View style={theme.view_formActionRow} {...props} />),\r\n    Text_FormTitle: (props: PropsOf<typeof Text>) => (<Text style={theme.text_formTitle} {...props} />),\r\n    Text_FieldLabel: (props: PropsOf<typeof Text>) => (<Text style={theme.text_fieldLabel} numberOfLines={1} {...props} />),\r\n    Button_FieldInline: (props: PropsOf<typeof Button>) => (<Button style={props.styleAlt ? theme.button_fieldInline_alt : theme.button_fieldInline} {...props} />),\r\n    Button_FormAction: (props: PropsOf<typeof Button>) => (<Button style={props.styleAlt ? theme.button_formAction_alt : theme.button_formAction} {...props} />),\r\n    Input_Text,\r\n    Input_Username,\r\n    Input_Password,\r\n    Input_Phone,\r\n    Input_Email,\r\n    Input_Currency,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ActivityIndicator, View } from 'react-native-lite';\r\nimport { theme } from 'themes/theme';\r\n\r\nexport const Loading = ({ loading }: { loading?: boolean }) => {\r\n\r\n    const visible = loading;\r\n\r\n    // // Show loading for a min time\r\n    // const [visible, setVisible] = useState(loading);\r\n    // const MIN_TIME_MS = 500;\r\n    // useEffect(() => {\r\n    //     if (loading) { setVisible(true); return () => { }; }\r\n    //     const timeoutId = setTimeout(() => {\r\n    //         setVisible(false);\r\n    //     }, MIN_TIME_MS);\r\n    //     return () => {\r\n    //         clearTimeout(timeoutId);\r\n    //     };\r\n    // }, [loading]);\r\n\r\n    if (!visible) { return <></>; }\r\n\r\n    return (\r\n        <View>\r\n            <ActivityIndicator size='large' color={theme.colors.loader} />\r\n        </View>\r\n    );\r\n};\r\n\r\nexport const LoadingInline = ({ loading }: { loading?: boolean }) => {\r\n\r\n    const visible = loading;\r\n\r\n    // // Show loading for a min time\r\n    // const [visible, setVisible] = useState(loading);\r\n    // const MIN_TIME_MS = 500;\r\n    // useEffect(() => {\r\n    //     if (loading) { setVisible(true); return () => { }; }\r\n    //     const timeoutId = setTimeout(() => {\r\n    //         setVisible(false);\r\n    //     }, MIN_TIME_MS);\r\n    //     return () => {\r\n    //         clearTimeout(timeoutId);\r\n    //     };\r\n    // }, [loading]);\r\n\r\n    if (!visible) { return <></>; }\r\n\r\n    return (\r\n        <>\r\n            <ActivityIndicator size='small' color={theme.colors.loader} />\r\n        </>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { TextInput, View, TouchableOpacity } from 'react-native-lite';\r\nimport { theme, ThemeTextStyle } from 'themes/theme';\r\nimport { PhoneNumber, toStandardPhoneNumber, formatPhoneNumber_UsaCanada } from 'utils/phone-number';\r\nimport { EmailAddress, toEmailAddress } from 'utils/email-address';\r\nimport { Icon } from './icon';\r\nimport { IconKind } from './icon-kind';\r\n\r\nexport const Input_Text = (props: { style?: ThemeTextStyle, value: string, onChange: (value: string) => void, onSubmit?: () => void, placeholder?: string, editable?: boolean }) => {\r\n    return (\r\n        <TextInput style={props.style ?? theme.input_fieldEntry}\r\n            keyboardType='default'\r\n            autoCompleteType='off'\r\n            placeholder={props.placeholder}\r\n            editable={props.editable}\r\n            value={`${props.value}`}\r\n            onChange={(x) => props.onChange(x)}\r\n            onSubmitEditing={props.onSubmit}\r\n        />\r\n    );\r\n};\r\n\r\nexport const Input_Username = (props: { style?: ThemeTextStyle, value: string, onChange: (value: string) => void, onSubmit?: () => void, placeholder?: string, editable?: boolean }) => {\r\n    return (\r\n        <TextInput style={props.style ?? theme.input_fieldEntry}\r\n            keyboardType='default'\r\n            autoCompleteType='username'\r\n            placeholder={props.placeholder}\r\n            editable={props.editable}\r\n            value={`${props.value}`}\r\n            onChange={(x) => props.onChange(x)}\r\n            onSubmitEditing={props.onSubmit}\r\n        />\r\n    );\r\n};\r\n\r\nexport const Input_Password = (props: { style?: ThemeTextStyle, value: string, onChange: (value: string) => void, onSubmit?: () => void, onBlur?: () => void, placeholder?: string, editable?: boolean }) => {\r\n\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    const inputStyle = props.style ?? theme.input_fieldEntry;\r\n    const { marginRight } = inputStyle;\r\n    return (\r\n        <View style={{ flexDirection: `row`, alignItems: `center` }}>\r\n            <TextInput style={{ ...inputStyle, marginRight: 0 }}\r\n                keyboardType='default'\r\n                autoCompleteType='password'\r\n                secureTextEntry={!showPassword}\r\n                placeholder={props.placeholder}\r\n                editable={props.editable}\r\n                value={`${props.value}`}\r\n                onChange={(x) => props.onChange(x)}\r\n                onSubmitEditing={props.onSubmit}\r\n                onBlur={props.onBlur}\r\n            />\r\n            <TouchableOpacity onPress={() => setShowPassword(s => !s)} style={{ outlineColor: theme.icon.outlineColor }}>\r\n                <View style={{ paddingLeft: 4, paddingRight: 4, marginRight }}>\r\n                    <Icon style={theme.icon} kind={showPassword ? IconKind.eye : IconKind.eyeSlash} />\r\n                </View>\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n};\r\n\r\nexport type Currency = number;// & { __type: 'currency' };\r\nexport const Input_Currency = (props: { style?: ThemeTextStyle, value: Currency, onChange: (value: Currency) => void, onSubmit?: () => void, placeholder?: string, editable?: boolean }) => {\r\n    return (\r\n        <TextInput style={props.style ?? theme.input_fieldEntry}\r\n            keyboardType='numeric'\r\n            autoCompleteType='off'\r\n            placeholder={props.placeholder}\r\n            editable={props.editable}\r\n            value={`${props.value}`}\r\n            onChange={(x) => props.onChange(Number.parseFloat(x) || 0)}\r\n            onSubmitEditing={props.onSubmit}\r\n        />\r\n    );\r\n};\r\n\r\nexport const Input_Phone = (props: { style?: ThemeTextStyle, value: PhoneNumber, onChange: (value: PhoneNumber) => void, onSubmit?: () => void, placeholder?: string, editable?: boolean }) => {\r\n\r\n    const [valueActual, setValueActual] = useState(formatPhoneNumber_UsaCanada(props.value));\r\n    const changeValueActual = (v: string) => {\r\n        setValueActual(formatPhoneNumber_UsaCanada(v));\r\n        props.onChange(toStandardPhoneNumber(v));\r\n    };\r\n    return (\r\n        <TextInput style={props.style ?? theme.input_fieldEntry}\r\n            keyboardType='phone-pad'\r\n            autoCompleteType='tel'\r\n            placeholder={props.placeholder}\r\n            editable={props.editable}\r\n            value={valueActual}\r\n            onChange={changeValueActual}\r\n            onSubmitEditing={props.onSubmit}\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport const Input_Email = (props: { style?: ThemeTextStyle, value: EmailAddress, onChange: (value: EmailAddress) => void, onSubmit?: () => void, placeholder?: string, editable?: boolean }) => {\r\n\r\n    const [valueActual, setValueActual] = useState(toEmailAddress(props.value));\r\n    const changeValueActual = (v: string) => {\r\n        setValueActual(toEmailAddress(v));\r\n        props.onChange(toEmailAddress(v));\r\n    };\r\n    return (\r\n        <TextInput style={props.style ?? theme.input_fieldEntry}\r\n            keyboardType='email-address'\r\n            autoCompleteType='email'\r\n            placeholder={props.placeholder}\r\n            editable={props.editable}\r\n            value={valueActual}\r\n            onChange={changeValueActual}\r\n            onSubmitEditing={props.onSubmit}\r\n        />\r\n    );\r\n};\r\n","export async function delay(timeout: number): Promise<void> {\r\n    return await new Promise((resolve) => {\r\n        setTimeout(resolve, timeout);\r\n    });\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nexport type ThemeViewStyle = {\r\n    display?: 'flex';\r\n    flexDirection?: 'row' | 'column';\r\n    flexWrap?: 'wrap' | 'nowrap';\r\n    flex?: number;\r\n    justifyContent?: 'flex-start' | 'center' | 'flex-end';\r\n    alignItems?: 'center';\r\n    overflow?: 'visible' | 'hidden';\r\n\r\n    background?: string;\r\n\r\n    margin?: number;\r\n    marginLeft?: number;\r\n    marginRight?: number;\r\n    marginTop?: number;\r\n    marginBottom?: number;\r\n    padding?: number;\r\n    paddingRight?: number;\r\n    paddingLeft?: number;\r\n    paddingTop?: number;\r\n    paddingBottom?: number;\r\n\r\n    width?: number;\r\n    minWidth?: number;\r\n    maxWidth?: number;\r\n    height?: number;\r\n\r\n    borderWidth?: number;\r\n    borderLeftWidth?: number;\r\n    borderRightWidth?: number;\r\n    borderTopWidth?: number;\r\n    borderBottomWidth?: number;\r\n\r\n    borderRadius?: number;\r\n    borderColor?: string;\r\n    borderStyle?: 'solid';\r\n    outlineColor?: string;\r\n};\r\nexport type ThemeTextStyle = {\r\n    margin?: number;\r\n    marginLeft?: number;\r\n    marginRight?: number;\r\n    marginTop?: number;\r\n    marginBottom?: number;\r\n    padding?: number;\r\n    paddingRight?: number;\r\n    paddingLeft?: number;\r\n    paddingTop?: number;\r\n    paddingBottom?: number;\r\n\r\n    color?: string;\r\n\r\n    fontFamily?: string;\r\n    fontSize?: number;\r\n    fontWeight?: 'normal' | 'bold';\r\n    lineHeight?: string;\r\n    //  whiteSpace?: 'normal' | 'nowrap' | 'pre';\r\n    minWidth?: number;\r\n\r\n    outlineColor?: string;\r\n};\r\nexport type ThemeIconStyle = {\r\n    color?: string;\r\n    size?: number;\r\n    outlineColor?: string;\r\n};\r\n\r\nexport const extractViewStyle = (style: ThemeViewStyle & ThemeTextStyle): ThemeViewStyle => {\r\n    return {\r\n        display: style.display,\r\n        flexDirection: style.flexDirection,\r\n        flex: style.flex,\r\n        justifyContent: style.justifyContent,\r\n        alignItems: style.alignItems,\r\n        overflow: style.overflow,\r\n\r\n        background: style.background,\r\n\r\n        margin: style.margin,\r\n        marginLeft: style.margin ?? style.marginLeft,\r\n        marginRight: style.margin ?? style.marginRight,\r\n        marginTop: style.margin ?? style.marginTop,\r\n        marginBottom: style.margin ?? style.marginBottom,\r\n        padding: style.padding,\r\n        paddingRight: style.padding ?? style.paddingRight,\r\n        paddingLeft: style.padding ?? style.paddingLeft,\r\n        paddingTop: style.padding ?? style.paddingTop,\r\n        paddingBottom: style.padding ?? style.paddingBottom,\r\n\r\n        width: style.width,\r\n        minWidth: style.minWidth,\r\n        maxWidth: style.maxWidth,\r\n        height: style.height,\r\n\r\n        borderWidth: style.borderWidth,\r\n        borderRadius: style.borderRadius,\r\n        borderColor: style.borderColor,\r\n        borderStyle: style.borderStyle,\r\n\r\n        outlineColor: style.outlineColor,\r\n    };\r\n};\r\nexport const extractTextStyle = (style: ThemeViewStyle & ThemeTextStyle): ThemeTextStyle => {\r\n    return {\r\n        // padding: style.padding,\r\n        color: style.color,\r\n\r\n        fontFamily: style.fontFamily,\r\n        fontSize: style.fontSize,\r\n        fontWeight: style.fontWeight,\r\n        lineHeight: style.lineHeight,\r\n        // whiteSpace: style.whiteSpace,\r\n\r\n        outlineColor: style.outlineColor,\r\n    };\r\n};\r\n\r\nexport const basicThemeColors = {\r\n    text: `#333333`,\r\n    text_header: `#333333`,\r\n    text_button: `#333333`,\r\n    text_error: `#333333`,\r\n    text_errorMessage: `#ff3333`,\r\n    border: `#cccccc`,\r\n    border_minor: `#cccccc`,\r\n    border_input: `#cccccc`,\r\n    outline: `#888888`,\r\n    background: `#ffffff`,\r\n    background_field: `#dddddd`,\r\n    background_button: `#eeeeee`,\r\n    background_error: `#ffcccc`,\r\n    loader: `#3333ff`,\r\n    icon: `#3333ff`,\r\n};\r\nexport type RectSize = { all?: number, left?: number, right?: number, top?: number, bottom?: number };\r\nconst getBorderSizes = (size: RectSize) => {\r\n    return {\r\n        borderWidth: size.all,\r\n        borderLeftWidth: size.left ?? size.all,\r\n        borderRightWidth: size.right ?? size.all,\r\n        borderTopWidth: size.top ?? size.all,\r\n        borderBottomWidth: size.bottom ?? size.all,\r\n    };\r\n};\r\n\r\nexport const basicThemeSizes = {\r\n    textPadding: 4,\r\n    borderWidth: { all: 1 } as RectSize,\r\n    borderWidth_minor: { all: 1 } as RectSize,\r\n    borderWidth_input: { all: 1 } as RectSize,\r\n    borderRadius: 4,\r\n    sectionGap: 16,\r\n    elementGap: 8,\r\n    rowGap: 4,\r\n    rowPadding: 4,\r\n\r\n    fontSize: 14,\r\n    fontSize_input: 16,\r\n    fontSize_button: 14,\r\n    fontSize_header: 16,\r\n\r\n    lineHeight: `18px`,\r\n\r\n    minWidth_label: 120,\r\n    minWidth_input: 120,\r\n    minWidth_button: 120,\r\n\r\n    icon: 14,\r\n};\r\n\r\nexport const basicFont = {\r\n    fontFamily: `\"Trebuchet MS\", Helvetica, Roboto, sans-serif`,\r\n    fontWeight_normal: `normal` as 'normal' | 'bold',\r\n    fontWeight_button: `bold` as 'normal' | 'bold',\r\n    fontWeight_header: `bold` as 'normal' | 'bold',\r\n};\r\n\r\nexport type ThemeColors = typeof basicThemeColors;\r\nexport type ThemeSizes = typeof basicThemeSizes;\r\nexport type ThemeFont = typeof basicFont;\r\n\r\nconst createTheme = (colors: ThemeColors, sizes: ThemeSizes, font: ThemeFont) => {\r\n\r\n    const borderProps = {\r\n        ...getBorderSizes(sizes.borderWidth),\r\n\r\n        borderRadius: sizes.borderRadius,\r\n        borderColor: colors.border,\r\n        borderStyle: `solid`,\r\n        outlineColor: colors.outline,\r\n    } as const;\r\n\r\n    const borderProps_minor = {\r\n        ...getBorderSizes(sizes.borderWidth_minor),\r\n\r\n        borderRadius: sizes.borderRadius,\r\n        borderColor: colors.border_minor,\r\n        borderStyle: `solid`,\r\n        outlineColor: colors.outline,\r\n    } as const;\r\n\r\n    const borderProps_input = {\r\n        ...getBorderSizes(sizes.borderWidth_input),\r\n\r\n        borderRadius: sizes.borderRadius,\r\n        borderColor: colors.border_input,\r\n        borderStyle: `solid`,\r\n        outlineColor: colors.outline,\r\n    } as const;\r\n\r\n    let sView: ThemeViewStyle = {};\r\n    let sText: ThemeTextStyle = {};\r\n    let sIcon: ThemeIconStyle = {};\r\n    let sTextView: ThemeTextStyle & ThemeViewStyle = {};\r\n\r\n    const theme = {\r\n        colors,\r\n        sizes,\r\n        font,\r\n\r\n        view_panel: sView = {\r\n            background: colors.background,\r\n            padding: sizes.elementGap,\r\n        },\r\n        view_form: sView = {\r\n            ...borderProps,\r\n            marginBottom: sizes.sectionGap,\r\n            padding: sizes.elementGap,\r\n            // background: colors.background_field,\r\n        },\r\n        text_formTitle: sText = {\r\n            padding: sizes.textPadding,\r\n            color: colors.text_header,\r\n            fontSize: sizes.fontSize_header,\r\n            fontFamily: font.fontFamily,\r\n            fontWeight: font.fontWeight_header,\r\n        },\r\n        view_formFields: sView = {\r\n            // ...borderProps,\r\n            ...borderProps_minor,\r\n            // padding: sizes.elementGap,\r\n            marginBottom: sizes.rowGap,\r\n            background: colors.background_field,\r\n            // alignItems: `center`,\r\n        },\r\n        view_fieldRow: sView = {\r\n            // ...borderProps,\r\n            // ...borderProps_minor,\r\n            // marginBottom: sizes.rowGap,\r\n            // padding: sizes.rowPadding,\r\n            marginLeft: sizes.rowPadding,\r\n            // background: colors.background_field,\r\n            display: `flex`,\r\n            flexDirection: `row`,\r\n\r\n            alignItems: `center`,\r\n            flexWrap: `wrap`,\r\n        },\r\n        text_fieldLabel: sText = {\r\n            padding: sizes.textPadding,\r\n            color: colors.text,\r\n            fontSize: sizes.fontSize,\r\n            fontWeight: font.fontWeight_normal,\r\n            minWidth: sizes.minWidth_label,\r\n            //  whiteSpace: `nowrap`,\r\n        },\r\n        input_fieldEntry: sText = {\r\n            ...borderProps_input,\r\n            marginBottom: sizes.rowGap,\r\n            marginRight: sizes.rowGap,\r\n            padding: sizes.textPadding,\r\n            color: colors.text,\r\n            fontSize: sizes.fontSize_input,\r\n            fontWeight: font.fontWeight_normal,\r\n            lineHeight: sizes.lineHeight,\r\n            minWidth: sizes.minWidth_input,\r\n        },\r\n        button_fieldInline: sTextView = {\r\n            ...borderProps,\r\n            // marginLeft: sizes.elementGap,\r\n            marginBottom: sizes.rowGap,\r\n            marginRight: sizes.rowGap,\r\n            padding: sizes.textPadding,\r\n            background: colors.background_button,\r\n            color: colors.text_button,\r\n            fontSize: sizes.fontSize_button,\r\n            fontWeight: font.fontWeight_button,\r\n            lineHeight: sizes.lineHeight,\r\n            display: `flex`,\r\n            minWidth: sizes.minWidth_button,\r\n        },\r\n        button_fieldInline_alt: sTextView = {\r\n            ...sTextView,\r\n            background: colors.text_button,\r\n            color: colors.background_button,\r\n            borderColor: colors.background_button,\r\n        },\r\n        view_formActionRow: sView = {\r\n            display: `flex`,\r\n            flexDirection: `row`,\r\n            justifyContent: `flex-end`,\r\n            marginBottom: sizes.elementGap,\r\n        },\r\n        button_formAction: sTextView = {\r\n            ...borderProps,\r\n            marginLeft: sizes.elementGap,\r\n            padding: sizes.textPadding,\r\n            background: colors.background_button,\r\n            color: colors.text_button,\r\n            fontSize: sizes.fontSize_button,\r\n            fontWeight: font.fontWeight_button,\r\n            lineHeight: sizes.lineHeight,\r\n            minWidth: sizes.minWidth_button,\r\n        },\r\n        button_formAction_alt: sTextView = {\r\n            ...sTextView,\r\n            background: colors.text_button,\r\n            color: colors.background_button,\r\n            borderColor: colors.background_button,\r\n        },\r\n\r\n        view_error: sView = {\r\n            ...borderProps,\r\n            marginBottom: sizes.sectionGap,\r\n            padding: sizes.rowPadding,\r\n            background: colors.background_error,\r\n        },\r\n        text_error: sText = {\r\n            padding: sizes.textPadding,\r\n            color: colors.text_error,\r\n            fontSize: sizes.fontSize,\r\n            fontFamily: font.fontFamily,\r\n            fontWeight: font.fontWeight_button,\r\n        },\r\n        text_errorMessage: sText = {\r\n            padding: sizes.textPadding,\r\n            color: colors.text_errorMessage,\r\n            fontSize: sizes.fontSize,\r\n            fontFamily: font.fontFamily,\r\n            fontWeight: font.fontWeight_button,\r\n        },\r\n\r\n        icon: sIcon = {\r\n            size: sizes.icon,\r\n            color: colors.icon,\r\n            outlineColor: colors.outline,\r\n        },\r\n        icon_errorMessage: sIcon = {\r\n            size: sizes.icon,\r\n            color: colors.text_errorMessage,\r\n            outlineColor: colors.outline,\r\n        },\r\n    } as const;\r\n\r\n    return theme;\r\n};\r\n\r\nexport const purpleColors = {\r\n    purple: `#863d8f`,\r\n    purpleLite: `#a75da7`,\r\n    purpleBackgroundLite: `#ddbfdd`,\r\n    blue: `#3baccf`,\r\n    gray: `#656364`,\r\n    lightGray: `#f8f6f7`,\r\n    lightBackgroundGray: `#e8e6e7`,\r\n    borderGray: `#d7c7d7`,\r\n    headerWhite: `#ffffff`,\r\n    headerGray: `#cecece`,\r\n    menuWhite: `#ffffff`,\r\n    bodyWhite: `#ffffff`,\r\n    buttonGray: `#a0a1a5`,\r\n    buttonWhite: `#e2e3e9`,\r\n    headingGray: `#f8f6f7`,\r\n    cardLightGray: `#f8f8f8`,\r\n    textWhite: `#ffffff`,\r\n    textBlack: `#2b2b2b`,\r\n    textGray: `#696768`,\r\n\r\n    // New Colors\r\n    warnRed: `#C56364`,\r\n    errorRed: `#C56364`,\r\n    deleteRed: `#C56364`,\r\n    changedYellow: `#F5F5C5`,\r\n};\r\n\r\nexport const purpleThemeColors: typeof basicThemeColors = {\r\n    ...basicThemeColors,\r\n    text: `#2b2b2b`,\r\n    text_header: `#863d8f`,\r\n    text_button: `#ffffff`,\r\n    // text_error: `#ffffff`,\r\n    border: `#863d8f`,\r\n    border_minor: `#863d8f`,\r\n    // border_minor: `#aaaaaa`,\r\n    border_input: `#aaaaaa`,\r\n    background: `#ffffff`,\r\n    background_field: `#dddddd`,\r\n    background_button: `#863d8f`,\r\n    // background_error: `#C56364`,\r\n    loader: `#863d8f`,\r\n    icon: `#863d8f`,\r\n};\r\n\r\nexport const purpleSizes: typeof basicThemeSizes = {\r\n    ...basicThemeSizes,\r\n    borderWidth: { all: 1, bottom: 4 },\r\n    borderWidth_minor: { all: 0, bottom: 1 },\r\n};\r\n\r\nexport const vscodeThemeColors = {\r\n    colors: {\r\n        text: `#569CD6`,\r\n        border: `#6796E6`,\r\n        background: `#1e1e1e`,\r\n        background_field: `#2e2e2e`,\r\n    },\r\n};\r\n\r\n// eslint-disable-next-line import/no-mutable-exports\r\n// export let theme = createTheme(basicThemeColors, basicThemeSizes, basicFont);\r\n// eslint-disable-next-line import/no-mutable-exports\r\nexport let theme = createTheme(purpleThemeColors, purpleSizes, basicFont);\r\n\r\nexport const setTheme = (colors: ThemeColors, sizes: ThemeSizes, font: ThemeFont) => {\r\n    theme = createTheme(purpleThemeColors, basicThemeSizes, basicFont);\r\n};\r\n","import { getValuesAsItems } from './objects';\r\n\r\nexport const moveItem = <T>(obj: T, from: T[], to: T[]) => {\r\n    const i = from.indexOf(obj);\r\n    if (i < 0) { throw new Error(`moveItem Failed to find an item in the from array: ${JSON.stringify({ obj, from, to })}`); }\r\n    from.splice(i, 1);\r\n    to.push(obj);\r\n};\r\n\r\nexport const distinct = <T>(items: T[]): T[] => {\r\n    const set = new Set(items);\r\n    return [...set];\r\n};\r\n\r\nexport const distinct_key = <T>(items: T[], getKey: (item: T) => string): T[] => {\r\n    const set = {} as { [key: string]: T };\r\n    items.forEach(x => { set[getKey(x)] = x; });\r\n    return getValuesAsItems(set);\r\n};\r\n\r\nexport const groupItems = <T>(items: T[], getKey: (item: T) => string): { [key: string]: T[] } => {\r\n    const groups = {} as { [key: string]: T[] };\r\n    for (const x of items) {\r\n        const g = groups[getKey(x)] ?? (groups[getKey(x)] = []);\r\n        g.push(x);\r\n    }\r\n    return groups;\r\n};\r\n\r\nexport const mergeItems = <T>(items: T[], getKey: (item: T) => string, getMerged: (item: T[], key: string) => T): T[] => {\r\n    const groups = groupItems(items, getKey);\r\n    const merged = getValuesAsItems(groups).map(g => getMerged(g, getKey(g[0])));\r\n    return merged;\r\n};\r\n\r\nexport function sameArrayContents<T>(a: undefined | null | T[], b?: undefined | null | T[]) {\r\n    if (a === b) { return true; }\r\n    if (a == null && b == null) { return true; }\r\n    if (a == null || b == null) { return false; }\r\n    if (a.length !== b.length) { return false; }\r\n    for (const i in a) {\r\n        if (a[i] !== b[i]) { return false; }\r\n    }\r\n    return true;\r\n}\r\n","import { useEffect, useState, useRef } from 'react';\r\nimport { sameArrayContents } from 'utils/arrays';\r\nimport { ErrorState } from 'utils/error';\r\n\r\ntype TDoWork = (\r\n    doWorkInner: (stopIfObsolete: (() => void)) => Promise<void>,\r\n    getContext?: () => unknown[]) => void;\r\n\r\n\r\nexport function useMounted() {\r\n    const mounted = useRef(true);\r\n    useEffect(() => {\r\n        // Unmount on unsub\r\n        return () => {\r\n            mounted.current = false;\r\n        };\r\n    }, [/* Init Only */]);\r\n    return { mounted };\r\n}\r\n\r\n/** Automatically handle loading and error objects with asyncronous calls\r\n * @return The { loading, error, doWork } values\r\n * @example\r\n *\r\n *      const { loading, error, doWork } = ChatHooks.useAutoLoadingError();\r\n *      ...\r\n *          doWork(async (stopIfObsolete) => {\r\n *              ...\r\n *              const result = async DoAsyncWork());\r\n *              stopIfObsolete(); // Stop work if component has been unmounted, or if contextValues have changed since beginning of doWork\r\n *              ...\r\n *              setResult(result);\r\n *          }, () => [ contextValueA, contextValueB ]); // Optional context values to stop work if changed\r\n *    \r\n */\r\nexport function useAutoLoadingError() {\r\n    const { mounted } = useMounted();\r\n    const [loadingError, setLoadingError] = useState({ loading: false, error: null as null | ErrorState });\r\n\r\n    const UNMOUNTED = `unmounted`;\r\n    const CHANGED_CONTEXT = `changedContext`;\r\n\r\n    const doWork: TDoWork = (\r\n        doWorkInner: (stopIfObsolete: (() => void)) => Promise<void>,\r\n        getContext?: () => unknown[]) => {\r\n\r\n        let contextInit = undefined as undefined | unknown[];\r\n\r\n        const stopIfObsolete = () => {\r\n            if (!mounted.current) {\r\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\r\n                throw UNMOUNTED;\r\n            }\r\n            const c = getContext?.();\r\n\r\n            if (!sameArrayContents(contextInit, c)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\r\n                throw CHANGED_CONTEXT;\r\n            }\r\n        };\r\n\r\n        const doCall = async () => {\r\n            contextInit = getContext?.();\r\n            setLoadingError({ loading: true, error: null });\r\n\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            let hadError = false;\r\n\r\n            try {\r\n                try {\r\n                    await doWorkInner(stopIfObsolete);\r\n                    stopIfObsolete();\r\n                    setLoadingError({ loading: false, error: null });\r\n                }\r\n                catch (error) {\r\n                    // Ignore unmounted or changed context\r\n                    if (error !== UNMOUNTED && error !== CHANGED_CONTEXT) {\r\n                        throw error;\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                // console.log(`doWork catch`, { err: error });\r\n                hadError = true;\r\n\r\n                if (!mounted.current) {\r\n                    // console.warn(`doWork Error when not Mounted`, { err: error });\r\n                    return;\r\n                }\r\n\r\n                setLoadingError({ loading: false, error: { message: error.message ?? `Unknown Error in doWork`, error, retryCallback: doCall } });\r\n            }\r\n        };\r\n\r\n        // Start Async\r\n        (async () => await doCall())();\r\n    };\r\n\r\n    return { loading: loadingError.loading, error: loadingError.error, doWork };\r\n}\r\n\r\nexport function useLoadData<T>(doWork: TDoWork, getData: () => Promise<T>, getDataDeps?: () => unknown[]) {\r\n    const [data, setData] = useState(null as null | T);\r\n    useEffect(() => {\r\n        // console.log(`useLoadData.useEffect`);\r\n        doWork(async (stopIfObsolete) => {\r\n            // console.log(`useLoadData.useEffect.doWork`);\r\n            const d = await getData();\r\n            stopIfObsolete();\r\n            setData(d);\r\n        }, getDataDeps);\r\n    }, getDataDeps?.() ?? []);\r\n    return { data };\r\n}\r\n","export { delay } from 'utils/delay';\r\nexport { randomIndex, randomItem } from 'utils/random';\r\nexport { getValuesAsItems } from 'utils/objects';\r\nexport { moveItem } from 'utils/arrays';\r\nexport const randomBinary = (length: number) => String.fromCharCode(...[...new Array(length)].map(x => Math.random() * (126 - 32) + 32));\r\n"],"sourceRoot":""}