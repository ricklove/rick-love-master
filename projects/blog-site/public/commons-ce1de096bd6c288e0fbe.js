(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{"+tC1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("4oWw"),n("PRJl"),n("LnO1"),n("3eMz"),n("dtAy"),n("DB+v");var r=function(e){return Object.keys(e).map((function(e){return e})).map((function(t){return e[t]})).filter((function(e){return e}))},o=function(e){var t={};return e.forEach((function(e){t[e.key]=e.value})),t},i=function(e){return new Map(e.map((function(e){return[e.key,e.value]})))}},"/1As":function(e,t,n){var r=n("7zcn"),o=n("vsji"),i=n("09V9"),a=n("jH7Z"),c=n("GU4h"),l=n("oSRv"),u=n("Vzju"),s=(n("DozX").Reflect||{}).construct,m=l((function(){function e(){}return!(s((function(){}),[],e)instanceof e)})),f=!l((function(){s((function(){}))}));r(r.S+r.F*(m||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!m)return s(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var l=n.prototype,d=o(c(l)?l:Object.prototype),p=Function.apply.call(e,d,t);return c(p)?p:d}})},"0653":function(e,t,n){var r=n("u2Rj"),o=n("udyG"),i=n("yK4D");e.exports=function(e,t,n,a){var c=String(i(e)),l=c.length,u=void 0===n?" ":String(n),s=r(t);if(s<=l||""==u)return c;var m=s-l,f=o.call(u,Math.ceil(m/u.length));return f.length>m&&(f=f.slice(0,m)),a?f+c:c+f}},"22qs":function(e,t,n){"use strict";var r=n("7zcn"),o=n("0653"),i=n("+nJf"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},"4cHy":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){var t=Math.floor(e*Math.random());return t>=e?e-1:t},o=function(e){return e[r(e.length)]}},"5E/N":function(e,t,n){var r=n("DozX").parseInt,o=n("rJUC").trim,i=n("OC0y"),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},"7Q9t":function(e,t,n){var r=n("DozX").parseFloat,o=n("rJUC").trim;e.exports=1/r(n("OC0y")+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},"7dyJ":function(e,t,n){var r=n("7zcn"),o=n("5E/N");r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},"7h3R":function(e,t,n){"use strict";n.r(t),n.d(t,"ProgressGameService",(function(){return V})),n.d(t,"createProgressGameProblemService",(function(){return q})),n.d(t,"ProgressGameView",(function(){return B}));n("PN9k");var r=n("ERkP"),o=n.n(r),i=(n("rmZQ"),n("T7D0"),n("22qs"),n("KI7T"),n("DTYs")),a=n("hsFx"),c=(n("yIC7"),n("p+GS"),n("dtAy"),n("4oWw"),n("nruA"),n("LnO1"),n("XjK0"),n("SCO9"),n("Yyzt"),n("T3IU"),n("DZyD"),n("+tC1"));n("V8LE"),n("BPcy"),n("zpx+"),n("7dyJ");function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){var e=g+"\n"+b+"\n"+S,t=h+"\n"+w+"\n\n"+p(S),n=f(e,"male"),r=f(t,"female"),o={emoji:v,name:"baby",gender:"baby",pay:0,requirementEmojis:[],startEmoji:null,parent:null,children:[]},i=[o].concat(l(n),l(r)),a=o;i.forEach((function(e){var t=i.find((function(t){return e.startEmoji===t.emoji}));t&&(t.children.push(e),e.parent=t)}));var c=m(x);i.forEach((function(e){var t=e.requirementEmojis.map((function(e){var t;return null!==(t=c.find((function(t){return t.emoji===e})))&&void 0!==t?t:{emoji:e,cost:0}})),n=t.map((function(e){return e.emoji+" = "+e.cost})).join("\n"),r=t.reduce((function(e,t){return e+=t.cost}),0);e.debug_totalRequirementsCost=r+" =\n"+n}));var u={allNodes:i,root:a,allRequirements:c};return console.log("buildSkillTree",{tree:u,maleSkillDoc:e,femaleSkillDoc:t}),u},m=function(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e){var t=e.split("=").map((function(e){return e.trim()})).filter((function(e){return e}));return{emoji:t[0],cost:Number.parseInt(t[1],10)}}))},f=function(e,t){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e){return d(e,t)}))},d=function(e,t){var n=e.split(":").map((function(e){return e.trim()})),r=n[0],o=n[1],i=n[2],a=Number.parseInt(o,10),c=i.split("=").map((function(e){return e.trim()})),l=c[0],u=c[1].split("+").map((function(e){return e.trim()}));return{name:r,pay:a,emoji:l,startEmoji:u[0],requirementEmojis:u[1].split(" ").map((function(e){return e.trim()})).filter((function(e){return e})),children:[],parent:null,gender:t}},p=function(e){return e.replace(new RegExp(y.male,"g"),y.female).replace(new RegExp(y.man,"g"),y.woman)},y={man:String.fromCodePoint(128104),woman:String.fromCodePoint(128105),male:String.fromCodePoint(128105),female:String.fromCodePoint(128105)},v="ðŸ‘¶",g="boy               : 0 : ðŸ‘¦ = ðŸ‘¶ + ðŸ¼ ðŸ§¸ ðŸ‘• ðŸ‘– ðŸ§¦ ðŸ©² ðŸ‘Ÿ ðŸ“– ðŸª ðŸš² ðŸŽ®",h="girl            : 0 : ðŸ‘§ = ðŸ‘¶ + ðŸ¼ ðŸ§¸ ðŸ‘š ðŸ‘— ðŸ©° ðŸ©± ðŸ¥¿ ðŸ“– ðŸª ðŸš² ðŸŽ®",b="  student_boy   : 0 : ðŸ‘¨â€ðŸŽ“ = ðŸ‘¦ + ðŸ• âœï¸ ðŸ““ ðŸ“š â° ðŸ“± ðŸ’» ðŸš— ðŸ§³ ðŸŽ“",w="student_girl  : 0 : ðŸ‘©â€ðŸŽ“ = ðŸ‘§ + ðŸ• âœï¸ ðŸ““ ðŸ“š â° ðŸ“± ðŸ’» ðŸš— ðŸ§³ ðŸŽ“",S="\nfactory_worker      :   20000 : ðŸ‘¨â€ðŸ­ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¤ ðŸ¥¾ ðŸ”§ â² ðŸ“‹ ðŸš—              \nmechanic            :   30000 : ðŸ‘¨â€ðŸ”§ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¤ ðŸ¥¾ ðŸ§° ðŸ”§ ðŸ”© ðŸšš         \nconstruction_worker :   75000 : ðŸ‘·â€â™‚ï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ¦º ðŸ¥¾ ðŸ§° ðŸ”§ ðŸ”¨ âš’ ðŸ§± ðŸ§¨ ðŸš™                    \nartist              :   35000 : ðŸ‘¨â€ðŸŽ¨ = ðŸ‘¨â€ðŸŽ“ + ðŸŽ¨ ðŸ–Œ ðŸ–Š ðŸ–‹ ðŸ– âœï¸ ðŸ“’ ðŸ–¼ ðŸ’¡ ðŸ“· ðŸš—          \nsinger              :   40000 : ðŸ‘¨â€ðŸŽ¤ = ðŸ‘¨â€ðŸŽ“ + ðŸŽ¤ ðŸŽ§ ðŸŽ¼ ðŸŽ¹ ðŸ¥ ðŸŽ» ðŸŽ¥ ðŸš—       \nfarmer              :   50000 : ðŸ‘¨â€ðŸŒ¾ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¢ ðŸ¥¾ ðŸ¥š ðŸ• ðŸˆ ðŸ“ ðŸ„ ðŸ– ðŸ‘ ðŸ ðŸšœ        \ncook                :   40000 : ðŸ‘¨â€ðŸ³ = ðŸ‘¨â€ðŸŽ“ + ðŸ“ ðŸ¥‘ ðŸ¥• ðŸ¥© ðŸ¤ ðŸ¥š ðŸ¥« ðŸ¥„ ðŸ´ ðŸ§‚ â° ðŸ”ª ðŸš—      \nfirefighter         :   55000 : ðŸ‘¨â€ðŸš’ = ðŸ‘¨â€ðŸŽ“ + â›‘ï¸ ðŸ§¯ ðŸ¥¾ ðŸª“ ðŸ”” ðŸš’    \npolice_officer      :   60000 : ðŸ‘®â€â™‚ï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¢ âš–ï¸ ðŸ”« ðŸ¥Š ðŸ¤¼ ðŸ“¢ ðŸš“             \ndetective           :   70000 : ðŸ•µï¸â€â™‚ï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ‘” âš–ï¸ ðŸ”¦ ðŸ”Ž ðŸ“‹ ðŸ’¼ ðŸš“          \nteacher             :   50000 : ðŸ‘¨â€ðŸ« = ðŸ‘¨â€ðŸŽ“ + ðŸ“ ðŸ“’ ðŸ“• ðŸ“— ðŸ“˜ ðŸ“™ ðŸš\noffice_worker       :   60000 : ðŸ‘¨â€ðŸ’¼ = ðŸ‘¨â€ðŸŽ“ + ðŸ‘” ðŸ’¼ ðŸ’» ðŸ—„ ðŸª‘ ðŸ“ ðŸ“Š ðŸš—             \ntechnologist        :   80000 : ðŸ‘¨â€ðŸ’» = ðŸ‘¨â€ðŸŽ“ + ðŸ’» âŒ¨ï¸ ðŸ–¥ ðŸ“± ðŸ–± ðŸŽ® ðŸ¤– ðŸš—              \nscientist           :   90000 : ðŸ‘¨â€ðŸ”¬ = ðŸ‘¨â€ðŸŽ“ + ðŸ¥¼ ðŸ¥½ ðŸ”¬ ðŸ’» ðŸ§« ðŸ§ª âš—ï¸ ðŸš—            \njudge               :  120000 : ðŸ‘¨â€âš–ï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ‘” âš–ï¸ ðŸ’¼ ðŸ“š ðŸ—ƒ ðŸ•° ðŸš—   \nhealth_worker       :  100000 : ðŸ‘¨â€âš•ï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ¥¼ â›‘ ðŸ”¬ ðŸ©¹ ðŸ©º ðŸ’Š ðŸ’‰ ðŸ§« â›‘ ðŸš‘\npilot               :  110000 : ðŸ‘¨â€âœˆï¸ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¥ ðŸ§­ ðŸ’» ðŸ•¹ âœˆï¸       \nastronaut           :  130000 : ðŸ‘¨â€ðŸš€ = ðŸ‘¨â€ðŸŽ“ + ðŸ§¥ ðŸ”­ ðŸ’» ðŸ•¹ ðŸš€  \n",x="\nðŸ¼ = 10\nðŸ§¸ = 10\nðŸ‘• = 20\nðŸ‘– = 20\nðŸ§¦ = 10\nðŸ©² = 20\nðŸ‘Ÿ = 30\nðŸ“– = 50\nðŸª = 25\nðŸš² = 150\nðŸŽ® = 200\n\nðŸ‘š = 20\nðŸ‘— = 20\nðŸ©° = 10\nðŸ©± = 20\nðŸ¥¿ = 30\n\nðŸ• = 30\nâœï¸ = 10\nðŸ““ = 20\nðŸ“š = 500\nâ° = 15\nðŸ“± = 350\nðŸ’» = 1250\nðŸš— = 7000\nðŸ§³ = 800\nðŸŽ“ = 10000\n\nðŸ§¤ = 20\nðŸ¥¾ = 80\nðŸ”§ = 110\nâ² = 25\nðŸ“‹ = 15\nðŸ§° = 300\nðŸ”© = 700\nðŸšš = 35000\nðŸ¦º = 150\nðŸ”¨ = 75\nâš’ = 150\nðŸ§± = 3000\nðŸ§¨ = 16000\nðŸš™ = 32000\nðŸŽ¨ = 100\nðŸ–Œ = 70\nðŸ–Š = 50\nðŸ–‹ = 35\nðŸ– = 15\nðŸ“’ = 15\nðŸ–¼ = 80\nðŸ’¡ = 150\nðŸ“· = 400\nðŸŽ¤ = 150\nðŸŽ§ = 120\nðŸŽ¼ = 750\nðŸŽ¹ = 320\nðŸ¥ = 450\nðŸŽ» = 320\nðŸŽ¥ = 1450\nðŸ§¢ = 25\nðŸ¥š = 10\nðŸ• = 35\nðŸˆ = 25\nðŸ“ = 30\nðŸ„ = 350\nðŸ– = 150\nðŸ‘ = 120\nðŸ = 100\nðŸšœ = 15000\nðŸ“ = 25\nðŸ¥‘ = 30\nðŸ¥• = 20\nðŸ¥© = 75\nðŸ¤ = 100\nðŸ¥« = 50\nðŸ¥„ = 120\nðŸ´ = 350\nðŸ§‚ = 120\nðŸ”ª = 225\nâ›‘ï¸ = 150\nðŸ§¯ = 250\nðŸª“ = 50\nðŸ”” = 75\nðŸš’ = 135000\nâš–ï¸ = 15000\nðŸ”« = 750\nðŸ¥Š = 500\nðŸ¤¼ = 1250\nðŸ“¢ = 150\nðŸš“ = 55000\nðŸ‘” = 250\nðŸ”¦ = 55\nðŸ”Ž = 85\nðŸ’¼ = 125\nðŸ“ = 25\nðŸ“• = 75\nðŸ“— = 25\nðŸ“˜ = 60\nðŸ“™ = 30\nðŸš = 16000\nðŸ—„ = 250\nðŸª‘ = 150\nðŸ“ = 50\nðŸ“Š = 750\nâŒ¨ï¸ = 75\nðŸ–¥ = 150\nðŸ–± = 50\nðŸ¤– = 1500\nðŸ¥¼ = 150\nðŸ¥½ = 25\nðŸ”¬ = 3500\nðŸ§« = 150\nðŸ§ª = 300\nâš—ï¸ = 250\nðŸ—ƒ = 150\nðŸ•° = 650\nâ›‘ = 150\nðŸ©¹ = 100\nðŸ©º = 120\nðŸ’Š = 1200\nðŸ’‰ = 1500\nðŸš‘ = 75000\nðŸ§¥ = 550\nðŸ§­ = 50\nðŸ•¹ = 850\nâœˆï¸ = 1500000\nðŸ”­ = 350\nðŸš€ = 150000000\n";function E(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){localStorage.setItem("EmojiIdleState",JSON.stringify(e))},_=function(){if(!localStorage.getItem("EmojiIdleState"))return null;try{var e;return JSON.parse(null!==(e=localStorage.getItem("EmojiIdleState"))&&void 0!==e?e:"")}catch(t){return null}},C=function(){var e,t=s(),n=Object(c.c)(t.allRequirements.map((function(e){return{key:e.emoji,value:e}}))),r={characterEmoji:t.root.emoji,emotion:"normal",lastEmotionTimestamp:Date.now(),money:0,multiplier:1,lastMultiplierChangeTimestamp:Date.now(),lastPurchaseTimestamp:Date.now(),townState:{characters:[]}},o=null!==(e=_())&&void 0!==e?e:r;o=Object.assign(Object.assign({},r),o);var i,a,l=(i=o,a=[],{subscribe:function(e){var t=a.length;return a.push(e),setTimeout((function(){e(i)})),{unsubscribe:function(){a[t]=null}}},onStateChange:function(e){i=e,a.forEach((function(t){return null==t?void 0:t(e)}))}}),u=function(e){o=Object.assign(Object.assign({},o),e),l.onStateChange(o),O(o)},m=function(e){u({money:o.money+o.multiplier,multiplier:Math.min(100,o.multiplier+e),lastMultiplierChangeTimestamp:Date.now()})};return setInterval((function(){if(!o.targetEmoji&&!o.targetOptions){var e=t.allNodes.find((function(e){return e.emoji===o.characterEmoji}));if(e){var r=e.children.map((function(e){return{emoji:e.emoji}})),i=r.filter((function(e){return!o.townState.characters.find((function(e){return e.characterEmoji}))}));i.length>0&&(r=i),0===r.length?u({targetOptions:[{emoji:t.root.emoji}]}):u({targetOptions:r})}}if(o.targetEmoji){var a,c=t.allNodes.find((function(e){return e.emoji===o.targetEmoji}));if(c){var l,s,m=c.requirementEmojis.map((function(e){return n.get(e)})).filter((function(e){return e})).map((function(e){return e})),f=m.filter((function(e){var t;return!(null===(t=o.requirementsPurchased)||void 0===t?void 0:t.includes(e.emoji))}));f.sort((function(e,t){return e.cost-t.cost}));var d=f.filter((function(e){return e.cost<=o.money}));d.length!==(null===(l=o.requirementsAvailable)||void 0===l?void 0:l.length)&&u({requirementsNeeded:m,requirementsAvailable:d}),f.length!==(null===(s=o.requirementsRemaining)||void 0===s?void 0:s.length)&&u({requirementsRemaining:f}),f.length<=0&&u({characterEmoji:o.targetEmoji,targetEmoji:void 0,targetOptions:void 0,requirementsAvailable:void 0,requirementsNeeded:void 0,requirementsPurchased:void 0})}if(Date.now()>(null!==(a=o.lastEmotionTimestamp)&&void 0!==a?a:0)+15e3){var p,y=Date.now()>(null!==(p=o.lastPurchaseTimestamp)&&void 0!==p?p:0)+3e5?"angry":"normal";o.emotion!==y&&u({emotion:y,lastEmotionTimestamp:Date.now()})}}}),1e3),{subscribePetStateChange:l.subscribe,reward:function(){return m(1)},reward_major:function(){return m(10)},reward_extreme:function(){return m(100)},punish:function(){u({multiplier:Math.max(1,o.multiplier-5),lastMultiplierChangeTimestamp:Date.now()})},selectOption:function(e){var n,r;(null===(n=o.targetOptions)||void 0===n?void 0:n.find((function(t){return t.emoji===e})))&&(e===t.root.emoji&&o.townState.characters.push({characterEmoji:o.characterEmoji,finishedTimestamp:Date.now()}),u({targetEmoji:e,targetOptions:void 0,emotion:"excited",lastEmotionTimestamp:Date.now(),lastPurchaseTimestamp:Date.now(),money:0}));var i,a=null===(r=o.requirementsAvailable)||void 0===r?void 0:r.find((function(t){return t.emoji===e}));a&&a.cost<=o.money&&u({requirementsPurchased:[].concat(E(null!==(i=o.requirementsPurchased)&&void 0!==i?i:[]),[a.emoji]),requirementsRemaining:void 0,money:o.money-a.cost,requirementsAvailable:void 0,emotion:"excited",lastEmotionTimestamp:Date.now(),lastPurchaseTimestamp:Date.now()})}}},P={instance:null},k=function(){var e;return null!==(e=P.instance)&&void 0!==e?e:P.instance=C()},T={container:{height:40},fixed:{position:"fixed",top:0,right:0,left:0,zIndex:1e3},inner:{position:"relative",height:40},emotionEmoji:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24},characterEmoji:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24},characterEmoji_small:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16},costText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#00FF00"},costText_small:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:10,color:"#00FF00"},targetCharacterEmoji:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16},objectEmoji:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12},money:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:20,color:"#FFFF00",marginLeft:8},money_small:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#FFFF00"},multiplier:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FF00FF",marginLeft:8},foodText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#333300"}},F=function(e){var t,n,a,c,l=Object(r.useState)(null),u=l[0],s=l[1],m=Object(r.useState)(!1),f=m[0],d=m[1];return Object(r.useEffect)((function(){var e=k().subscribePetStateChange(s);return function(){return e.unsubscribe()}})),f&&u?o.a.createElement(I,{gameState:u,onClose:function(){return d(!1)}}):o.a.createElement(i.h,{style:T.container},o.a.createElement(i.h,{style:T.fixed},o.a.createElement(i.h,{style:T.inner},o.a.createElement(D,{emoji:null!==(t=null==u?void 0:u.characterEmoji)&&void 0!==t?t:"",targetEmoji:null!==(n=null==u?void 0:u.targetEmoji)&&void 0!==n?n:"",emotion:null!==(a=null==u?void 0:u.emotion)&&void 0!==a?a:null,purchased:null!==(c=null==u?void 0:u.requirementsPurchased)&&void 0!==c?c:[],onPress:function(){return d((function(e){return!e}))}}),u&&o.a.createElement(M,{gameState:u}))))},A={container:{background:"#555555"},payText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FFFFFF"},payText_disabled:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#CCCCCC"},moneyText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#FFFF00"},townMoneyText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#00FF00"}},R=s(),I=function(e){var t,n,r,a,c=e.gameState,l=e.onClose,u=c.townState.characters.map((function(e){var t;return{character:e,skill:null!==(t=R.allNodes.find((function(t){return t.emoji===e.characterEmoji})))&&void 0!==t?t:R.root}})).filter((function(e){return e.skill.pay})).map((function(e){return Object.assign(Object.assign({},e),{},{years:(Date.now()-e.character.finishedTimestamp)/864e5,money:Math.floor((Date.now()-e.character.finishedTimestamp)/864e5*e.skill.pay)})})),s=R.allNodes.filter((function(e){return e.children.length<=0&&!c.townState.characters.find((function(t){return t.characterEmoji===e.emoji}))})),m=u.reduce((function(e,t){var n;return e+=null!==(n=t.money)&&void 0!==n?n:0}),0);return o.a.createElement(i.h,{style:A.container},o.a.createElement(i.h,null,o.a.createElement(i.h,{style:{background:"#333333",flexDirection:"row",alignItems:"center"}},o.a.createElement(i.h,{style:{position:"relative",width:100,height:40}},o.a.createElement(i.h,{style:{position:"absolute",left:0,top:0,flexDirection:"column",alignItems:"flex-end"}},o.a.createElement(i.g,{onPress:function(){return l()}},o.a.createElement(i.e,{style:T.characterEmoji}," ðŸ™ ")))),o.a.createElement(i.h,{style:{flex:1}}),o.a.createElement(i.h,{style:{padding:4}},o.a.createElement(i.e,{style:A.townMoneyText},"$"+m.toLocaleString())))),o.a.createElement(i.h,{style:{background:"#333333",flexDirection:"row",alignItems:"center"}},o.a.createElement(i.h,{style:{position:"relative",width:100,height:40}},o.a.createElement(D,{emoji:null!==(t=null==c?void 0:c.characterEmoji)&&void 0!==t?t:"",targetEmoji:null!==(n=null==c?void 0:c.targetEmoji)&&void 0!==n?n:"",emotion:null!==(r=null==c?void 0:c.emotion)&&void 0!==r?r:null,purchased:null!==(a=null==c?void 0:c.requirementsPurchased)&&void 0!==a?a:[],onPress:function(){return l()}}))),u.map((function(e){var t,n,r,a;return o.a.createElement(i.h,{style:{background:"#333333",flexDirection:"row",alignItems:"center"}},o.a.createElement(i.h,{style:{position:"relative",width:100,height:40}},o.a.createElement(D,{emoji:e.character.characterEmoji,targetEmoji:"",emotion:"happy",purchased:null!==(t=null===(n=e.skill)||void 0===n?void 0:n.requirementEmojis)&&void 0!==t?t:[]})),o.a.createElement(i.h,{style:{padding:4}},o.a.createElement(i.e,{style:A.payText},"$"+(null!==(r=null===(a=e.skill)||void 0===a?void 0:a.pay)&&void 0!==r?r:0).toLocaleString())),o.a.createElement(i.h,{style:{padding:4}},o.a.createElement(i.e,{style:A.payText},"x"+e.years.toFixed(1))),o.a.createElement(i.h,{style:{flex:1}}),o.a.createElement(i.h,{style:{padding:4}},o.a.createElement(i.e,{style:A.moneyText},"$"+e.money.toLocaleString())))})),s.map((function(e){return o.a.createElement(i.h,{style:{background:"#555555",flexDirection:"row",alignItems:"center"}},o.a.createElement(i.h,{style:{position:"relative",width:100,height:40,opacity:.5}},o.a.createElement(D,{emoji:e.emoji,targetEmoji:"",emotion:null,purchased:[]})),o.a.createElement(i.h,{style:{padding:4}},o.a.createElement(i.e,{style:A.payText_disabled},"$"+e.pay.toLocaleString())))})))},M=function(e){var t,n=e.gameState,a=Object(r.useState)(0),c=a[0],l=a[1];if(Object(r.useEffect)((function(){l(0)}),[n.targetOptions,n.requirementsAvailable]),n.targetOptions&&n.targetOptions.length>0){var u=n.targetOptions.length;return o.a.createElement(i.h,{style:{position:"absolute",top:0,left:0,right:0}},o.a.createElement(i.h,{style:{flexDirection:"row",justifyContent:"center"}},n.targetOptions.slice(c,c+4).map((function(e){return o.a.createElement(i.g,{key:e.emoji,onPress:function(){return k().selectOption(e.emoji)}},o.a.createElement(i.h,null,o.a.createElement(i.e,{style:T.characterEmoji},e.emoji)))})),u>4&&o.a.createElement(i.g,{onPress:function(){return l((function(e){var t=e+5;return t>=u?0:t}))}},o.a.createElement(i.h,null,o.a.createElement(i.e,{style:T.characterEmoji},c+4<u?"â©":"â®")))))}var s=null!==(t=n.requirementsRemaining)&&void 0!==t?t:[];return o.a.createElement(i.h,null,o.a.createElement(z,null!=n?n:{money:0,multiplier:1}),o.a.createElement(i.h,{style:{position:"absolute",left:90,top:0,flexDirection:"row",zIndex:10}},s.slice(0,3).map((function(e){var t=e.cost<=n.money;return o.a.createElement(i.g,{key:e.emoji,onPress:function(){return k().selectOption(e.emoji)}},o.a.createElement(i.h,{style:{flexDirection:"column",alignItems:"center",background:t?"#003300":"#553300",borderRadius:4,paddingLeft:2,paddingRight:2}},o.a.createElement(i.e,{style:T.characterEmoji_small},e.emoji),o.a.createElement(i.e,{style:Object.assign(Object.assign({},T.costText_small),t?{}:{color:"#FF0000"})},"$"+e.cost.toLocaleString())))}))))},z=function(e){var t=e.money,n=e.multiplier,a=Object(r.useState)(0),c=a[0],l=a[1],u=Object(r.useState)(0),s=u[0],m=u[1],f=Object(r.useRef)(n),d=Object(r.useState)(0),p=d[0],y=d[1];return Object(r.useEffect)((function(){l(5);var e=function(){l((function(e){return e>0?e-1:(clearInterval(t),0)}))};e();var t=setInterval(e,25);return function(){return clearInterval(t)}}),[t]),Object(r.useEffect)((function(){m(10),y(n-f.current),f.current=n;var e=function(){m((function(e){return e>0?e-1:(clearInterval(t),0)}))};e();var t=setInterval(e,25);return function(){return clearInterval(t)}}),[n]),o.a.createElement(i.h,{style:{position:"absolute",top:0,right:4}},o.a.createElement(i.h,{style:{flexDirection:"row",justifyContent:"flex-end"}},o.a.createElement(i.h,{style:{transform:"translate(-"+c+"px,"+2*c+"px) scale("+(.1*c+1)+")"}},o.a.createElement(i.e,{style:T.money},"$"+(null!=t?t:0).toLocaleString())),o.a.createElement(i.h,{style:{transform:"translate(-"+s+"px,"+2*s+"px) scale("+(.1*s+1)+")"}},o.a.createElement(i.e,{style:Object.assign(Object.assign({},T.multiplier),p<-5?{color:"#FF0000"}:p<0?{color:"#FFFF00"}:{color:"#00FF00"})},("x"+(null!=n?n:1).toLocaleString()).padStart(4," ")))))},D=function(e){var t=e.emoji,n=e.targetEmoji,r=e.emotion,a=e.purchased,c=e.onPress;return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{purchased:a}),o.a.createElement(i.h,{style:{position:"absolute",left:20,top:0,flexDirection:"column",alignItems:"flex-end"}},o.a.createElement(i.g,{onPress:function(){return null==c?void 0:c()}},o.a.createElement(W,{emotion:null!=r?r:null,emoji:t}))),o.a.createElement(i.h,{style:{position:"absolute",left:66,top:0,flexDirection:"column",alignItems:"flex-end"}},o.a.createElement(i.e,{style:T.targetCharacterEmoji},""+n)))},L=function(e){var t=e.purchased,n=Object(r.useState)(0),a=n[0],c=n[1];return Object(r.useEffect)((function(){var e=function(){c((function(e){return e+1}))};e();var t=setInterval(e,200);return function(){return clearInterval(t)}}),[t.length]),o.a.createElement(o.a.Fragment,null,t.map((function(e,t){return o.a.createElement(i.h,{style:{position:"absolute",left:0,top:0,flexDirection:"column",alignItems:"flex-end"}},o.a.createElement(i.h,{style:{transform:"translate("+(17*t+a)%60+"px,"+(5*t+a)%24+"px)"}},o.a.createElement(i.e,{style:T.objectEmoji},""+e)))})))},W=function(e){var t=e.emotion,n=e.emoji,a=Object(r.useState)({text:n,isEmotion:!1}),c=a[0],l=a[1];return Object(r.useEffect)((function(){if(!t)return function(){};var e=!1,r=0,o=function(){(e=!e)?l({text:N(t,r++),isEmotion:!0}):l({text:n,isEmotion:!1})};o();var i=setInterval(o,3e3);return function(){return clearInterval(i)}}),[t,n]),o.a.createElement(i.e,{style:c.isEmotion?T.emotionEmoji:T.characterEmoji},c.text)},N=function(e,t){if(!e)return"ðŸ˜¶";if("excited"===e){var n=Object(a.e)(["ðŸ˜","ðŸ˜","ðŸ˜Ž","ðŸ¤©","ðŸ¤—","ðŸ¥³","ðŸ˜‚"]);return n[t%n.length]}if("happy"===e){var r=["ðŸ˜€","ðŸ™‚","ðŸ˜„","ðŸ˜ƒ","ðŸ˜Š"];return r[t%r.length]}if("normal"===e){var o=["ðŸ™‚","ðŸ˜‹","ðŸ˜®","ðŸ™„"];return o[t%o.length]}if("angry"===e){var i=["ðŸ˜³","ðŸ˜Ÿ","ðŸ˜¤","ðŸ˜£","ðŸ¥º","ðŸ˜«","ðŸ˜©"];return i[t%i.length]}if("sick"===e){var c=["ðŸ¤¢","ðŸ¤®","ðŸ˜µ","ðŸ¤§","ðŸ˜¬","ðŸ’©","ðŸ˜ž"];return c[t%c.length]}if("dead"===e){var l=["ðŸ’€","ðŸ‘»","ðŸ§Ÿâ€â™‚ï¸"];return l[t%l.length]}return"ðŸ‘¾"},V=(Object(a.e)(" \n        ðŸ• ðŸ” ðŸŸ ðŸŒ­ ðŸ¿ ðŸ¥“ ðŸ¥š ðŸ§‡ ðŸ¥ž ðŸ§ˆ ðŸ¥ ðŸž ðŸ¥¨ ðŸ¥– ðŸ¥¯ ðŸ§€ ðŸ¥— ðŸ¥™ ðŸ¥ª ðŸŒ¯ ðŸŒ® \n        ðŸ¥© ðŸ— ðŸ– ðŸ  ðŸ¥Ÿ ðŸ¥  ðŸ˜ ðŸ¥¡ ðŸ± ðŸš ðŸ™ ðŸ› ðŸœ ðŸ¦ª ðŸ£ ðŸ¥® ðŸ¥ ðŸ¤ ðŸ¢ ðŸ§† \n        ðŸ¥£ ðŸ ðŸ² ðŸ¥§ ðŸ¦ ðŸ§ ðŸª ðŸ© ðŸ¨ ðŸŽ‚ ðŸ° ðŸ§ ðŸ® ðŸ¯ ðŸµ ".replace("\n"," ").split(" ").map((function(e){return e.trim()})).filter((function(e){return e}))),{onCorrect:function(){k().reward()},onCompleteSection:function(){k().reward_major()},onCompleteSubject:function(){k().reward_extreme()},onWrong:function(){k().punish()}}),q=function(e,t){return Object.assign(Object.assign({},e),{},{recordAnswer:function(t,n){return n.isCorrect?(V.onCorrect(),!t.isReview&&t.isLastOfSubject?V.onCompleteSubject():!t.isReview&&t.isLastOfSection&&V.onCompleteSection()):V.onWrong(),e.recordAnswer(t,n)}})},B=function(){return o.a.createElement(F,null)}},"7vau":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.trim()}},"9J3r":function(e,t,n){"use strict";var r=n("7zcn"),o=n("u2Rj"),i=n("2v4T"),a="".startsWith;r(r.P+r.F*n("giLt")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},"9u8u":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("Yyzt"),n("DjDK"),n("PN9k"),n("KI7T");var r=n("hsFx"),o=function(e,t){var n=t.maxNewReviewCount,o=void 0===n?3:n,i=t.reviewSequencePreviousLength,a=void 0===i?1:i,c=t.reviewQuestionPrefix,l=void 0===c?"ðŸ”„ ":c,u=t.requiredCorrectInRow,s=void 0===u?3:u,m={problemSourceHistory:[],reviewProblems:[],lastReviewProblem:null,reviewSequence:null,repeatState:"new"},f=function(){console.log("createReviewProblemService startReview",m),m.repeatState="review"},d={getSections:e.getSections,gotoSection:e.gotoSection,getNextProblem:function(){if(console.log("createReviewProblemService getNextProblem",m),"review"===m.repeatState){var t=function(){console.log("createReviewProblemService getReviewProblem",m);var e=m.reviewSequence;if(e&&e.iNext>e.iEnd&&(console.log("createReviewProblemService getReviewProblem - End of Sequence",{rSeq:e,state:m}),m.reviewSequence=null),!m.reviewSequence){var t,n,o=m.reviewProblems.find((function(e){var t,n;return e.index>(null!==(t=null===(n=m.lastReviewProblem)||void 0===n?void 0:n.index)&&void 0!==t?t:-1)}));if(!o)return console.log("createReviewProblemService getReviewProblem - No Review Problem (with greater order than last)",{reviewProblems:m.reviewProblems,lastReviewProblem:m.lastReviewProblem,state:m}),m.lastReviewProblem=null,null;var i=null!==(t=null===(n=m.lastReviewProblem)||void 0===n?void 0:n.index)&&void 0!==t?t:-1;m.lastReviewProblem=o,console.log("createReviewProblemService getReviewProblem - Start Review Sequence",m);var c=Math.max(0,o.index-a,i+1);m.reviewSequence={iNext:c,iStart:c,iEnd:o.index}}var u=m.reviewSequence,s=m.problemSourceHistory[u.iNext];return u.iNext++,Object.assign(Object.assign({},s),{},{question:l+s.question,answers:Object(r.e)(s.answers)})}();if(t)return Object.assign(Object.assign({},t),{},{isReview:!0});console.log("createReviewProblemService getNextProblem - No Review Problem - Change Mode to NEW",m),m.repeatState="new"}if(m.reviewProblems.filter((function(e){return e.correctsInRow<=1})).length>=o)return f(),d.getNextProblem();var n=e.getNextProblem();return n.question?(m.problemSourceHistory.push(n),n):(f(),d.getNextProblem())},recordAnswer:function(t,n){console.log("createReviewProblemService recordAnswer",m);var r=m.problemSourceHistory.findIndex((function(e){return e.key===t.key}));if(r<0)e.recordAnswer(t,n);else{var o=m.reviewProblems.find((function(e){return e.index===r}));if(n.isCorrect)o&&(o.correctsInRow++,m.reviewProblems=m.reviewProblems.filter((function(e){return e.correctsInRow<=s})));else if(o)o.correctsInRow=0;else{var i={index:r,correctsInRow:0,_debug_problemKey:t.key};m.reviewProblems.push(i),m.reviewProblems.sort((function(e,t){return e.index-t.index}))}e.recordAnswer(t,n)}}};return d}},DGyM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("yIC7");var r=n("ERkP"),o=n.n(r),i=n("DTYs"),a=function(e){var t=e.languange,n=e.speechService,a=Object(r.useState)(!0),c=a[0],l=a[1],u=Object(r.useState)(0),s=(u[0],u[1]),m=function(){l(!0),setTimeout((function(){l(!1)}),1e3)};Object(r.useEffect)((function(){m()}),[]);return o.a.createElement(i.h,null,o.a.createElement(i.g,{onPress:m},o.a.createElement(i.e,{style:{fontSize:24}},"Voice for "+t)),c&&o.a.createElement(i.a,{size:"small",color:"red"}),!c&&o.a.createElement(o.a.Fragment,null,n.getVoicesForLanguange(t).map((function(e){return o.a.createElement(i.g,{onPress:function(){var r;r=e.voice,n.setVoiceForLanguange(t,r),s((function(e){return e+1})),n.speak(r.name,t)}},o.a.createElement(i.h,null,o.a.createElement(i.e,{style:{margin:4,fontSize:14,whiteSpace:"normal"}},(e.isSelected?"âœ…":"ðŸ”²")+" "+e.voice.lang+" - "+e.voice.name+" - "+(e.voice.localService?"local":"web"))))}))))}},DTYs:function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return x}));n("yKDW"),n("dtAy");var r=n("VtSi"),o=n.n(r),i=(n("3yYM"),n("PN9k"),n("S1bJ"),n("ERkP")),a=n.n(i);function c(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function l(e){if(Array.isArray(e)){var t,n;if(1===e.length)return null!==(n=l(e[0]))&&void 0!==n?n:{};var r=Object.assign({},l(e[0]));return e.forEach((function(e){r=Object.assign(Object.assign({},r),l(null!=e?e:{}))})),null!==(t=r)&&void 0!==t?t:{}}return e}var u,s,m={display:"flex",flexDirection:"column"},f={whiteSpace:"pre"},d=function(e){var t=e;return"none"===t.userSelect&&(t.MozUserSelect="none",t.WebkitUserSelect="none"),e},p=function(e){return a.a.createElement("div",{style:l([m,e.style])},e.children)},y=function(e){if(1===e.numberOfLines){var t=l([f,e.style,{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",textOverflow:"ellipsis"}]);return a.a.createElement("span",{style:d(t)},e.children)}var n=l([f,e.style]);return a.a.createElement("span",{style:d(n)},e.children)},v=function(e){var t,n="numeric"===e.keyboardType?"number":e.secureTextEntry?"password":"text",r="username"===e.autoCompleteType?"username":"password"===e.autoCompleteType?"password":void 0,o=e.onSubmitEditing&&function(t){var n;"Enter"!==t.key||t.shiftKey||(t.preventDefault(),null===(n=e.onSubmitEditing)||void 0===n||n.call(e))}||void 0;return a.a.createElement("input",{type:n,name:r,id:r,style:l([f,e.style]),placeholder:e.placeholder,disabled:!(null===(t=e.editable)||void 0===t||t),value:e.value,onChange:function(t){return e.onChange(t.target.value)},onKeyPress:o,onBlur:e.onBlur})},g=function(e){var t=Object(i.useRef)(Date.now()),n=function(){Date.now()<t.current+250||(t.current=Date.now(),e.onPress())},r=Object(i.useRef)(!0);return a.a.createElement("div",{style:l([m,e.style]),onClick:n,onKeyPress:n,onTouchStart:function(){r.current=!0},onTouchMove:function(){r.current=!1},onTouchEnd:function(){r.current&&n()},role:"button",tabIndex:0},e.children)},h=function(e){var t=function(e){var t;return e.preventDefault(),null===(t=e.stopPropagation)||void 0===t||t.call(e),e.cancelBubble=!0,e.returnValue=!1,!1},n=function(n){return e.onPressIn(),t(n)},r=function(n){return e.onPressOut(),t(n)};return a.a.createElement("div",{style:l([m,e.style]),onMouseDown:n,onMouseUp:r,onTouchStart:n,onTouchEnd:r,onTouchCancel:r,onTouchMove:t,onMouseLeave:r,onTouchEndCapture:r,role:"button",tabIndex:0},e.children)},b=function(e){var t=e.size,n=e.color,r="small"===t?16:32;return a.a.createElement(w,{size:r,thickness:r/8,color:n})},w=function(e){var t=e.size,n=e.thickness,r=e.color,o=.6*(2*Math.PI*(t-n)*.5);return a.a.createElement("svg",{style:{maxWidth:t},viewBox:"0 0 "+t+" "+t,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{style:{fill:"transparent",stroke:r,strokeWidth:n,opacity:.5},cx:.5*t,cy:.5*t,r:.5*t-n}),a.a.createElement("circle",{className:"activity-spinner",style:{strokeDasharray:o,fill:"transparent",stroke:r,strokeWidth:n,transformOrigin:.5*t+"px "+.5*t+"px"},cx:.5*t,cy:.5*t,r:.5*t-n}))},S={OS:"web"},x={setString:(u=o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:case"end":return e.stop()}}),e)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function i(e){c(o,n,r,i,a,"next",e)}function a(e){c(o,n,r,i,a,"throw",e)}i(void 0)}))},function(e){return s.apply(this,arguments)})}},DjDK:function(e,t,n){"use strict";var r=n("7zcn"),o=n("QY3j")(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("lrpY")(i)},HUzP:function(e,t,n){var r=n("7zcn"),o=n("7Q9t");r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},NunO:function(e,t,n){n("UQCJ"),n("yKDW"),n("yIC7"),n("p+GS"),n("AA1/"),n("/CC1"),n("Ph8W"),n("LnO1"),n("3eMz"),n("dtAy"),n("DB+v"),n("XjK0"),n("SCO9"),function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(){}function a(){}t=t&&t.hasOwnProperty("default")?t.default:t,a.resetWarningCache=i;var c=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}()})),l=function(e){return null!==e&&"object"===n(e)},u=function e(t,n){if(!l(t)||!l(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o="[object Object]"===Object.prototype.toString.call(t);if(o!==("[object Object]"===Object.prototype.toString.call(n)))return!1;if(!o&&!r)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var c={},u=0;u<i.length;u+=1)c[i[u]]=!0;for(var s=0;s<a.length;s+=1)c[a[s]]=!0;var m=Object.keys(c);if(m.length!==i.length)return!1;var f=t,d=n;return m.every((function(t){return e(f[t],d[t])}))},s=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},m=function(e){if(null===e||l(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},f=function(e){if(function(e){return l(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(m)};var t=m(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},d=t.createContext(null);d.displayName="ElementsContext";var p=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(d),e)},y=function(e){return(0,e.children)(p("mounts <ElementsConsumer>"))};y.propTypes={children:c.func.isRequired};var v=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},g=function(e){return l(e)?(e.paymentRequest,r(e,["paymentRequest"])):{}},h=function(){},b=function(e,n){var r,o="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),i=n?function(e){p("mounts <".concat(o,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r=n.id,i=n.className,a=n.options,c=void 0===a?{}:a,l=n.onBlur,s=void 0===l?h:l,m=n.onFocus,f=void 0===m?h:m,d=n.onReady,y=void 0===d?h:d,b=n.onChange,w=void 0===b?h:b,S=n.onEscape,x=void 0===S?h:S,E=n.onClick,j=void 0===E?h:E,O=p("mounts <".concat(o,">")).elements,_=t.useRef(null),C=t.useRef(null),P=v(y),k=v(s),T=v(f),F=v(j),A=v(w),R=v(x);t.useLayoutEffect((function(){if(null==_.current&&O&&null!=C.current){var t=O.create(e,c);_.current=t,t.mount(C.current),t.on("ready",(function(){return P(t)})),t.on("change",A),t.on("blur",k),t.on("focus",T),t.on("escape",R),t.on("click",F)}}));var I=t.useRef(c);return t.useEffect((function(){I.current&&I.current.paymentRequest!==c.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=g(c);0===Object.keys(e).length||u(e,g(I.current))||_.current&&(_.current.update(e),I.current=c)}),[c]),t.useEffect((function(){return function(){_.current&&_.current.destroy()}}),[]),t.createElement("div",{id:r,className:i,ref:C})};return i.propTypes={id:c.string,className:c.string,onChange:c.func,onBlur:c.func,onFocus:c.func,onReady:c.func,onClick:c.func,options:c.object},i.displayName=o,i.__elementType=e,i},w="undefined"==typeof window,S=b("auBankAccount",w),x=b("card",w),E=b("cardNumber",w),j=b("cardExpiry",w),O=b("cardCvc",w),_=b("fpxBank",w),C=b("iban",w),P=b("idealBank",w),k=b("paymentRequestButton",w);e.AuBankAccountElement=S,e.CardCvcElement=O,e.CardElement=x,e.CardExpiryElement=j,e.CardNumberElement=E,e.Elements=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),c=t.useRef(!0),l=t.useMemo((function(){return f(n)}),[n]),m=o(t.useState((function(){return{stripe:null,elements:null}})),2),p=m[0],y=m[1],v=s(n),g=s(r);return null!==v&&(v!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),u(r,g)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),a.current||("sync"===l.tag&&(a.current=!0,y({stripe:l.stripe,elements:l.stripe.elements(r)})),"async"===l.tag&&(a.current=!0,l.stripePromise.then((function(e){e&&c.current&&y({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){c.current=!1}}),[]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.1.2"})}),[p.stripe]),t.createElement(d.Provider,{value:p},i)},e.ElementsConsumer=y,e.FpxBankElement=_,e.IbanElement=C,e.IdealBankElement=P,e.PaymentRequestButtonElement=k,e.useElements=function(){return p("calls useElements()").elements},e.useStripe=function(){return p("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("ERkP"))},O6JU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n("rmZQ"),n("T7D0");function r(e){return i(e).corrected}function o(e){return"+1"+i(e).digitsNo1}function i(e){for(var t,n=null!==(t=null==e?void 0:e.replace(/^(\+1|1)/,"").replace(/\D/g,"").split(""))&&void 0!==t?t:[],r="(###) ###-####".split(""),o=0,i=-1,a=0;a<r.length;a++)"#"===r[a]&&o<n.length&&(r[a]=n[o],o++,i=a);var c=r.join("");return{corrected:r.slice(0,i+1).join(""),full:c,digitsNo1:n.join("")}}},PQcI:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("yKDW"),n("dtAy");var r=n("VtSi"),o=n.n(r),i=(n("3yYM"),n("ERkP")),a=n.n(i),c=n("NunO");n("4oWw"),n("nruA"),n("p+GS"),n("AA1/"),n("XjK0"),n("SCO9"),n("LnO1"),n("/CC1");function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u="https://js.stripe.com/v3",s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,m="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",f=null,d=function(e){return null!==f?f:f=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(m),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u,'"]')),t=0;t<e.length;t++){var n=e[t];if(s.test(n.src))return n}return null}();r&&e?console.warn(m):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(u).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(o){return void n(o)}else t(null)}))},p=function(e,t){if(null===e)return null;var n=e.apply(void 0,l(t));return function(e){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.5.0"})}(n),n},y=Promise.resolve().then((function(){return d(null)})),v=!1;y.catch((function(e){v||console.warn(e)}));n("3eMz"),n("PRJl"),n("/1As");function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,S(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function h(e,t,n){return(h=b()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&w(o,n.prototype),o}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x,E=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).message=t,r.data=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(g(Error)),j=n("QZUc");!function(e){e[e._01_Client_BeginCreateSavedPaymentMethod=100]="_01_Client_BeginCreateSavedPaymentMethod",e[e._02_Server_SetupSavedPaymentMethod=200]="_02_Server_SetupSavedPaymentMethod",e[e._03_Client_CollectPaymentDetails=300]="_03_Client_CollectPaymentDetails",e[e._04_Server_ObtainPaymentMethod=400]="_04_Server_ObtainPaymentMethod",e[e._05_Server_SavePaymentMethod=500]="_05_Server_SavePaymentMethod"}(x||(x={}));var O,_;function C(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}(_=O||(O={}))[_._02A_Server_GetOrCreateCustomer=x._02_Server_SetupSavedPaymentMethod+1]="_02A_Server_GetOrCreateCustomer",_[_._02B_Server_CreateSetupIntent=x._02_Server_SetupSavedPaymentMethod+2]="_02B_Server_CreateSetupIntent",_[_._03A_Client_CollectPaymentDetails=x._03_Client_CollectPaymentDetails+1]="_03A_Client_CollectPaymentDetails",_[_._04A_Server_ObtainPaymentMethod=x._04_Server_ObtainPaymentMethod+1]="_04A_Server_ObtainPaymentMethod",_[_._04B_Server_ObtainPaymentMethodDetails=x._04_Server_ObtainPaymentMethod+2]="_04B_Server_ObtainPaymentMethodDetails";var P=function(e,t,n){console.log("CreateSavedPaymentMethod_Stripe: "+O[e]+" "+t,n)},k=function(){var e,t=(e=o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(t,"BEGIN"),e.next=4,n();case 4:return r=e.sent,P(t,"END"),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),P(t,"FAIL",{error:e.t0}),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();function T(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,c,"next",e)}function c(e){T(i,r,o,a,c,"throw",e)}a(void 0)}))}}var A=function(e){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v=!0,y.then((function(e){return p(e,t)}))}(e.stripePublicKey);return{AppWrapperComponent:function(e){var n=e.children;return a.a.createElement(c.Elements,{stripe:t},n)},PaymentMethodEntryComponent:function(e){var t,n=e.style,r=e.paymentMethodSetupToken,l=e.onPaymentMethodReady,u=Object(c.useStripe)(),s=Object(c.useElements)(),m=Object(i.useState)(null),f=m[0],d=m[1],p=function(){var e=F(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,k(O._03A_Client_CollectPaymentDetails,F(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.a)(r),e.next=3,u.confirmCardSetup(t.clientSecret,{payment_method:{card:s.getElement(c.CardElement),billing_details:t.customerBillingDetails}});case 3:if(!(n=e.sent).error&&n.setupIntent){e.next=6;break}throw new E("Stripe Payment Error",n.error);case 6:return e.abrupt("return",n.setupIntent);case 7:case"end":return e.stop()}}),e)}))));case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return");case 9:l(Object(j.c)({setupIntent:n})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({message:"Stripe Payment Error",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),y=n,v={base:{color:y.textColor,fontSize:y.fontSize?y.fontSize+"px":"",fontFamily:y.fontFamily,fontSmoothing:"antialiased","::placeholder":{color:y.textColor,opacity:.8}},invalid:{color:y.textColor_invalid,iconColor:y.textColor_invalid}},g={marginBottom:y.elementPadding,padding:y.textPadding,backgroundColor:y.backgroundColor,borderWidth:1,borderStyle:"solid",borderColor:y.borderColor,borderRadius:y.borderRadius},h={color:y.textColor,backgroundColor:y.backgroundColor,borderWidth:1,borderStyle:"solid",borderColor:y.borderColor,borderRadius:y.borderRadius,fontSize:y.fontSize?y.fontSize+"px":"",fontFamily:y.fontFamily,fontSmoothing:"antialiased",fontWeight:"bold",padding:y.textPadding,marginBottom:y.elementPadding},b="left"===y.buttonAlignment?"flex-start":"right"===y.buttonAlignment?"flex-end":"center",w={marginBottom:y.elementPadding,padding:y.textPadding,backgroundColor:y.backgroundColor,borderWidth:1,borderStyle:"solid",borderColor:y.borderColor,borderRadius:y.borderRadius},S={color:y.textColor_invalid,fontSize:y.fontSize?y.fontSize+"px":"",fontFamily:y.fontFamily,fontSmoothing:"antialiased",fontWeight:"bold",padding:y.textPadding,marginBottom:y.elementPadding};return a.a.createElement("form",{onSubmit:p},a.a.createElement("div",{style:g},a.a.createElement(c.CardElement,{options:{style:v}})),f&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:w},a.a.createElement("span",{style:S},f.message))),!f&&a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:b}},a.a.createElement("button",{type:"submit",disabled:!u||!s,style:h},null!==(t=y.buttonText)&&void 0!==t?t:"Subscribe")))}}}},QZUc:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=function(e){return e},o=function(e){return e},i=function(e){return e}},S1bJ:function(e,t,n){},V8LE:function(e,t,n){var r=n("7zcn"),o=n("rbMR"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},WMlK:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},ZUB1:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("+5EW"),n("SCO9"),n("Ph8W"),n("PN9k");var r=n("ERkP"),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(o),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function l(e){return function(t){return r.createElement(u,a({attr:a({},e.attr)},t),function e(t){return t&&t.map((function(t,n){return r.createElement(t.tag,a({key:n},t.attr),e(t.child))}))}(e.child))}}function u(e){var t=function(t){var n,o=e.size||t.size||"1em";t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className);var i=e.attr,l=e.title,u=c(e,["attr","title"]);return r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:a({color:e.color||t.color},t.style,e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(e){return t(e)})):t(o)}},aLR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("9J3r");var r=n("DTYs"),o=function(){if("web"!==r.c.OS)return{speak:function(){},getVoicesForLanguange:function(){return[]},setVoiceForLanguange:function(){}};var e=window.speechSynthesis,t={};return{speak:function(n,r){var o,i=null!==(o=t[null!=r?r:"en"])&&void 0!==o?o:null;try{var a=new SpeechSynthesisUtterance(n);a.voice=i,e.speak(a)}catch(c){}},getVoicesForLanguange:function(n){var r=e.getVoices();return console.log("voices",{voices:r}),r.filter((function(e){return e.lang.startsWith(n)})).map((function(e){return{voice:e,isSelected:t[n]===e}}))},setVoiceForLanguange:function(e,n){t[e]=n}}}},bQih:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("PN9k");var r,o=n("ERkP"),i=n.n(o),a=n("DTYs"),c=n("gptL"),l=(n("T3IU"),function(e,t){var n=[];return JSON.stringify(e,(function(e,t){if(null!=t&&"object"==typeof t){if(n.includes(t))return"[OBJ-DUPLICATED]";n.push(t)}return t}),t?2:0)}),u=(n("yIC7"),n("ilhn")),s=n("3pNR"),m=n("T8kG");n("LnO1"),n("3eMz"),n("dtAy");!function(e){e[e.menu=0]="menu",e[e.back=1]="back",e[e.error=2]="error",e[e.expanded=3]="expanded",e[e.collapsed=4]="collapsed",e[e.copy=5]="copy",e[e.retry=6]="retry",e[e.dashboard=7]="dashboard",e[e.add=8]="add",e[e.remove=9]="remove",e[e.eye=10]="eye",e[e.eyeSlash=11]="eyeSlash",e[e.account=12]="account",e[e.message=13]="message",e[e.subscription=14]="subscription",e[e.calendar=15]="calendar",e[e.contacts=16]="contacts",e[e.keys=17]="keys",e[e.resources=18]="resources",e[e.admin=19]="admin"}(r||(r={}));var f=function(e){var t,n,o,l,f,d=function(e){switch(e){case r.menu:return{name:"menu",component:u.f};case r.back:return{name:"arrow-back",component:u.a};case r.error:return{name:"error-outline",component:u.e};case r.expanded:return{name:"chevron-down",component:s.a};case r.collapsed:return{name:"chevron-right",component:s.b};case r.copy:return{name:"content-copy",component:u.c};case r.retry:return{name:"reload",component:m.e};case r.dashboard:return{name:"dashboard",component:u.d};case r.add:return{name:"plus",component:m.d};case r.remove:return{name:"minus",component:m.c};case r.eye:return{name:"eye",component:m.a};case r.eyeSlash:return{name:"eye-slash",component:m.b};default:return{name:"unknown",component:u.b}}}(e.kind),p=d.component,y=null!==(t=null!==(n=null===(o=e.style)||void 0===o?void 0:o.size)&&void 0!==n?n:c.c.icon.size)&&void 0!==t?t:c.c.sizes.fontSize;return i.a.createElement(a.h,{style:{width:y,height:y}},i.a.createElement(p,{name:d.name,size:y,color:null!==(l=null===(f=e.style)||void 0===f?void 0:f.color)&&void 0!==l?l:c.c.icon.color}))},d={view:c.c.view_error,text:c.c.text_error,text_errorMessage:c.c.text_errorMessage,icon:c.c.icon,icon_errorMessage:c.c.icon_errorMessage,button:{outlineColor:c.c.colors.outline}},p=function(e){var t,n,c=Object(o.useState)(!1),u=c[0],s=c[1],m="string"==typeof e.error?""+e.error:null,p=null!==(t=null!==(n=e.error.message)&&void 0!==n?n:m)&&void 0!==t?t:"Unknown Error",y=e.error.data&&l(e.error.data,!0)||void 0,v=e.error&&l(e.error,!0)||void 0,g=!!y||!!v;return i.a.createElement(a.h,{style:d.view},i.a.createElement(a.h,{style:{flexDirection:"row"}},i.a.createElement(a.g,{style:Object.assign({flex:1,flexDirection:"row",alignItems:"center"},d.button),onPress:function(){return s(!u)}},g&&(u?i.a.createElement(f,{style:d.icon,kind:r.expanded}):i.a.createElement(f,{style:d.icon,kind:r.collapsed})),i.a.createElement(a.h,{style:{paddingRight:8}},i.a.createElement(f,{style:d.icon,kind:r.error})),i.a.createElement(a.h,{style:{flex:1,overflow:"hidden"}},i.a.createElement(a.e,{style:d.text,numberOfLines:u?void 0:1},p))),i.a.createElement(a.g,{style:Object.assign({flexDirection:"row",alignItems:"center",paddingLeft:8},d.button),onPress:function(){return a.b.setString(l({errorMessage:p,errorDetails:y,errorObjText:v},!0))}},i.a.createElement(f,{style:d.icon,kind:r.copy})),e.error.retryCallback&&i.a.createElement(a.g,{style:Object.assign({flexDirection:"row",alignItems:"center",paddingLeft:8},d.button),onPress:e.error.retryCallback},i.a.createElement(f,{style:d.icon,kind:r.retry}))),g&&u&&!!y&&i.a.createElement(a.e,{style:Object.assign({},d.text)},y),g&&u&&!!v&&i.a.createElement(a.e,{style:Object.assign({},d.text)},v))},y=(n("zpx+"),n("HUzP"),n("O6JU")),v=n("7vau"),g=function(e){var t,n=null!==(t=e.style)&&void 0!==t?t:e.styleAlt?c.c.button_formAction_alt:c.c.button_formAction;return i.a.createElement(a.g,{style:Object(c.b)(n),onPress:e.onPress},i.a.createElement(a.e,{style:Object(c.a)(n)},e.children))},h={Loading:function(e){return e.loading?i.a.createElement(a.h,null,i.a.createElement(a.a,{size:"large",color:c.c.colors.loader})):i.a.createElement(i.a.Fragment,null)},LoadingInline:function(e){return e.loading?i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{size:"small",color:c.c.colors.loader})):i.a.createElement(i.a.Fragment,null)},ErrorBox:function(e){var t=e.error;return t?i.a.createElement(p,{error:t}):i.a.createElement(i.a.Fragment,null)},ErrorMessage:function(e){return i.a.createElement(a.h,{style:{flexDirection:"row",alignItems:"center"}},i.a.createElement(a.h,{style:{paddingLeft:8,paddingRight:8}},i.a.createElement(f,{style:d.icon_errorMessage,kind:r.error})),i.a.createElement(a.h,{style:{overflow:"hidden"}},i.a.createElement(a.e,{style:d.text_errorMessage,numberOfLines:1},e.children)))},View_Panel:function(e){return i.a.createElement(a.h,Object.assign({style:c.c.view_panel},e))},View_Form:function(e){return i.a.createElement(a.h,Object.assign({style:c.c.view_form},e))},View_FormFields:function(e){return i.a.createElement(a.h,Object.assign({style:c.c.view_formFields},e))},View_FieldRow:function(e){return i.a.createElement(a.h,Object.assign({style:c.c.view_fieldRow},e))},View_FormActionRow:function(e){return i.a.createElement(a.h,Object.assign({style:c.c.view_formActionRow},e))},Text_FormTitle:function(e){return i.a.createElement(a.e,Object.assign({style:c.c.text_formTitle},e))},Text_FieldLabel:function(e){return i.a.createElement(a.e,Object.assign({style:c.c.text_fieldLabel,numberOfLines:1},e))},Button_FieldInline:function(e){return i.a.createElement(g,Object.assign({style:e.styleAlt?c.c.button_fieldInline_alt:c.c.button_fieldInline},e))},Button_FormAction:function(e){return i.a.createElement(g,Object.assign({style:e.styleAlt?c.c.button_formAction_alt:c.c.button_formAction},e))},Input_Text:function(e){var t;return i.a.createElement(a.f,{style:null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,keyboardType:"default",autoCompleteType:"off",placeholder:e.placeholder,editable:e.editable,value:""+e.value,onChange:function(t){return e.onChange(t)},onSubmitEditing:e.onSubmit})},Input_Username:function(e){var t;return i.a.createElement(a.f,{style:null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,keyboardType:"default",autoCompleteType:"username",placeholder:e.placeholder,editable:e.editable,value:""+e.value,onChange:function(t){return e.onChange(t)},onSubmitEditing:e.onSubmit})},Input_Password:function(e){var t,n=Object(o.useState)(!1),l=n[0],u=n[1],s=null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,m=s.marginRight;return i.a.createElement(a.h,{style:{flexDirection:"row",alignItems:"center"}},i.a.createElement(a.f,{style:Object.assign(Object.assign({},s),{},{marginRight:0}),keyboardType:"default",autoCompleteType:"password",secureTextEntry:!l,placeholder:e.placeholder,editable:e.editable,value:""+e.value,onChange:function(t){return e.onChange(t)},onSubmitEditing:e.onSubmit,onBlur:e.onBlur}),i.a.createElement(a.g,{onPress:function(){return u((function(e){return!e}))},style:{outlineColor:c.c.icon.outlineColor}},i.a.createElement(a.h,{style:{paddingLeft:4,paddingRight:4,marginRight:m}},i.a.createElement(f,{style:c.c.icon,kind:l?r.eye:r.eyeSlash}))))},Input_Phone:function(e){var t,n=Object(o.useState)(Object(y.a)(e.value)),r=n[0],l=n[1];return i.a.createElement(a.f,{style:null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,keyboardType:"phone-pad",autoCompleteType:"tel",placeholder:e.placeholder,editable:e.editable,value:r,onChange:function(t){l(Object(y.a)(t)),e.onChange(Object(y.b)(t))},onSubmitEditing:e.onSubmit})},Input_Email:function(e){var t,n=Object(o.useState)(Object(v.a)(e.value)),r=n[0],l=n[1];return i.a.createElement(a.f,{style:null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,keyboardType:"email-address",autoCompleteType:"email",placeholder:e.placeholder,editable:e.editable,value:r,onChange:function(t){l(Object(v.a)(t)),e.onChange(Object(v.a)(t))},onSubmitEditing:e.onSubmit})},Input_Currency:function(e){var t;return i.a.createElement(a.f,{style:null!==(t=e.style)&&void 0!==t?t:c.c.input_fieldEntry,keyboardType:"numeric",autoCompleteType:"off",placeholder:e.placeholder,editable:e.editable,value:""+e.value,onChange:function(t){return e.onChange(Number.parseFloat(t)||0)},onSubmitEditing:e.onSubmit})}}},decI:function(e,t,n){var r=n("7zcn");r(r.S,"Math",{sign:n("WMlK")})},eCSs:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("VtSi"),o=n.n(r);n("3yYM"),n("yKDW"),n("dtAy");function i(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,l,"next",e)}function l(e){i(a,r,o,c,l,"throw",e)}c(void 0)}))}}function c(e){return l.apply(this,arguments)}function l(){return(l=a(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},gptL:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return m}));n("PN9k");var r=function(e){var t,n,r,o,i,a,c,l;return{display:e.display,flexDirection:e.flexDirection,flex:e.flex,justifyContent:e.justifyContent,alignItems:e.alignItems,overflow:e.overflow,background:e.background,margin:e.margin,marginLeft:null!==(t=e.margin)&&void 0!==t?t:e.marginLeft,marginRight:null!==(n=e.margin)&&void 0!==n?n:e.marginRight,marginTop:null!==(r=e.margin)&&void 0!==r?r:e.marginTop,marginBottom:null!==(o=e.margin)&&void 0!==o?o:e.marginBottom,padding:e.padding,paddingRight:null!==(i=e.padding)&&void 0!==i?i:e.paddingRight,paddingLeft:null!==(a=e.padding)&&void 0!==a?a:e.paddingLeft,paddingTop:null!==(c=e.padding)&&void 0!==c?c:e.paddingTop,paddingBottom:null!==(l=e.padding)&&void 0!==l?l:e.paddingBottom,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,height:e.height,borderWidth:e.borderWidth,borderRadius:e.borderRadius,borderColor:e.borderColor,borderStyle:e.borderStyle,outlineColor:e.outlineColor}},o=function(e){return{color:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,lineHeight:e.lineHeight,outlineColor:e.outlineColor}},i=function(e){var t,n,r,o;return{borderWidth:e.all,borderLeftWidth:null!==(t=e.left)&&void 0!==t?t:e.all,borderRightWidth:null!==(n=e.right)&&void 0!==n?n:e.all,borderTopWidth:null!==(r=e.top)&&void 0!==r?r:e.all,borderBottomWidth:null!==(o=e.bottom)&&void 0!==o?o:e.all}},a={textPadding:4,borderWidth:{all:1},borderWidth_minor:{all:1},borderWidth_input:{all:1},borderRadius:4,sectionGap:16,elementGap:8,rowGap:4,rowPadding:4,fontSize:14,fontSize_input:16,fontSize_button:14,fontSize_header:16,lineHeight:"18px",minWidth_label:120,minWidth_input:120,minWidth_button:120,icon:14},c={fontFamily:'"Trebuchet MS", Helvetica, Roboto, sans-serif',fontWeight_normal:"normal",fontWeight_button:"bold",fontWeight_header:"bold"},l=function(e,t,n){var r=Object.assign(Object.assign({},i(t.borderWidth)),{},{borderRadius:t.borderRadius,borderColor:e.border,borderStyle:"solid",outlineColor:e.outline}),o=Object.assign(Object.assign({},i(t.borderWidth_minor)),{},{borderRadius:t.borderRadius,borderColor:e.border_minor,borderStyle:"solid",outlineColor:e.outline}),a=Object.assign(Object.assign({},i(t.borderWidth_input)),{},{borderRadius:t.borderRadius,borderColor:e.border_input,borderStyle:"solid",outlineColor:e.outline}),c={};return{colors:e,sizes:t,font:n,view_panel:{background:e.background,padding:t.elementGap},view_form:Object.assign(Object.assign({},r),{},{marginBottom:t.sectionGap,padding:t.elementGap}),text_formTitle:{padding:t.textPadding,color:e.text_header,fontSize:t.fontSize_header,fontFamily:n.fontFamily,fontWeight:n.fontWeight_header},view_formFields:Object.assign(Object.assign({},o),{},{marginBottom:t.rowGap,background:e.background_field}),view_fieldRow:{marginLeft:t.rowPadding,display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},text_fieldLabel:{padding:t.textPadding,color:e.text,fontSize:t.fontSize,fontWeight:n.fontWeight_normal,minWidth:t.minWidth_label},input_fieldEntry:Object.assign(Object.assign({},a),{},{marginBottom:t.rowGap,marginRight:t.rowGap,padding:t.textPadding,color:e.text,fontSize:t.fontSize_input,fontWeight:n.fontWeight_normal,lineHeight:t.lineHeight,minWidth:t.minWidth_input}),button_fieldInline:c=Object.assign(Object.assign({},r),{},{marginBottom:t.rowGap,marginRight:t.rowGap,padding:t.textPadding,background:e.background_button,color:e.text_button,fontSize:t.fontSize_button,fontWeight:n.fontWeight_button,lineHeight:t.lineHeight,display:"flex",minWidth:t.minWidth_button}),button_fieldInline_alt:c=Object.assign(Object.assign({},c),{},{background:e.text_button,color:e.background_button,borderColor:e.background_button}),view_formActionRow:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginBottom:t.elementGap},button_formAction:c=Object.assign(Object.assign({},r),{},{marginLeft:t.elementGap,padding:t.textPadding,background:e.background_button,color:e.text_button,fontSize:t.fontSize_button,fontWeight:n.fontWeight_button,lineHeight:t.lineHeight,minWidth:t.minWidth_button}),button_formAction_alt:c=Object.assign(Object.assign({},c),{},{background:e.text_button,color:e.background_button,borderColor:e.background_button}),view_error:Object.assign(Object.assign({},r),{},{marginBottom:t.sectionGap,padding:t.rowPadding,background:e.background_error}),text_error:{padding:t.textPadding,color:e.text_error,fontSize:t.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight_button},text_errorMessage:{padding:t.textPadding,color:e.text_errorMessage,fontSize:t.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight_button},icon:{size:t.icon,color:e.icon,outlineColor:e.outline},icon_errorMessage:{size:t.icon,color:e.text_errorMessage,outlineColor:e.outline}}},u=Object.assign(Object.assign({},{text:"#333333",text_header:"#333333",text_button:"#333333",text_error:"#333333",text_errorMessage:"#ff3333",border:"#cccccc",border_minor:"#cccccc",border_input:"#cccccc",outline:"#888888",background:"#ffffff",background_field:"#dddddd",background_button:"#eeeeee",background_error:"#ffcccc",loader:"#3333ff",icon:"#3333ff"}),{},{text:"#2b2b2b",text_header:"#863d8f",text_button:"#ffffff",border:"#863d8f",border_minor:"#863d8f",border_input:"#aaaaaa",background:"#ffffff",background_field:"#dddddd",background_button:"#863d8f",loader:"#863d8f",icon:"#863d8f"}),s=Object.assign(Object.assign({},a),{},{borderWidth:{all:1,bottom:4},borderWidth_minor:{all:0,bottom:1}}),m=l(u,s,c)},hsFx:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return m}));n("yIC7"),n("p+GS"),n("nruA"),n("XjK0"),n("SCO9"),n("Yyzt"),n("LnO1"),n("3eMz"),n("dtAy"),n("4oWw"),n("zQXS");var r=n("+tC1");function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t,n){var r=t.indexOf(e);if(r<0)throw new Error("moveItem Failed to find an item in the from array: "+JSON.stringify({obj:e,from:t,to:n}));t.splice(r,1),n.push(e)},l=function(e){return o(new Set(e))},u=function(e){return e.map((function(e){return{x:e,value:Math.random()}})).sort((function(e,t){return e.value-t.value})).map((function(e){return e.x}))},s=function(e,t){var n={};return e.forEach((function(e){n[t(e)]=e})),Object(r.a)(n)};function m(e,t){if(e===t)return!0;if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}},njmQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("yKDW"),n("dtAy");var r=n("VtSi"),o=n.n(r),i=(n("3yYM"),n("ERkP")),a=n("hsFx");function c(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function u(){var e=function(){var e=Object(i.useRef)(!0);return Object(i.useEffect)((function(){return function(){e.current=!1}}),[]),{mounted:e}}().mounted,t=Object(i.useState)({loading:!1,error:null}),n=t[0],r=t[1];return{loading:n.loading,error:n.error,doWork:function(t,n){var i=void 0,c=function(){if(!e.current)throw"unmounted";var t=null==n?void 0:n();if(!Object(a.d)(i,t))throw"changedContext"},u=function(){var a=l(o.a.mark((function a(){var l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=null==n?void 0:n(),r({loading:!0,error:null}),!1,o.prev=3,o.prev=4,o.next=7,t(c);case 7:c(),r({loading:!1,error:null}),o.next=15;break;case 11:if(o.prev=11,o.t0=o.catch(4),"unmounted"===o.t0||"changedContext"===o.t0){o.next=15;break}throw o.t0;case 15:o.next=23;break;case 17:if(o.prev=17,o.t1=o.catch(3),!0,e.current){o.next=22;break}return o.abrupt("return");case 22:r({loading:!1,error:{message:null!==(l=o.t1.message)&&void 0!==l?l:"Unknown Error in doWork",error:o.t1,retryCallback:u}});case 23:case"end":return o.stop()}}),a,null,[[3,17],[4,11]])})));return function(){return a.apply(this,arguments)}}();l(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}}}},pzhj:function(e,t,n){"use strict";n.r(t),n.d(t,"EducationalGame_StarBlastSideways_Multiples",(function(){return g})),n.d(t,"EducationalGame_StarBlastSideways",(function(){return h}));n("yIC7"),n("p+GS"),n("dtAy"),n("4oWw"),n("nruA"),n("LnO1"),n("XjK0"),n("SCO9"),n("Yyzt"),n("KI7T"),n("decI"),n("PN9k");var r=n("ERkP"),o=n.n(r),i=n("DTYs"),a=(n("zpx+"),n("7dyJ"),n("T7D0"),n("hsFx"));function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=Object(r.useRef)({moveDirection:{x:0,y:0},buttons:e.buttons.map((function(n,r){return{isDown:!1,key:n.key,text:n.text,onPressIn:function(){t.current.buttons[r].isDown=!0,e.onPressStateChange(t.current)},onPressOut:function(){t.current.buttons[r].isDown=!1,e.onPressStateChange(t.current)}}}))});return o.a.createElement(m,Object.assign({},e,{onMovePressIn:function(n){var r=t.current;t.current.moveDirection={x:n.x?n.x:r.moveDirection.x,y:n.y?n.y:r.moveDirection.y},console.log("onMovePressIn",{dir:n,s:r,moveDirection:t.current.moveDirection}),e.onPressStateChange(t.current)},onMovePressOut:function(n){var r=t.current;t.current.moveDirection={x:n.x?0:r.moveDirection.x,y:n.y?0:r.moveDirection.y},e.onPressStateChange(t.current)},buttons:t.current.buttons}))},s={container:{flex:1,alignSelf:"stretch",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:4},section:{justifyContent:"center",alignItems:"center",padding:4},moveSectionWrapper:{overflow:"hidden"},moveSectionRotation:{transform:"rotate(0.125turn)",margin:0},row:{flexDirection:"row"},cellTouch:{outline:"none"},cellView:{pointerEvents:"none",position:"relative",margin:4,width:56,height:56,justifyContent:"center",alignItems:"center",borderWidth:0,borderStyle:"solid",outline:"none"},cellText:{userSelect:"none",pointerEvents:"none"},moveCellText:{userSelect:"none",pointerEvents:"none",transform:"rotate(-0.125turn)"},cellEmptyView:{margin:2,width:56,height:56},cellTextOcclusionView:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"red",opacity:0}},m=function(e){var t=e.onMovePressIn,n=e.onMovePressOut,a=Object.assign(Object.assign({},s.cellView),e.style);Object(r.useEffect)((function(){var r=function(e){var t;return e.preventDefault(),null===(t=e.stopPropagation)||void 0===t||t.call(e),!1};if("web"===i.c.OS){var o=function(n){return"ArrowUp"===n.key?(t({x:0,y:1}),r(n)):"ArrowDown"===n.key?(t({x:0,y:-1}),r(n)):"ArrowLeft"===n.key?(t({x:-1,y:0}),r(n)):"ArrowRight"===n.key?(t({x:1,y:0}),r(n)):" "!==n.key||(null===(o=e.buttons[0])||void 0===o||o.onPressIn(),r(n));var o},a=function(t){return"ArrowUp"===t.key?(n({x:0,y:1}),r(t)):"ArrowDown"===t.key?(n({x:0,y:-1}),r(t)):"ArrowLeft"===t.key?(n({x:-1,y:0}),r(t)):"ArrowRight"===t.key?(n({x:1,y:0}),r(t)):" "!==t.key||(null===(o=e.buttons[0])||void 0===o||o.onPressOut(),r(t));var o};return window.addEventListener("keydown",o),window.addEventListener("keyup",a),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",a)}}return function(){}}));var c=function(e){var r=e.text,c=e.direction;return o.a.createElement(i.d,{style:s.cellTouch,onPressIn:function(){return t(c)},onPressOut:function(){return n(c)}},o.a.createElement(i.h,{style:a},o.a.createElement(i.e,{style:s.moveCellText},r),o.a.createElement(i.h,{style:s.cellTextOcclusionView})))},l=function(e){var t=e.text,n=e.onPressIn,r=e.onPressOut;return o.a.createElement(i.d,{style:s.cellTouch,onPressIn:n,onPressOut:r},o.a.createElement(i.h,{style:a},o.a.createElement(i.e,{style:s.cellText},t),o.a.createElement(i.h,{style:s.cellTextOcclusionView})))};return o.a.createElement(i.h,{style:s.container},o.a.createElement(i.h,{style:s.moveSectionWrapper},o.a.createElement(i.h,{style:s.moveSectionRotation},o.a.createElement(i.h,{style:s.section},o.a.createElement(i.h,{style:s.row},o.a.createElement(c,{direction:{x:0,y:1},text:"â¬†"}),o.a.createElement(c,{direction:{x:1,y:0},text:"âž¡"})),o.a.createElement(i.h,{style:s.row},o.a.createElement(c,{direction:{x:-1,y:0},text:"â¬…"}),o.a.createElement(c,{direction:{x:0,y:-1},text:"â¬‡"}))))),o.a.createElement(i.h,{style:s.section},o.a.createElement(i.h,{style:s.row},e.buttons.map((function(e){return o.a.createElement(o.a.Fragment,{key:""+e.text},o.a.createElement(i.h,{style:s.cellEmptyView}),o.a.createElement(l,e))})))))},f=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},d=n("9u8u"),p=n("7h3R");function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return o.a.createElement(h,{problemService:Object(d.a)((t={min:1,max:12},n=t.min,r=void 0===n?1:n,i=t.max,l=void 0===i?12:i,u=t.maxAnswers,s=void 0===u?4:u,m=r-1,f=r,{getSections:function(){return c(new Array(l-r+1)).map((function(e,t){return"Multiples of "+(t+r)}))},gotoSection:function(e){var t=e.split(" "),n=t[t.length-1],o=Number.parseInt(n,10);f=o,m=r-1},getNextProblem:function(){++m>l&&(m=r,++f>l&&(m=r,f=r));var e=m*f,t=s-1,n=Object(a.a)(c(new Array(100)).map((function(){return Math.round(m+1-2*Math.random())*Math.round(f+1-2*Math.random())+Math.round(2-4*Math.random())})).filter((function(t){return t!==e})).filter((function(e){return e>0}))).slice(0,t),o=Object(a.e)([].concat(c(n.map((function(e){return{value:""+e,isCorrect:!1}}))),[{value:""+e,isCorrect:!0}])).map((function(e){return Object.assign(Object.assign({},e),{},{key:e.value})}));return{key:f+" x "+m,question:f+" x "+m,answers:o,isLastOfSection:m===l,isLastOfSubject:m===l&&f===l}},recordAnswer:function(){}}),{})});var t,n,r,i,l,u,s,m,f},h=function(e){return o.a.createElement(b,{problemService:Object(p.createProgressGameProblemService)(e.problemService)})},b=function(e){var t=Object(r.useState)({paused:!1}),n=t[0],a=t[1],c=Object(r.useState)({moveDirection:{x:0,y:0},buttons:[]}),l=c[0],s=c[1],m=Object(r.useState)(0),f=m[0],d=m[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.h,null,o.a.createElement(i.h,{style:{alignItems:"center",alignSelf:"stretch"}},o.a.createElement(i.h,{style:{overflow:"hidden",padding:10,paddingTop:4,paddingBottom:64}},o.a.createElement(i.h,{style:{position:"relative"}},o.a.createElement(j,{pressState:l,pauseState:n,problemService:e.problemService,problemSourceKey:""+f}),o.a.createElement(i.h,{style:{zIndex:10,flex:1,alignSelf:"stretch"}},o.a.createElement(u,{style:x.gamepad,onPressStateChange:function(e){s(e)},buttons:[{key:"A",text:"ðŸ”¥"}]}))))),o.a.createElement(S,{problemService:e.problemService,onOpen:function(){return a({paused:!0})},onClose:function(){return a({paused:!1})},onSubjectNavigation:function(){a({paused:!1}),d((function(e){return e+1}))}})))},w={container:{margin:16},header:{view:{margin:4},text:{fontSize:16}},section:{view:{margin:4},text:{fontSize:16}}},S=function(e){var t=Object(r.useState)(!1),n=t[0],a=t[1];return o.a.createElement(i.h,{style:w.container},o.a.createElement(i.g,{onPress:function(){n||e.onOpen(),n&&e.onClose(),a((function(e){return!e}))}},o.a.createElement(i.h,{style:w.header.view},o.a.createElement(i.e,{style:w.header.text},"Sections"))),n&&o.a.createElement(i.h,null,e.problemService.getSections().map((function(t){return o.a.createElement(i.g,{key:t,onPress:function(){console.log("SubjectNavigator onSection",{s:t}),e.problemService.gotoSection(t),e.onSubjectNavigation(),a(!1),"web"===i.c.OS&&window.scrollTo(0,0)}},o.a.createElement(i.h,{style:w.section.view},o.a.createElement(i.e,{style:w.section.text},t)))}))))},x={gamepad:{backgroundColor:"#333333",borderColor:"#000033"},viewscreen:{borderColor:"#000033",backgroundColor:"#000000"}},E={directAnswerButtonContainer:{alignSelf:"flex-end",justifyContent:"space-around",height:250,padding:4},directAnswerButton:{width:40,height:40,backgroundColor:"#FFFFFF",opacity:.1},directAnswerButton_hidden:{width:40,height:40},viewscreenView:{height:300,width:300,backgroundColor:x.viewscreen.backgroundColor,borderColor:x.viewscreen.borderColor,borderWidth:1,borderStyle:"solid"},sprite:{viewSize:{width:32,height:32},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:32,textAlign:"center"}},answer:{text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,fontSize_small:14,textAlign:"center",whiteSpace:"pre-wrap"}},question:{view:{flex:1,justifyContent:"center",padding:4},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,fontSize_small:14,whiteSpace:"pre-wrap"}},gameOver:{view:{flex:1,justifyContent:"center",padding:4},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,textAlign:"center"}}},j=function(e){var t,n,a,c,l,u,s,m=Object(r.useRef)(e.pressState);m.current=e.pressState;var f=Object(r.useRef)(e.pauseState);f.current=e.pauseState;var d=function(){return{lastActualTimeMs:Date.now(),lastGameTime:0,gameSpeed:1,lives:3,score:0}},p=Object(r.useRef)(d()),v=function(){var e=Date.now(),t=(e-p.current.lastActualTimeMs)/1e3;if(p.current.lastActualTimeMs=e,0===t)return{gameTime:p.current.lastGameTime};t>.1&&(t=.1);var n=t*p.current.gameSpeed,r=p.current.lastGameTime+n;return p.current.lastGameTime=r,{gameTime:r}},g=Object(r.useRef)({y:.5*E.viewscreenView.height,x:.15*E.viewscreenView.width,rotation:0}),h=Object(r.useRef)({lastShotActualTime:0,shots:[],debris:[]}),b=Object(r.useRef)({enemies:[]}),w=Object(r.useRef)(null),S=Object(r.useState)(0),x=(S[0],S[1]),j=function(){b.current.enemies.forEach((function(e){e.pos.x+=.5*E.viewscreenView.width})),g.current.y=.5*E.viewscreenView.height,g.current.x=.15*E.viewscreenView.width,p.current=Object.assign(Object.assign({},d()),{},{lastGameTime:p.current.lastGameTime})};Object(r.useEffect)((function(){!function t(){var n=e.problemService.getNextProblem();if(console.log("gotoNextProblem",{p:n}),n.question){var r=E.viewscreenView.width/(n.answers.length+1),o={problemTime:v().gameTime,question:n.question,answers:n.answers.map((function(e,t){return Object.assign(Object.assign({},e),{},{key:n.question+" "+e.value,pos:{y:r*(.5+t),x:E.viewscreenView.width-.5*E.sprite.viewSize.width,rotation:0},isAnsweredWrong:!1})}))},i={enemies:o.answers.map((function(o,i){var a={key:n.question+" "+o.value,answer:o,pos:{y:r*(.5+i),x:E.viewscreenView.width-1.5*E.sprite.viewSize.width,rotation:0},vel:{x:-5,y:0},onHit:function(){setTimeout((function(){console.log("onHit",{ans:o}),e.problemService.recordAnswer(n,o),o.isCorrect?(h.current.shots.forEach((function(e){e.ignore=!0})),t(),p.current=Object.assign(Object.assign({},p.current),{},{score:p.current.score+=1e3*Math.floor(a.pos.x),gameSpeed:Math.min(5,1*p.current.gameSpeed+.1)})):(o.isAnsweredWrong=!0,p.current=Object.assign(Object.assign({},p.current),{},{score:p.current.score-=1500*Math.floor(a.pos.x),gameSpeed:Math.max(.5,1*p.current.gameSpeed-.2)}))}))},destroyed:!1};return a}))};w.current=o,b.current=i,x((function(e){return e+1})),setTimeout((function(){var e;null===(e=n.onQuestion)||void 0===e||e.call(n)}),250)}}()}),[e.problemSourceKey]),Object(r.useEffect)((function(){var e=v().gameTime;requestAnimationFrame((function t(){var n,r=v().gameTime,o=r-e;if(e=r,f.current.paused||o<=0)requestAnimationFrame(t);else{var i=function(){return{gameTime:r,gameDeltaTime:o,gameState:p.current,pressState:m.current,playerPosition:g.current,projectilesState:h.current,enemiesState:b.current,onLoseLife:function(){p.current.deadTime||p.current.gameOverTime||(h.current.debris.push({key:"player"+r,kind:"player-character",pos:Object.assign({},g.current),vel:{x:0,y:0}}),p.current.lives<=1?p.current=Object.assign(Object.assign({},p.current),{},{lives:0,gameOverTime:v().gameTime}):p.current=Object.assign(Object.assign({},p.current),{},{lives:p.current.lives-1,deadTime:r}))}}},a=O(i());if(p.current=a,p.current.gameOverTime)v().gameTime>1+p.current.gameOverTime&&(null===(n=m.current.buttons[0])||void 0===n?void 0:n.isDown)&&setTimeout((function(){j()}),250);else{var c=_(i());g.current=c.playerPosition}var l=C(i());h.current=l;var u=P(i());b.current=u,requestAnimationFrame(t),x((function(e){return e+1}))}}))}),[]);var F=v().gameTime-(null!==(t=null===(n=w.current)||void 0===n?void 0:n.problemTime)&&void 0!==t?t:0);return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.h,{style:E.viewscreenView},y(new Array(p.current.lives)).map((function(e,t){return o.a.createElement(k,{key:"life"+t,kind:"life",position:{x:E.viewscreenView.width-E.sprite.viewSize.width*(1+t),y:E.viewscreenView.height-.5*E.sprite.viewSize.height,rotation:0}})})),h.current.debris.map((function(e){return o.a.createElement(k,{key:e.key,kind:e.hasHitGround?e.kind+"-splat":e.kind,position:e.pos})})),null===(a=b.current)||void 0===a?void 0:a.enemies.filter((function(e){return!e.destroyed})).map((function(e){return o.a.createElement(o.a.Fragment,{key:e.key},!e.answer.isAnsweredWrong&&o.a.createElement(T,{position:{y:e.pos.y,x:e.pos.x+E.sprite.viewSize.width,rotation:0},text:e.answer.value}),e.answer.isAnsweredWrong&&o.a.createElement(k,{kind:"answer-wrong",position:{y:e.pos.y,x:e.pos.x+E.sprite.viewSize.width,rotation:0}}))})),null===(c=b.current)||void 0===c?void 0:c.enemies.filter((function(e){return!e.destroyed})).map((function(e){var t;return o.a.createElement(o.a.Fragment,{key:e.key},o.a.createElement(k,{kind:e.explodeTime?"enemy-explode":"enemy",position:e.pos}),e===(null===(t=p.current.weaponsLock)||void 0===t?void 0:t.lockedEnemy)&&o.a.createElement(k,{kind:"lock",position:e.pos}))})),!p.current.gameOverTime&&!p.current.deadTime&&o.a.createElement(k,{kind:"player",position:g.current}),h.current.shots.map((function(e){return o.a.createElement(k,{key:e.key,kind:e.explodeTime?"shot-explode":"shot",position:e.pos})})),p.current.gameOverTime&&o.a.createElement(i.h,null,o.a.createElement(i.h,{style:{position:"absolute",top:.5*E.viewscreenView.height,width:E.viewscreenView.width}},o.a.createElement(i.e,{style:E.gameOver.text},"Game Over"),v().gameTime>1+p.current.gameOverTime&&o.a.createElement(i.e,{style:E.gameOver.text},"Continue?"))),o.a.createElement(i.h,{style:E.directAnswerButtonContainer},null===(l=b.current)||void 0===l?void 0:l.enemies.map((function(e){return o.a.createElement(i.g,{key:e.key,onPress:function(){return function(e){if(p.current.gameOverTime)j();else if(!p.current.deadTime&&!e.destroyed&&!e.explodeTime){p.current.weaponsLock={lockedEnemy:e,lockedAtPlayerPosition:g.current};var t=h.current.shots;t.push({key:""+v()+t.length,pos:Object.assign({},g.current),lockedEnemy:e}),p.current.playerTargetPosition={x:g.current.x,y:e.pos.y}}}(e)}},o.a.createElement(i.h,{style:e.destroyed||e.explodeTime?E.directAnswerButton_hidden:E.directAnswerButton}))})))),o.a.createElement(i.h,{style:{position:"relative",height:3*E.question.text.fontSize,alignSelf:"stretch"}},o.a.createElement(T,{text:null!==(u=null===(s=w.current)||void 0===s?void 0:s.question)&&void 0!==u?u:"",position:{x:.25*E.viewscreenView.width,y:1*E.question.text.fontSize-Math.max(0,.5*E.viewscreenView.height-125*F),rotation:0}})))},O=function(e){var t=e.gameTime,n=(e.gameDeltaTime,e.pressState,e.playerPosition),r=e.gameState,o=e.enemiesState;return r.deadTime&&t>3+r.deadTime?(n.y=.5*E.viewscreenView.height,n.x=.15*E.viewscreenView.width,o.enemies.forEach((function(e){e.pos.x+=.5*E.viewscreenView.width})),Object.assign(Object.assign({},r),{},{deadTime:void 0})):r},_=function(e){e.gameTime;var t=e.gameDeltaTime,n=e.pressState,r=e.playerPosition,o=e.gameState;if(o.deadTime)return{playerPosition:r};var i=n.moveDirection,a=o.playerTargetPosition,c=i.x||i.y?{x:i.x,y:-i.y}:a?{x:a.x-r.x,y:a.y-r.y}:{x:0,y:0};c.x=0===c.x?0:Math.sign(c.x),c.y=0===c.y?0:Math.sign(c.y),o.playerTargetPosition&&console.log("updatePlayer",{dirPress:i,dir:c,targetPos:a,playerPosition:r}),(i.x||i.y)&&(o.playerTargetPosition=void 0),o.playerTargetPosition&&f(r,o.playerTargetPosition)<25&&(o.playerTargetPosition=void 0);var l=.05*c.y,u={x:r.x+c.x*t*250,y:r.y+c.y*t*250,rotation:.9*r.rotation+.1*l},s=E.viewscreenView.width,m=.5*E.sprite.viewSize.width,d=E.viewscreenView.height,p=.5*E.sprite.viewSize.height;return u.x=u.x<m?m:u.x>s-m?s-m:u.x,u.y=u.y<p?p:u.y>d-p?d-p:u.y,{playerPosition:u}},C=function(e){var t,n=e.gameTime,r=e.gameDeltaTime,o=e.pressState,i=e.playerPosition,a=(e.enemiesState,e.projectilesState),c=e.gameState,l=e.onLoseLife,u=a.shots,s=a.debris,m=a.lastShotActualTime,f=!c.deadTime&&!c.gameOverTime&&Date.now()/1e3>.25+m&&(null===(t=o.buttons.find((function(e){return"A"===e.key})))||void 0===t?void 0:t.isDown);if(f){var d,p=null===(d=c.weaponsLock)||void 0===d?void 0:d.lockedEnemy;u.push({key:""+n+u.length,pos:Object.assign({},i),lockedEnemy:p})}u.forEach((function(e){e.explodeTime||(!e.lockedEnemy||e.lockedEnemy.explodeTime||e.lockedEnemy.destoyed?e.pos.x+=250*r:(e.pos.y+=.25*(e.lockedEnemy.pos.y-e.pos.y),e.pos.x+=Math.min(250*r,.5*(e.lockedEnemy.pos.x-e.pos.x))))})),s.forEach((function(e){if(!e.hasHitGround){e.vel.y+=100*r,e.pos.y+=e.vel.y*r,e.pos.x+=e.vel.x*r;var t=.5*E.sprite.viewSize.width,n=E.viewscreenView.width;e.pos.x<t&&(e.pos.x=t,e.vel.x=-e.vel.x),e.pos.x>n-t&&(e.pos.x=n-t,e.vel.x=-e.vel.x);var o=.8*E.sprite.viewSize.width,i=E.viewscreenView.height;e.pos.y>i-o+10*Math.random()&&(e.hasHitGround=!0,"kitten"===e.kind&&l())}})),s.length>25&&s.shift();var y=u.filter((function(e){return e.pos.x<E.viewscreenView.width})).filter((function(e){return!e.explodeTime||n<1+e.explodeTime}));return Object.assign(Object.assign({},a),{},{lastShotActualTime:f?Date.now()/1e3:m,shots:y})},P=function(e){var t=e.gameTime,n=e.gameDeltaTime,r=e.projectilesState,o=e.enemiesState,i=e.gameState,a=e.playerPosition,c=e.onLoseLife,l=o.enemies,u=r.shots,s=.75*E.sprite.viewSize.width,m=s*s;l.forEach((function(e){return u.forEach((function(n){e.explodeTime||n.explodeTime||n.ignore||n.lockedEnemy&&n.lockedEnemy!==e||f(e.pos,n.pos)<m&&(console.log("Exploded!",{e:e,s:n}),e.explodeTime=t,n.explodeTime=t,e.onHit(),e.answer.isCorrect?r.debris.push({key:e.key+" "+t,kind:"alien",pos:Object.assign({},e.pos),vel:Object.assign({},e.vel)}):r.debris.push({key:e.key+" "+t,kind:"kitten",pos:Object.assign({},e.pos),vel:Object.assign({},e.vel)}))}))}));var d=s*s*1.5*1.5;l.forEach((function(e,t){return l.forEach((function(r,o){if(!(t>=o)&&!e.explodeTime&&!r.explodeTime&&f(e.pos,r.pos)<d){var i=e.vel.y;e.vel.y=.95*r.vel.y,r.vel.y=.95*i;var a=e.pos.y<r.pos.y?e:r,c=e.pos.y<r.pos.y?r:e;a.pos.y-=10*n,c.pos.y+=10*n,a.vel.y-=10*n,c.vel.y+=10*n}}))}));var p=s*s*.8*.8;l.forEach((function(e,t){e.explodeTime||i.deadTime||i.gameOverTime||f(e.pos,a)<p&&c()})),l.forEach((function(e){if(!e.explodeTime){e.vel.y+=250*(2*Math.random()-1)*n,i.deadTime||i.gameOverTime?e.vel.x=0:e.vel.x=-25,e.pos.y>.7*E.viewscreenView.height&&(e.vel.y=-5),e.pos.x>E.viewscreenView.width-2*E.sprite.viewSize.width&&(e.pos.x=E.viewscreenView.width-2*E.sprite.viewSize.width),e.pos.x+=e.vel.x*n,e.pos.y+=e.vel.y*n;var t=.5*E.sprite.viewSize.height,r=E.viewscreenView.height;e.pos.y<t&&(e.pos.y=t,e.vel.y=5),e.pos.y>r-t&&(e.pos.y=r-t,e.vel.y=-e.vel.y);var o=.5*E.sprite.viewSize.width;e.pos.x<o&&(e.pos.x=o)}}));var y,v,g=o.enemies.filter((function(e){return!e.explodeTime&&!e.destroyed})).sort((function(e,t){return Math.abs(e.pos.y-a.y)<Math.abs(t.pos.y-a.y)?-1:1}))[0];(null==g?void 0:g.pos.x)<a.x+.5*E.sprite.viewSize.width?g.pos.y=a.y:(y=g,(null===(v=i.weaponsLock)||void 0===v?void 0:v.lockedAtPlayerPosition.y)!==a.y&&(i.weaponsLock={lockedAtPlayerPosition:a,lockedEnemy:y}));var h=l;return h.filter((function(e){return e.explodeTime&&t>1+e.explodeTime})).forEach((function(e){e.destroyed=!0})),{enemies:h}},k=function(e){var t,n,r,a,c,l=e.kind,u=e.position,s=e.text,m=function(e){switch(e){case"player":return{text:"ðŸš€",rotation:.125,offsetX:0,offsetY:-.25};case"player-character":return{text:"ðŸ˜­"};case"player-character-splat":return{text:"ðŸ˜«",rotation:.15};case"shot":return{text:"ðŸ”¥",rotation:-.25};case"shot-explode":return{text:"âœ¨",rotation:0,scale:.5};case"lock":return{text:"ðŸ’¢",offsetX:-.25,offsetY:-.125,scale:1.5};case"enemy":return{text:"ðŸ›¸",offsetX:-.125,offsetY:-.125};case"enemy-explode":return{text:"ðŸ’¥",offsetX:-.125,offsetY:-.125};case"answer-wrong":return{text:"âŒ",offsetX:-.125,offsetY:-.125};case"alien":return{text:"ðŸ‘½",offsetX:0,offsetY:0};case"kitten":return{text:"ðŸ™€",offsetX:0,offsetY:0};case"alien-splat":return{text:"ðŸ’€",offsetX:0,offsetY:0};case"kitten-splat":return{text:"ðŸ¥©",offsetX:0,offsetY:0};case"super-kitten":return{text:"ðŸ±â€ðŸ",offsetX:0,offsetY:0};case"life":return{text:"ðŸš€",scale:.5};case"text":return{text:"",offsetX:0,offsetY:-.125};default:return{text:"ðŸ˜€"}}}(l),f=E.sprite.viewSize,d=E.sprite.text.fontSize,p=Object.assign(Object.assign({position:"absolute"},f),{},{transform:"translate("+u.x+"px, "+u.y+"px) rotate("+(null!==(t=u.rotation)&&void 0!==t?t:0)+"turn)",pointerEvents:"none"}),y=Object.assign(Object.assign({},f),{},{transform:"translate( "+(-.5*f.width+Math.floor((null!==(n=m.offsetX)&&void 0!==n?n:0)*d))+"px, "+(-.5*f.height+Math.floor((null!==(r=m.offsetY)&&void 0!==r?r:0)*d))+"px) rotate("+(null!==(a=m.rotation)&&void 0!==a?a:0)+"turn) scale("+(null!==(c=m.scale)&&void 0!==c?c:1)+")"});return o.a.createElement(i.h,{style:p},o.a.createElement(i.h,{style:y},o.a.createElement(i.e,{style:E.sprite.text},null!=s?s:m.text)))},T=function(e){var t,n=e.text,r=e.position,a=E.answer.text,c=n.length>10?a.fontSize_small:a.fontSize,l=.5*-c-4,u={position:"absolute",transform:"translate("+r.x+"px, "+(r.y+l)+"px) rotate("+(null!==(t=r.rotation)&&void 0!==t?t:0)+"turn)",pointerEvents:"none",maxWidth:.5*E.viewscreenView.width};return o.a.createElement(i.h,{style:u},o.a.createElement(i.e,{style:Object.assign(Object.assign({},E.answer.text),{},{fontSize:c})},n))}},rTbz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("yIC7"),n("Yyzt");var r=n("ERkP"),o=n.n(r),i=n("DTYs"),a=function(e){var t={saveScore:function(n,r){var o=t.loadScore();o.push({name:n,score:r}),o.sort((function(t,n){return e.sortKey(t.score)<e.sortKey(n.score)?-1:1})),localStorage.setItem(e.storageKey,JSON.stringify(o))},loadScore:function(){var t=localStorage.getItem(e.storageKey);if(!t)return[];var n=JSON.parse(t);return n.sort((function(t,n){return(e.sortKey(t.score)>e.sortKey(n.score)?-1:1)*(e.sortDescending?-1:1)})),n}},n={container:{flex:1,alignItems:"center",margin:16},textInput:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#0000FF"},buttonView:{margin:4,padding:4,borderColor:"#FFFF00",borderStyle:"solid",borderWidth:1,borderRadius:4},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:16,color:"#FFFF00"}},a=function(e){var t=Object(r.useState)(""),a=t[0],c=t[1];return o.a.createElement(i.h,{style:n.container},o.a.createElement(i.f,{style:n.textInput,value:a,onChange:c,placeholder:"Name",keyboardType:"default",autoCompleteType:"off"}),o.a.createElement(i.g,{onPress:function(){return!!a&&e.onSubmit(a)},style:a?{}:{opacity:.5}},o.a.createElement(i.h,{style:n.buttonView},o.a.createElement(i.e,{style:n.buttonText},"Save Score"))))},c={container:{marginTop:16,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},scoreView:{flexDirection:"row",justifyContent:"space-around",padding:4,borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:1,borderRadius:0},nameText:{flex:2,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFFFF",overflow:"hidden"},scoreText:{flex:1,textAlign:"right",fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},l=function(t){return o.a.createElement(i.h,{style:c.container},o.a.createElement(i.h,{style:c.scoreView},o.a.createElement(i.e,{style:c.nameText},"Leaderboard"),e.scoreColumns.map((function(e){return o.a.createElement(i.e,{key:e.name,style:c.scoreText})}))),o.a.createElement(i.h,{style:c.scoreView},o.a.createElement(i.e,{style:c.nameText},"Name"),e.scoreColumns.map((function(e){return o.a.createElement(i.e,{key:e.name,style:c.scoreText},e.name)}))),t.scores.map((function(t){return o.a.createElement(i.h,{style:c.scoreView},o.a.createElement(i.e,{style:c.nameText},t.name),e.scoreColumns.map((function(e){return o.a.createElement(i.e,{key:t.name,style:c.scoreText},e.getValue(t.score))})))})))};return{useLeaderboard:function(e){var n=e.getScore,i=Object(r.useState)({scores:t.loadScore()}),c=i[0],u=i[1];return{LeaderboardArea:function(e){return o.a.createElement(o.a.Fragment,null,!!e.gameOver&&o.a.createElement(a,{onSubmit:function(r){t.saveScore(r,n()),u({scores:t.loadScore()}),e.onScoreSaved()}}),o.a.createElement(l,{scores:c.scores}))}}}}}},udyG:function(e,t,n){"use strict";var r=n("nmGk"),o=n("yK4D");e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},zkcw:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n("yIC7"),n("p+GS"),n("dtAy"),n("4oWw"),n("nruA"),n("LnO1"),n("XjK0"),n("SCO9");var r=n("eCSs");n.d(t,"a",(function(){return r.a}));n("4cHy"),n("+tC1"),n("hsFx");function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){return String.fromCharCode.apply(String,o(o(new Array(e)).map((function(e){return 94*Math.random()+32}))))}}}]);
//# sourceMappingURL=commons-ce1de096bd6c288e0fbe.js.map