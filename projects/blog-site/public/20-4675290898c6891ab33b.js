(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[20],{pAyS:function(t,n,e){"use strict";e.r(n),e.d(n,"DoodleView",(function(){return c}));e("yIC7"),e("p+GS"),e("dtAy"),e("4oWw"),e("nruA"),e("LnO1"),e("XjK0"),e("SCO9"),e("PN9k");var o=e("ERkP"),r=e.n(o);function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var u={width:128,height:128,segments:[]},c=function(t){var n=Object(o.useState)(u),e=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,{style:{width:256,height:256,color:"#FFFFFF",backgroundColor:"#000000"},drawing:e,onChange:i}))},a=function(t){return t.points.length<=0?"":1===t.points.length?"M"+t.points[0].x+" "+t.points[0].y+" L"+t.points[0].x+" "+t.points[0].y:"M"+t.points[0].x+" "+t.points[0].y+" L"+t.points.slice(1).map((function(t){return t.x+" "+t.y})).join(" ")},s=function(t){var n=t.style,e=t.drawing,l=t.onChange,u=n.width/e.width,c=Object(o.useState)(null),s=c[0],v=c[1],f=Object(o.useRef)(null),d=Object(o.useRef)(null),h=function(t){return t.preventDefault(),t.stopPropagation(),t.nativeEvent.cancelBubble=!0,t.nativeEvent.returnValue=!1,!1},p=function(t,n){var e,o,r,i;console.log("onPressIn",{event:t,pos:n});var l=d.current;if(!l)return h(t);var c=l.getBoundingClientRect();v({points:[]});var a={clientX:null!==(e=null!==(o=null==n?void 0:n.clientX)&&void 0!==o?o:t.clientX)&&void 0!==e?e:0,clientY:null!==(r=null!==(i=null==n?void 0:n.clientY)&&void 0!==i?i:t.clientY)&&void 0!==r?r:0};return f.current={clientX:a.clientX,clientY:a.clientY,x:Math.floor((a.clientX-c.x)/u),y:Math.floor((a.clientY-c.y)/u)},h(t)},g=function(t){console.log("onPressOut",{event:t});var n=s;return n?(l(Object.assign(Object.assign({},e),{},{segments:[].concat(i(e.segments),[n])})),v(null),f.current=null,h(t)):h(t)},m=function(t,n){var e,o,r,l;if(!f.current)return h(t);console.log("onClientMove",{event:t,pos:n});var c=null!==(e=null!==(o=null==n?void 0:n.clientX)&&void 0!==o?o:t.clientX)&&void 0!==e?e:0,a=null!==(r=null!==(l=null==n?void 0:n.clientY)&&void 0!==l?l:t.clientY)&&void 0!==r?r:0;return function(t){v((function(n){return n?{points:[].concat(i(n.points),[t])}:null}))}({x:Math.floor((c-f.current.clientX)/u)+f.current.x,y:Math.floor((a-f.current.clientY)/u)+f.current.y}),h(t)};return Object(o.useEffect)((function(){var t=function(t){return!f.current||(t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1)};return document.addEventListener("touchmove",t,{passive:!1}),function(){document.removeEventListener("touchmove",t)}}),[]),r.a.createElement("div",{style:{position:"relative",width:n.width,height:n.height,backgroundColor:n.backgroundColor}},r.a.createElement("svg",{style:{width:n.width,height:n.height},viewBox:"0 0 "+e.width+" "+e.height,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},e.segments.map((function(t,e){return r.a.createElement("path",{key:e,d:a(t),stroke:n.color,fill:"transparent"})})),s&&r.a.createElement("path",{d:a(s),stroke:n.color,fill:"transparent"})),r.a.createElement("div",{ref:d,style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:10},onMouseDown:p,onMouseUp:g,onMouseMove:m,onMouseLeave:g,onTouchStart:function(t){return p(t,t.touches[0])},onTouchEnd:g,onTouchCancel:g,onTouchMove:function(t){return m(t,t.touches[0])},onTouchEndCapture:g}," "))}}}]);
//# sourceMappingURL=20-4675290898c6891ab33b.js.map