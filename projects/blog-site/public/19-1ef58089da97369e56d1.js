(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[19],{BXPQ:function(e,t,n){"use strict";n.r(t),n.d(t,"LessonModulesClientEditor",(function(){return F}));var r,a,u,o,c,s,i,l,f,d=n("a1TR"),p=n.n(d),b=(n("3yYM"),n("Ab9Y")),v=n("ERkP"),h=n.n(v),m=n("DTYs"),y=n("njmQ"),x=n("H5jT"),w=n("olhD"),k=n("t7PJ"),j=n("uTf4"),E=n("pVhY"),L=n("P5Mp"),M=n("PJlR"),O={container:{background:"#111111"},containerPanel:{background:"#292a2d"},buttonView:{background:"#1e1e1e",alignSelf:"flex-start",padding:8,margin:1},buttonText:{fontSize:14,color:"#FFFFFFF"}},g=(i={}.serverUrl,l=void 0===i?"http://localhost:3042/api/":i,f=function(){var e=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(l,{endpoint:t,data:n},{timeoutMs:3e4});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{getLessonModules:(s=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("getLessonModules",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),getLessonModule:(c=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("getLessonModule",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)}),setLessonModule:(o=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("setLessonModule",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),buildLessonModule:(u=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("buildLessonModule",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)}),deleteLessonModule:(a=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("deleteLessonModule",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),setProjectState:(r=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("setProjectState",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})}),F=function(e){var t=Object(v.useState)("edit"),n=t[0],r=t[1],a=[{value:"edit",label:"Edit"},{value:"play",label:"Play"}],u=Object(v.useState)(null),o=u[0],c=u[1],s=Object(v.useState)(null),i=s[0],l=s[1],f=Object(y.a)(),d=f.loading,j=f.error,F=f.doWork,S=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getLessonModules({});case 2:n=e.sent,t(),c(n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(v.useEffect)((function(){F(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var P=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.setProjectState({projectState:t});case 2:return e.abrupt("return",{iFrameUrl:"http://localhost:3043/?filesHashCode="+t.filesHashCode});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h.a.createElement(h.a.Fragment,null,h.a.createElement(w.a,{loading:d}),h.a.createElement(x.a,{error:j}),h.a.createElement(m.h,{style:O.container},h.a.createElement(E.a,{style:{selectedTabText:{color:"#8888FF"}},header:"Mode",items:a,getKey:function(e){return e.value},getLabel:function(e){return e.label},selected:a.find((function(e){return e.value===n})),onSelect:function(e){return r(e.value)}}),o&&h.a.createElement(E.a,{style:{selectedTabText:{color:"#88FF88"}},header:"Modules",items:o,getKey:function(e){return e.key},getLabel:function(e){return e.title},selected:null==o?void 0:o.find((function(e){return e.key===(null==i?void 0:i.key)})),onSelect:function(e){return t=e.key,void F(function(){var e=Object(b.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getLessonModule({key:t});case 2:r=e.sent,n(),l(r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t},onAdd:"edit"===n?function(){var e=Object(L.c)();l(e),F(function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.setLessonModule({value:e});case 2:return t.sent,n(),t.next=6,S(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}:void 0}),i&&"edit"===n&&h.a.createElement(h.a.Fragment,null,h.a.createElement(m.h,{style:{flexDirection:"row",justifyContent:"flex-end"}},h.a.createElement(m.g,{onPress:function(){i&&F(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.setLessonModule({value:i});case 2:e.sent,t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},h.a.createElement(m.h,{style:O.buttonView},h.a.createElement(m.e,{style:O.buttonText},"üíæ Save Module"))),h.a.createElement(m.g,{onPress:function(){var e=null==i?void 0:i.key;e&&(l(null),F(function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.buildLessonModule({key:e});case 2:return t.sent,n(),t.next=6,S(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},h.a.createElement(m.h,{style:O.buttonView},h.a.createElement(m.e,{style:O.buttonText},"üî® Build Module"))),h.a.createElement(m.g,{onPress:function(){var e=null==i?void 0:i.key;e&&(l(null),F(function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.deleteLessonModule({key:e});case 2:return t.sent,n(),t.next=6,S(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},h.a.createElement(m.h,{style:O.buttonView},h.a.createElement(m.e,{style:O.buttonText},"‚ùå Delete Module")))),h.a.createElement(M.LessonModuleEditor,{key:i.key,value:i,onChange:function(e){l(e)},setProjectState:P})),i&&"play"===n&&h.a.createElement(h.a.Fragment,null,h.a.createElement(m.h,{style:{borderStyle:"solid",borderBottomWidth:4,borderBottomColor:"#FFFFFF"}}),h.a.createElement(k.a,{key:i.key,module:i,setProjectState:P}))))}}}]);
//# sourceMappingURL=19-1ef58089da97369e56d1.js.map