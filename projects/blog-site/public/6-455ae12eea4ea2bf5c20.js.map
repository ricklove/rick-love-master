{"version":3,"sources":["webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/browser/getCreateFFmpegCore.js","webpack:///D:/Projects/rick-love-master/node_modules/gatsby/node_modules/core-js/modules/es.promise.finally.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/browser/fetchFile.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/index.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/browser/defaultOptions.js","webpack:///D:/Projects/rick-love-master/code/art/div-host.tsx","webpack:///D:/Projects/rick-love-master/code/art/canvas-video-recording/canvas-video-recorder.tsx","webpack:///D:/Projects/rick-love-master/code/art/art-index.ts","webpack:///D:/Projects/rick-love-master/code/art/art-renderer.tsx","webpack:///D:/Projects/rick-love-master/code/art/art-gallery.tsx","webpack:///D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/utils/log.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/browser/index.js","webpack:///D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///D:/Projects/rick-love-master/node_modules/resolve-url/resolve-url.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/createFFmpeg.js","webpack:///D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/utils/parseArgs.js","webpack:///D:/Projects/rick-love-master/node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/config.js","webpack:///D:/Projects/rick-love-master/node_modules/@ffmpeg/ffmpeg/src/utils/parseProgress.js"],"names":["_regeneratorRuntime","_asyncToGenerator","resolveURL","log","toBlobURL","_ref","mark","_callee","url","mimeType","buf","blob","blobURL","wrap","_context","prev","next","concat","fetch","sent","arrayBuffer","byteLength","Blob","type","URL","createObjectURL","abrupt","stop","_x","_x2","apply","this","arguments","module","exports","_ref3","_callee2","_ref2","_corePath","coreRemotePath","corePath","wasmPath","workerPath","_context2","Error","replace","createFFmpegCore","Promise","resolve","script","document","createElement","src","addEventListener","eventHandler","removeEventListener","getElementsByTagName","appendChild","_x3","$","IS_PURE","NativePromise","fails","getBuiltIn","speciesConstructor","promiseResolve","redefine","target","proto","real","forced","prototype","call","then","onFinally","C","isFunction","x","e","readFromBlobOrFile","reject","fileReader","FileReader","onload","result","onerror","code","error","readAsArrayBuffer","_data","data","res","Uint8Array","test","atob","split","map","c","charCodeAt","File","createFFmpeg","fetchFile","devDependencies","process","FFMPEG_ENV","substring","DivHost","props","hostElementRef","useRef","HostElement","Component","style","width","height","ref","useEffect","current","console","renderArt","innerHTML","remove","CanvasVideoRecorderControl","useState","mode","setMode","useAutoLoadingError","loading","doWork","background","onClick","stopIfObsolete","a","recorder","prepareTarget","framesPerSecond","quality","onPrepareTarget","start","getRecorder","completeToDownloadFile","artIndex","key","title","imageUrl","undefined","load","art_fluidSnakeGame","art_exampleFluidSimulator","art_flyingColors","art_gpu_01","art_gears","art_puzzle01","art_121","art_circles","art_layersOfTheOnionsSoul","art_nftAdventure_nftTextAdventure","ArtRenderer","art","tokenId","showInfo","createP5","ArtComponent","ArtInfoComponent","tokenDescription","getTokenDescription","position","left","bottom","maxWidth","color","opacity","padding","whiteSpace","artist","description","wordBreak","artKey","seed","marginTop","href","Math","random","hostElement","sketch","host","openSea","hash","ReserveButton","walletAddress","reserve","encodeURIComponent","window","open","borderRadius","textAlign","ArtGallery","_settings","timeMsLost","timeMs","isRecording","workingCanvas","workingContext","blobs","timeProvider","requestPrepareTarget","beginIncreasingTime","completeToBlob","completeToDataUrl","addFrame","queryParts","location","search","substr","find","startsWith","pathname","match","newTokenId","RegExp","showCamera","includes","recorderRef","Date","now","isPaused","settings","body","append","getContext","timeMsPerFrame","setTimeout","ffmpeg","entries","i","buffer","FS","padStart","run","videoBlob","err","filename","delay","dataUrl","link","download","click","canvas","cvs","ctx","drawImage","toBlob","b","push","getSettings","getMode","setTargetReady","isWaitingForFrame","setRenderId","showNavigation","setTokenId","isFullScreen","setIsFullScreen","customSize","setCustomSize","setTokenDescription","debounce","useDebounce","artworkItem","changeTokenId","value","cacheRenderArtwork","kind","p5","ArtworkComponentRef","artRenderer","s","setWalletAddress","canSetSeed","View_Panel","View_Form","Fragment","paddingBottom","Button_FormAction","onPress","onChange","onWalletAddress","Text_FormTitle","theme","text_formTitle","right","top","maxHeight","fontFamily","fontSize","lineHeight","ArtWorkGenerator","tokenIdRaw","setArt","SeedController","display","flexDirection","flexWrap","alignItems","onInput","currentTarget","label","ConnectWalletButton","setConnected","ethereum","connect","request","method","accounts","account","obj","Object","defineProperty","enumerable","configurable","writable","logging","customLogger","setLogging","_logging","setCustomLogger","logger","message","defaultOptions","getCreateFFmpegCore","asyncGeneratorStep","gen","_next","_throw","arg","info","done","fn","self","args","numUrls","length","base","head","insertBefore","firstChild","resolved","index","removeChild","_toConsumableArray","_defineProperty","_objectWithoutProperties","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","source","forEach","getOwnPropertyDescriptors","defineProperties","_require","defaultArgs","baseOptions","_require2","parseProgress","parseArgs","_require3","version","NO_LOAD","_options","_baseOptions$defaultO","optProgress","progress","options","Core","runResolve","running","detectCompletion","parseMessage","_yield$getCreateFFmpe","mainScriptUrlOrBlob","printErr","print","locateFile","path","prefix","endsWith","cwrap","isLoaded","_len","_args","Array","_key","join","_len2","_key2","ret","_Core$FS","setProgress","_progress","setLogger","_logger","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","indexOf","propertyIsEnumerable","argsPtr","_malloc","Uint32Array","BYTES_PER_ELEMENT","idx","writeAsciiToMemory","setValue","$hypot","hypot","abs","sqrt","stat","Infinity","NaN","value1","value2","div","sum","aLen","larg","_slicedToArray","duration","ts2sec","ts","_ts$split","_ts$split2","h","m","parseFloat","d","_ts","ratio"],"mappings":"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","file":"6-455ae12eea4ea2bf5c20.js","sourcesContent":["var _regeneratorRuntime = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/regenerator\");\n\nrequire(\"regenerator-runtime/runtime.js\");\n\nvar _asyncToGenerator = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\n/* eslint-disable no-undef */\nvar resolveURL = require('resolve-url');\n\nvar _require = require('../utils/log'),\n    log = _require.log;\n/*\n * Fetch data from remote URL and convert to blob URL\n * to avoid CORS issue\n */\n\n\nvar toBlobURL = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, mimeType) {\n    var buf, blob, blobURL;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            log('info', \"fetch \".concat(url));\n            _context.next = 3;\n            return fetch(url);\n\n          case 3:\n            _context.next = 5;\n            return _context.sent.arrayBuffer();\n\n          case 5:\n            buf = _context.sent;\n            log('info', \"\".concat(url, \" file size = \").concat(buf.byteLength, \" bytes\"));\n            blob = new Blob([buf], {\n              type: mimeType\n            });\n            blobURL = URL.createObjectURL(blob);\n            log('info', \"\".concat(url, \" blob URL = \").concat(blobURL));\n            return _context.abrupt(\"return\", blobURL);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function toBlobURL(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n    var _corePath, coreRemotePath, corePath, wasmPath, workerPath;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _corePath = _ref2.corePath;\n\n            if (!(typeof _corePath !== 'string')) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw Error('corePath should be a string!');\n\n          case 3:\n            coreRemotePath = resolveURL(_corePath);\n            _context2.next = 6;\n            return toBlobURL(coreRemotePath, 'application/javascript');\n\n          case 6:\n            corePath = _context2.sent;\n            _context2.next = 9;\n            return toBlobURL(coreRemotePath.replace('ffmpeg-core.js', 'ffmpeg-core.wasm'), 'application/wasm');\n\n          case 9:\n            wasmPath = _context2.sent;\n            _context2.next = 12;\n            return toBlobURL(coreRemotePath.replace('ffmpeg-core.js', 'ffmpeg-core.worker.js'), 'application/javascript');\n\n          case 12:\n            workerPath = _context2.sent;\n\n            if (!(typeof createFFmpegCore === 'undefined')) {\n              _context2.next = 15;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", new Promise(function (resolve) {\n              var script = document.createElement('script');\n\n              var eventHandler = function eventHandler() {\n                script.removeEventListener('load', eventHandler);\n                log('info', 'ffmpeg-core.js script loaded');\n                resolve({\n                  createFFmpegCore: createFFmpegCore,\n                  corePath: corePath,\n                  wasmPath: wasmPath,\n                  workerPath: workerPath\n                });\n              };\n\n              script.src = corePath;\n              script.type = 'text/javascript';\n              script.addEventListener('load', eventHandler);\n              document.getElementsByTagName('head')[0].appendChild(script);\n            }));\n\n          case 15:\n            log('info', 'ffmpeg-core.js script is loaded already');\n            return _context2.abrupt(\"return\", Promise.resolve({\n              createFFmpegCore: createFFmpegCore,\n              corePath: corePath,\n              wasmPath: wasmPath,\n              workerPath: workerPath\n            }));\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","var _regeneratorRuntime = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/regenerator\");\n\nrequire(\"regenerator-runtime/runtime.js\");\n\nvar _asyncToGenerator = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar resolveURL = require('resolve-url');\n\nvar readFromBlobOrFile = function readFromBlobOrFile(blob) {\n  return new Promise(function (resolve, reject) {\n    var fileReader = new FileReader();\n\n    fileReader.onload = function () {\n      resolve(fileReader.result);\n    };\n\n    fileReader.onerror = function (_ref) {\n      var code = _ref.target.error.code;\n      reject(Error(\"File could not be read! Code=\".concat(code)));\n    };\n\n    fileReader.readAsArrayBuffer(blob);\n  });\n};\n\nmodule.exports = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_data) {\n    var data, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = _data;\n\n            if (!(typeof _data === 'undefined')) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", new Uint8Array());\n\n          case 3:\n            if (!(typeof _data === 'string')) {\n              _context.next = 16;\n              break;\n            }\n\n            if (!/data:_data\\/([a-zA-Z]*);base64,([^\"]*)/.test(_data)) {\n              _context.next = 8;\n              break;\n            }\n\n            data = atob(_data.split(',')[1]).split('').map(function (c) {\n              return c.charCodeAt(0);\n            });\n            /* From remote server/URL */\n\n            _context.next = 14;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return fetch(resolveURL(_data));\n\n          case 10:\n            res = _context.sent;\n            _context.next = 13;\n            return res.arrayBuffer();\n\n          case 13:\n            data = _context.sent;\n\n          case 14:\n            _context.next = 20;\n            break;\n\n          case 16:\n            if (!(_data instanceof File || _data instanceof Blob)) {\n              _context.next = 20;\n              break;\n            }\n\n            _context.next = 19;\n            return readFromBlobOrFile(_data);\n\n          case 19:\n            data = _context.sent;\n\n          case 20:\n            return _context.abrupt(\"return\", new Uint8Array(data));\n\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","require('regenerator-runtime/runtime');\n\nvar createFFmpeg = require('./createFFmpeg');\n\nvar _require = require('./node'),\n    fetchFile = _require.fetchFile;\n\nmodule.exports = {\n  /*\n   * Create ffmpeg instance.\n   * Each ffmpeg instance owns an isolated MEMFS and works\n   * independently.\n   *\n   * For example:\n   *\n   * ```\n   * const ffmpeg = createFFmpeg({\n   *  log: true,\n   *  logger: () => {},\n   *  progress: () => {},\n   *  corePath: '',\n   * })\n   * ```\n   *\n   * For the usage of these four arguments, check config.js\n   *\n   */\n  createFFmpeg: createFFmpeg,\n\n  /*\n   * Helper function for fetching files from various resource.\n   * Sometimes the video/audio file you want to process may located\n   * in a remote URL and somewhere in your local file system.\n   *\n   * This helper function helps you to fetch to file and return an\n   * Uint8Array variable for ffmpeg.wasm to consume.\n   *\n   */\n  fetchFile: fetchFile\n};","var resolveURL = require('resolve-url');\n\nvar _require = require('../../package.json'),\n    devDependencies = _require.devDependencies;\n/*\n * Default options for browser environment\n */\n\n\nmodule.exports = {\n  corePath: typeof process !== 'undefined' && process.env.FFMPEG_ENV === 'development' ? resolveURL('/node_modules/@ffmpeg/core/dist/ffmpeg-core.js') : \"https://unpkg.com/@ffmpeg/core@\".concat(devDependencies['@ffmpeg/core'].substring(1), \"/dist/ffmpeg-core.js\")\n};","/* eslint-disable react/require-default-props */\r\nimport React, { useEffect, useRef } from 'react';\r\n\r\n\r\n// const hasLoadedScript = false;\r\n\r\nexport const DivHost = (props: {\r\n    renderArt: (hostElement: HTMLDivElement) => { remove: () => void };\r\n    // eslint-disable-next-line react/no-unused-prop-types\r\n    openSea?: {\r\n        tokenAddress: string;\r\n        tokenId: string;\r\n    };\r\n}) => {\r\n\r\n    const hostElementRef = useRef(null as null | HTMLDivElement);\r\n    const HostElement = useRef({ Component: () => <div style={{ width: `100%`, height: `100%` }} ref={hostElementRef} /> });\r\n\r\n    useEffect(() => {\r\n        // if (!hasLoadedScript) {\r\n        //     hasLoadedScript = true;\r\n        //     const scriptElement = document.createElement(`script`);\r\n        //     scriptElement.src = `https://unpkg.com/embeddable-nfts/dist/nft-card.min.js`;\r\n        //     document.head.append(scriptElement);\r\n        // }\r\n\r\n        if (!hostElementRef.current) { return () => { }; }\r\n\r\n        console.log(`DivHost - renderArt`, { hostElementRef: hostElementRef.current, renderArt: props.renderArt });\r\n        hostElementRef.current.innerHTML = ``;\r\n        const { remove } = props.renderArt(hostElementRef.current);\r\n        return () => {\r\n            remove();\r\n        };\r\n    }, [hostElementRef.current, props.renderArt]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <HostElement.current.Component />\r\n            {/* {props.openSea && (\r\n                <>\r\n                    <div>Open Sea</div>\r\n                    <nft-card\r\n                        tokenAddress={props.openSea.tokenAddress}\r\n                        tokenId={props.openSea.tokenId}\r\n                        network='mainnet'\r\n                    />\r\n                </>\r\n            )} */}\r\n        </>\r\n    );\r\n};\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-await-in-loop */\r\nimport { useAutoLoadingError } from 'utils-react/hooks';\r\nimport React, { useState } from 'react';\r\nimport { createFFmpeg } from '@ffmpeg/ffmpeg';\r\nimport { delay } from 'utils/delay';\r\nimport { TimeProvider } from '../time-provider';\r\n\r\nexport const createRecorder = () => {\r\n\r\n    let _settings: null | { framesPerSecond: number, quality?: number, width: number, height: number } = null;\r\n\r\n    let timeMsLost = 0;\r\n    let timeMs = Date.now();\r\n    let mode = `none` as 'none'\r\n    | 'targetPrepareRequested' | 'targetReady'\r\n    | `waitingForFrame` | `processingFrame` | `increasingTime`\r\n    | 'requestedCompleteVideo'\r\n    | 'readyToCompleteVideo'\r\n    | 'completingVideo'\r\n    | 'done';\r\n    const isRecording = () => mode === `waitingForFrame` || mode === `processingFrame` || mode === `increasingTime`;\r\n\r\n    let workingCanvas = null as null | HTMLCanvasElement;\r\n    let workingContext = null as null | CanvasRenderingContext2D;\r\n    let blobs = null as null | Blob[];\r\n\r\n    const timeProvider: TimeProvider = {\r\n        now: () => isRecording() ? timeMs : (Date.now() - timeMsLost),\r\n        isPaused: () => mode === `processingFrame` || mode === `completingVideo`,\r\n    };\r\n\r\n    const requestPrepareTarget = async (settings: NonNullable<typeof _settings>) => {\r\n        if (mode !== `none`) { console.error(`requestPrepareTarget: Wrong mode!`, mode); return; }\r\n\r\n        _settings = settings;\r\n\r\n        // Get canvas ready\r\n        workingCanvas = document.createElement(`canvas`);\r\n        workingCanvas.width = _settings.width;\r\n        workingCanvas.height = _settings.height;\r\n        document.body.append(workingCanvas);\r\n\r\n        workingContext = workingCanvas.getContext(`2d`);\r\n\r\n        // wait for target canvas\r\n        mode = `targetPrepareRequested`;\r\n    };\r\n\r\n    const setTargetReady = () => {\r\n        if (mode !== `targetPrepareRequested`) { console.error(`setTargetReady: Wrong mode!`, mode); return; }\r\n        mode = `targetReady`;\r\n    };\r\n\r\n    const start = async () => {\r\n        if (mode !== `targetReady`) { console.error(`start: Wrong mode!`, mode); return; }\r\n\r\n        if (!_settings) { console.error(`prepareCanvas first!`); return; }\r\n\r\n        blobs = [];\r\n        timeMs = Date.now() - timeMsLost;\r\n        mode = `waitingForFrame`;\r\n    };\r\n\r\n    const beginIncreasingTime = () => {\r\n        if (mode === `requestedCompleteVideo`) {\r\n            mode = `readyToCompleteVideo`;\r\n            return;\r\n        }\r\n\r\n        if (!_settings) { console.error(`prepareCanvas first!`); return; }\r\n        const timeMsPerFrame = 1000 / _settings.framesPerSecond;\r\n\r\n        setTimeout(() => {\r\n            // Finally update time\r\n            timeMs += timeMsPerFrame;\r\n            mode = `waitingForFrame`;\r\n        }, 0);\r\n\r\n        mode = `increasingTime`;\r\n    };\r\n\r\n    const completeToBlob = async () => {\r\n        if (!blobs || !_settings) { throw new Error(`Recorder has not started`); }\r\n        console.log(`completeToBlob.compile started`);\r\n\r\n        timeMsLost = Date.now() - timeMs;\r\n        mode = `completingVideo`;\r\n\r\n        try {\r\n            // const webMBlob = new Blob(blobs, { type: `video/webm; codecs=vp9` });\r\n            // const webMBlob = new Blob(blobs, { type: `video/webm` });\r\n\r\n            // const webMBlob = new Blob(blobs, { type: `image/webp[array]?` });\r\n            // const webMBlob = new Blob(blobs[0], { type: `image/webp` });\r\n\r\n\r\n            const ffmpeg = createFFmpeg({});\r\n            await ffmpeg.load();\r\n\r\n            // Write images to virtual file system\r\n            // https://github.com/welefen/canvas2video/blob/master/src/index.ts\r\n            for (const [i, blob] of blobs.entries()) {\r\n                const buffer = await blob.arrayBuffer();\r\n                ffmpeg.FS(`writeFile`, `image${`${i}`.padStart(3, `0`)}.webp`, new Uint8Array(buffer));\r\n            }\r\n\r\n            // Run ffmpeg as slideshow\r\n            // https://trac.ffmpeg.org/wiki/Slideshow\r\n            // ffmpeg -framerate 24 -i img%03d.png output.mp4\r\n            await ffmpeg.run(...`-framerate ${_settings.framesPerSecond} -i image%03d.webp output.mp4`.split(` `));\r\n\r\n            const data = ffmpeg.FS(`readFile`, `output.mp4`);\r\n            const videoBlob = new Blob([data.buffer], { type: `video/mp4` });\r\n\r\n            console.log(`completeToBlob.compile done`, { videoBlob });\r\n\r\n            return videoBlob;\r\n\r\n        } catch (err) {\r\n            console.error(`completeToBlob.compile ERROR`, { err });\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    const completeToDataUrl = async () => {\r\n        const videoBlob = await completeToBlob();\r\n        console.log(`completeToDownloadFile videoBlob ready`, { videoBlob });\r\n\r\n        return URL.createObjectURL(videoBlob);\r\n    };\r\n\r\n    const completeToDownloadFile = async (filename: string) => {\r\n        if (mode === `waitingForFrame` || mode === `increasingTime`) {\r\n            mode = `readyToCompleteVideo`;\r\n        }\r\n\r\n        while (mode === `processingFrame` || mode === `requestedCompleteVideo`) {\r\n            mode = `requestedCompleteVideo`;\r\n            await delay(10);\r\n        }\r\n\r\n        if (mode !== `readyToCompleteVideo`) { console.error(`completeToDownloadFile: Wrong mode!`, mode); return; }\r\n        mode = `completingVideo`;\r\n\r\n        const dataUrl = await completeToDataUrl();\r\n        console.log(`completeToDownloadFile dataUrl ready`, { dataUrl });\r\n\r\n        const link = document.createElement(`a`);\r\n        link.download = filename;\r\n        link.href = dataUrl;\r\n        document.body.append(link);\r\n        link.click();\r\n        link.remove();\r\n\r\n        console.log(`completeToDownloadFile done`, { link, dataUrl });\r\n\r\n        mode = `done`;\r\n    };\r\n\r\n\r\n    const addFrame = async (canvas: HTMLCanvasElement) => {\r\n        return await new Promise<void>((resolve, reject) => {\r\n            if (mode !== `waitingForFrame`) { console.error(`addFrame: Wrong mode!`, mode); return; }\r\n\r\n            const cvs = workingCanvas;\r\n            const ctx = workingContext;\r\n            if (!cvs || !ctx || !blobs || !_settings) { throw new Error(`Recorder has not started`); }\r\n\r\n            try {\r\n                mode = `processingFrame`;\r\n\r\n                ctx.drawImage(canvas, 0, 0, _settings.width, _settings.height);\r\n                cvs.toBlob(b => {\r\n                    if (!ctx || !blobs || !_settings) { throw new Error(`Recorder has not started`); }\r\n\r\n                    b && blobs?.push(b);\r\n\r\n                    beginIncreasingTime();\r\n\r\n                    resolve();\r\n\r\n                }, `image/webp`, _settings.quality);\r\n\r\n\r\n            } catch (err) {\r\n                console.error(`addFrame ERROR`, { err });\r\n                mode = `waitingForFrame`;\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n\r\n    return {\r\n        prepareTarget: requestPrepareTarget,\r\n        getSettings: () => _settings,\r\n        getMode: () => mode,\r\n        setTargetReady,\r\n        start,\r\n        isRecording,\r\n        isWaitingForFrame: () => mode === `waitingForFrame`,\r\n        getRecorder: () => {\r\n            if (!isRecording()) { throw new Error(`Recorder is not recording`); }\r\n\r\n            return {\r\n                addFrame,\r\n                // completeToBlob,\r\n                // completeToDataUrl,\r\n                completeToDownloadFile,\r\n                settings: _settings,\r\n            };\r\n        },\r\n        timeProvider,\r\n    };\r\n};\r\n\r\nexport type CanvasVideoRecorder = ReturnType<typeof createRecorder>;\r\n\r\nexport const CanvasVideoRecorderControl = (props: { recorder: CanvasVideoRecorder, onPrepareTarget: () => void }) => {\r\n\r\n    const [mode, setMode] = useState(`prepare` as 'prepare' | 'ready' | 'recording' | 'stopped');\r\n\r\n    const prepareTarget = () => {\r\n        doWork(async (stopIfObsolete) => {\r\n            await props.recorder.prepareTarget({\r\n                framesPerSecond: 30,\r\n\r\n                // Square\r\n                // width: 300,\r\n                // height: 300,\r\n                width: 600,\r\n                height: 600,\r\n\r\n\r\n                // // 720p - Looks good on mobile\r\n                // width: 1280,\r\n                // height: 720,\r\n\r\n                // // Blurry on twitter\r\n                // width: 480,\r\n                // height: 270,\r\n\r\n                // // Blurry on twitter\r\n                // width: 256,\r\n                // height: 256,\r\n\r\n                // width: 507,\r\n                // height: 507,\r\n                quality: 0.95,\r\n                // quality: 0.95,\r\n                // width: 1920,\r\n                // height: 1080,\r\n            });\r\n            stopIfObsolete();\r\n            setMode(`ready`);\r\n            props.onPrepareTarget();\r\n        });\r\n    };\r\n\r\n    const startRecording = () => {\r\n        setMode(`recording`);\r\n        doWork(async (stopIfObsolete) => {\r\n            await props.recorder.start();\r\n        });\r\n    };\r\n\r\n    const { loading, error, doWork } = useAutoLoadingError();\r\n\r\n    const stopRecording = () => {\r\n        setMode(`stopped`);\r\n        doWork(async (stopIfObsolete) => {\r\n            await props.recorder.getRecorder().completeToDownloadFile(`video.mp4`);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                {error && (\r\n                    <div style={{ background: `#88888888` }}><span>ERROR! </span></div>\r\n                )}\r\n                {loading && (\r\n                    <div style={{ background: `#88888888` }}><span>Loading </span></div>\r\n                )}\r\n                {mode === `prepare` && (\r\n                    <div onClick={prepareTarget} style={{ background: `#88888888` }}><span>Prepare </span></div>\r\n                )}\r\n                {mode === `ready` && (\r\n                    <div onClick={startRecording} style={{ background: `#88888888` }}><span>Record </span></div>\r\n                )}\r\n                {mode === `recording` && (\r\n                    <div onClick={stopRecording} style={{ background: `#88888888` }}><span>Stop </span></div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n","\r\n// Note: this file needs to be importable with no dependencies to build the site index\r\nexport const artIndex = [\r\n    { key: `fluid-snake-game`, title: `Fluid Snake Game`, imageUrl: undefined, load: async () => (await import (`./artwork/example-PavelDoGreat-fluid-simulation/fluid-snake`)).art_fluidSnakeGame },\r\n    // { key: `fluid-flappy-game`, title: `Fluid Flappy Game`, imageUrl: undefined, load: async () => await import (`./artwork/example-PavelDoGreat-fluid-simulation/fluid-flappy`) },\r\n    { key: `example-fluid-simulator`, title: `Example Fluid Simulator`, imageUrl: undefined, load: async () => (await import (`./artwork/example-PavelDoGreat-fluid-simulation/example-fluid-simulator`)).art_exampleFluidSimulator },\r\n    { key: `flying-colors`, title: `Flying Colors`, imageUrl: undefined, load: async () => (await import (`./artwork/flying-colors/flying-colors`)).art_flyingColors },\r\n    { key: `gpu-01`, title: `GPU-01`, imageUrl: undefined, load: async () => (await import (`./artwork/gpu-01/gpu-01`)).art_gpu_01 },\r\n    { key: `gears`, title: `Gears`, imageUrl: undefined, load: async () => (await import (`./artwork/gears`)).art_gears },\r\n    { key: `puzzle-01`, title: `Puzzle 01`, imageUrl: undefined, load: async () => (await import (`./artwork/puzzle/art-puzzle-01`)).art_puzzle01 },\r\n    { key: `121`, title: `121`, imageUrl: undefined, load: async () => (await import (`./artwork/art-121`)).art_121 },\r\n    { key: `circles`, title: `Circles`, imageUrl: `./artwork/circles.png`, load: async () => (await import (`./artwork/circles`)).art_circles },\r\n    { key: `onions`, title: `Onions`, imageUrl: undefined, load: async () => (await import (`./artwork/layers-of-the-onions-soul`)).art_layersOfTheOnionsSoul },\r\n    { key: `nft-text-adventure`, title: `Nft Text Adventure`, imageUrl: `./artwork/nft-adventure/stories/nft-text-adventure.png`, load: async () => (await import (`./artwork/nft-adventure/art`)).art_nftAdventure_nftTextAdventure },\r\n] as const;\r\nexport type ArtKey = typeof artIndex[number]['key'];\r\nexport type ArtIndexEntry = typeof artIndex[number];\r\n","import React, { } from 'react';\r\nimport { DivHost } from './div-host';\r\nimport { ArtWork, P5Constructor } from './artwork-type';\r\n\r\nexport const ArtRenderer = ({\r\n    art,\r\n    tokenId,\r\n    showInfo,\r\n    createP5,\r\n}: {\r\n    art: ArtWork;\r\n    tokenId: string;\r\n    showInfo: boolean;\r\n    createP5?: P5Constructor;\r\n}) => {\r\n\r\n    const { renderArt, ArtComponent } = art;\r\n\r\n    const ArtInfoComponent = () => {\r\n        if (!showInfo){\r\n            return <></>;\r\n        }\r\n\r\n        const tokenDescription = art.getTokenDescription(tokenId);\r\n\r\n        return (\r\n            <div style={{ position: `fixed`, left: 4, bottom: 4, maxWidth: `75%`, color: `white` }}>\r\n                <div style={{ opacity: 0.5 }}>\r\n                    <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.title}</div>\r\n                    <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.artist}</div>\r\n                    <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.description}</div>\r\n                    {!!tokenDescription && <div style={{ padding: 4, whiteSpace: `pre-wrap`, wordBreak: `break-all` }}>{tokenDescription}</div>}\r\n                </div>\r\n                <div style={{ opacity: 0.75, padding: 4 }}>\r\n                    <ReserveButton\r\n                        artKey={art.key}\r\n                        seed={tokenId}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: 8 }}>\r\n                    <a href='/art'> Other Art by Rick Love</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (renderArt) {\r\n\r\n        const hostId = Math.random();\r\n\r\n        return (\r\n            <>\r\n                {/* <div id={hostId}>\r\n                </div> */}\r\n                <DivHost\r\n                    renderArt={(hostElement) => renderArt(hostElement, tokenId, null, createP5 ??\r\n                        ((sketch, host) => {\r\n                            console.error(`Missing createP5`);\r\n                            return ({ remove: () => { /*Ignore*/ } });\r\n                        }))}\r\n                    openSea={art?.openSea} />\r\n                <ArtInfoComponent/>\r\n            </>\r\n        );\r\n    }\r\n\r\n    if (ArtComponent) {\r\n        return (\r\n            <>\r\n                <ArtComponent hash={tokenId} />\r\n                <ArtInfoComponent/>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return <></>;\r\n};\r\n\r\n\r\nexport const ReserveButton = ({\r\n    artKey,\r\n    seed,\r\n    walletAddress,\r\n}: {\r\n    artKey: string;\r\n    seed?: string;\r\n    walletAddress?: string;\r\n}) => {\r\n\r\n    const reserve = async () => {\r\n        const nftUrl = `https://ricklove.me/art/${artKey}${seed ? `?seed=${seed}` : ``}`;\r\n        const reserveMessage = `@RickLoveToldMe I want to reserve this NFT: ${nftUrl}${walletAddress && walletAddress !== seed ? ` for wallet=${walletAddress}` : ``}`;\r\n\r\n        // Public message\r\n        const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(reserveMessage)}`;\r\n\r\n        // Direct message\r\n        // const url = `https://twitter.com/messages/compose?recipient_id=1001&text=${encodeURIComponent(reserveMessage)}`;\r\n\r\n        window.open(url, `_blank`);\r\n        // window.location.href = url;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                style={{\r\n                    background: `#037dd6`,\r\n                    color: `#FFFFFF`,\r\n                    borderRadius: 4,\r\n                    padding: 4,\r\n                    textAlign: `center`,\r\n                }}\r\n                onClick={reserve}>{`Reserve NFT`}</div>\r\n        </>\r\n    );\r\n};\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport { C } from 'controls-react';\r\nimport { useDebounce } from 'utils-react/hooks';\r\nimport { theme } from 'themes/theme';\r\nimport { DivHost } from './div-host';\r\nimport { ArtWork } from './artwork-type';\r\nimport { CanvasVideoRecorderControl, createRecorder } from './canvas-video-recording/canvas-video-recorder';\r\nimport { artIndex, ArtIndexEntry, ArtKey } from './art-index';\r\nimport { ArtRenderer, ReserveButton } from './art-renderer';\r\nimport p5 from 'p5';\r\n\r\nexport const ArtGallery = (props: {}) => {\r\n\r\n    const queryParts = document.location.search.substr(1).split(`&`);\r\n    const artKey = (queryParts.find(x => x.startsWith(`key`))?.split(`=`)[1]\r\n        ?? document.location.pathname.match(/art\\/([^/]+)/)?.[1]) as undefined | ArtKey;\r\n    const newTokenId = queryParts.find(x => x.startsWith(`tokenId`))?.split(`=`)[1]\r\n        ?? queryParts.find(x => x.startsWith(`seed`))?.split(`=`)[1]\r\n        ?? document.location.pathname.match(new RegExp(`art/${artKey}/([^/]+)`))?.[1];\r\n    const showCamera = document.location.search.includes(`camera=true`);\r\n\r\n    const art = useRef(null as null | ArtWork);\r\n    const recorderRef = useRef(showCamera ? createRecorder() : null as null | ReturnType<typeof createRecorder>);\r\n\r\n    const [renderId, setRenderId] = useState(0);\r\n    const [showNavigation, setShowNavigation] = useState(true);\r\n    const [tokenId, setTokenId] = useState(`0`);\r\n    const [isFullScreen, setIsFullScreen] = useState(false);\r\n    const [customSize, setCustomSize] = useState(null as null | { width: number, height: number });\r\n\r\n    type ArtRender = {\r\n        kind: 'div';\r\n        renderArt: (hostElement: HTMLDivElement) => { remove: () => void };\r\n        openSea?: ArtWork['openSea'];\r\n    } | {\r\n        kind: 'react';\r\n        ArtComponent: () => JSX.Element;\r\n        openSea?: ArtWork['openSea'];\r\n    };\r\n    const [tokenDescription, setTokenDescription] = useState(null as null | string);\r\n    const { debounce } = useDebounce(250);\r\n\r\n    useEffect(() => {\r\n\r\n        // const camera = queryParts.find(x => x.startsWith(`camera`))?.split(`=`)[1];\r\n        // if (camera) { recorderRef.current = createRecorder(); }\r\n\r\n        if (!artKey) { changeTokenId(`0`); return; }\r\n        const artworkItem = artIndex.find(x => x.key === artKey);\r\n        if (!artworkItem) { changeTokenId(`0`); return; }\r\n\r\n        (async () => {\r\n            art.current = await artworkItem.load();\r\n\r\n            // setShowNavigation(false);\r\n            setIsFullScreen(true);\r\n            changeTokenId(`${newTokenId || tokenId}`);\r\n        })();\r\n\r\n    }, [document.location.search]);\r\n\r\n    const prepareTarget = () => {\r\n        if (!recorderRef.current) { return; }\r\n\r\n        const settings = recorderRef.current.getSettings();\r\n        if (!settings) { return; }\r\n\r\n        setCustomSize({ width: settings.width, height: settings.height });\r\n        recorderRef.current.setTargetReady();\r\n    };\r\n\r\n    const changeArt = (value: ArtIndexEntry) => {\r\n        // art.current = value;\r\n        window.location.pathname = `/art/${value.key}`;\r\n        // changeTokenId(tokenId);\r\n    };\r\n\r\n    const changeTokenId = (value: string) => {\r\n        console.log(`changeTokenId`, { value });\r\n\r\n        setTokenId(value);\r\n\r\n        debounce(() => {\r\n            console.log(`changeTokenId debounce`, { value });\r\n            if (!art.current){ return; }\r\n\r\n            setTokenDescription(art.current.getTokenDescription(value) ?? `Seed: ${value}`);\r\n            const { renderArt, ArtComponent } = art.current;\r\n            if (renderArt) {\r\n                cacheRenderArtwork({\r\n                    kind: `div`,\r\n                    renderArt: (hostElement) => renderArt(hostElement, value, recorderRef.current,\r\n                        (x, host) => new p5(x, host)),\r\n                    openSea: art.current.openSea,\r\n                });\r\n            } else if (ArtComponent) {\r\n                cacheRenderArtwork({\r\n                    kind: `react`,\r\n                    ArtComponent: () => <ArtComponent hash={value} />,\r\n                    openSea: art.current.openSea,\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const ArtworkComponentRef = useRef(<></>);\r\n    const cacheRenderArtwork = (artRenderer: ArtRender) => {\r\n        ArtworkComponentRef.current = (\r\n            <>\r\n                {artRenderer?.kind === `div` && (\r\n                    <DivHost renderArt={artRenderer.renderArt} openSea={artRenderer.openSea} />\r\n                )}\r\n                {artRenderer?.kind === `react` && (\r\n                    <artRenderer.ArtComponent />\r\n                )}\r\n\r\n            </>\r\n        );\r\n        setRenderId(s => s + 1);\r\n    };\r\n\r\n    const [walletAddress, setWalletAddress] = useState(null as null | string);\r\n    const canSetSeed = art.current?.canSetSeed ?? true;\r\n\r\n    return (\r\n        <>\r\n            <C.View_Panel>\r\n                {showNavigation && (\r\n                    <C.View_Form>\r\n                        {artIndex.map(x => (\r\n                            <React.Fragment key={x.title}>\r\n                                <div style={{ paddingBottom: 4 }}>\r\n                                    <C.Button_FormAction onPress={() => changeArt(x)}>{x.title}</C.Button_FormAction>\r\n                                </div>\r\n                            </React.Fragment>\r\n                        ))}\r\n                        {canSetSeed && (\r\n                            <SeedController value={tokenId} onChange={changeTokenId}\r\n                                onWalletAddress={setWalletAddress}/>\r\n                        )}\r\n                    </C.View_Form>\r\n                )}\r\n\r\n                {art.current && (\r\n                    <>\r\n                        <C.Text_FormTitle style={{ ...theme.text_formTitle, whiteSpace: `pre-wrap` }}>{art.current.title}</C.Text_FormTitle>\r\n                        <C.Text_FormTitle style={{ ...theme.text_formTitle, whiteSpace: `pre-wrap` }}>{art.current.artist}</C.Text_FormTitle>\r\n                        <div style={customSize ? { position: `fixed`, left: 0, right: 0, top: 0, bottom: 0, background: `#000000` }\r\n                            : isFullScreen ? { position: `fixed`, left: 0, right: 0, top: 0, bottom: 0, background: `#000000` }\r\n                                : { maxWidth: `600px`, maxHeight: `600px` }}>\r\n                            <div style={{ position: `relative`, width: `100%`, height: `100%`, ...customSize ?? {} }} >\r\n                                {ArtworkComponentRef.current}\r\n                                <div style={{ position: `absolute`, top: 4, right: 4, width: 16, height: 16, fontFamily: `monospace`, fontSize: 14, lineHeight: `16px`, textAlign: `center`, color: `#FFFFFF`, background: `#88888888` }}\r\n                                    onClick={() => setIsFullScreen(s => !s)}>{isFullScreen ? `-` : `+`}</div>\r\n                                {isFullScreen && (\r\n                                    <>\r\n                                        <div style={{ position: `fixed`, left: 4, bottom: 4, maxWidth: `75%`, color: `white` }}>\r\n                                            <div style={{ opacity: 0.5 }}>\r\n                                                <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.current.title}</div>\r\n                                                <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.current.artist}</div>\r\n                                                <div style={{ padding: 4, whiteSpace: `pre-wrap` }}>{art.current.description}</div>\r\n                                                {!!tokenDescription && <div style={{ padding: 4, whiteSpace: `pre-wrap`, wordBreak: `break-all` }}>{tokenDescription}</div>}\r\n                                            </div>\r\n                                            {canSetSeed && (\r\n                                                <div style={{ opacity: 0.75, padding: 4 }}>\r\n                                                    <SeedController value={tokenId}\r\n                                                        onChange={changeTokenId}\r\n                                                        onWalletAddress={setWalletAddress}/>\r\n                                                </div>\r\n                                            )}\r\n                                            <div style={{ opacity: 0.75, padding: 4 }}>\r\n                                                {artKey && tokenId && (\r\n                                                    <ReserveButton\r\n                                                        artKey={artKey}\r\n                                                        seed={tokenId}\r\n                                                        walletAddress={walletAddress ?? undefined}\r\n                                                    />\r\n                                                )}\r\n                                            </div>\r\n                                            <div style={{ marginTop: 8 }}>\r\n                                                <a href='/art'> Other Art by Rick Love</a>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        {recorderRef.current && (\r\n                            <div style={{ position: `fixed`, right: 0, bottom: 0 }} >\r\n                                <CanvasVideoRecorderControl\r\n                                    recorder={recorderRef.current}\r\n                                    onPrepareTarget={prepareTarget} />\r\n                            </div>\r\n                        )}\r\n                        {tokenDescription && (<C.Text_FormTitle style={{ ...theme.text_formTitle, background: `#EEEEEE`, padding: 8, whiteSpace: `pre-wrap` }}>{tokenDescription}</C.Text_FormTitle>)}\r\n                        <C.Text_FormTitle style={{ ...theme.text_formTitle, whiteSpace: `pre-wrap` }}>{art.current.description}</C.Text_FormTitle>\r\n                    </>\r\n                )}\r\n            </C.View_Panel>\r\n            {!showNavigation && (\r\n                <div style={{ padding: 16, fontSize: 16 }}>\r\n                    <a href='/art'>Other Art by Rick Love</a>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport const ArtWorkGenerator = ({\r\n    artKey,\r\n    tokenId: tokenIdRaw,\r\n}: {\r\n    artKey?: string;\r\n    tokenId?: string;\r\n}) => {\r\n\r\n    const queryParts = document.location.search.substr(1).split(`&`);\r\n    const tokenId = tokenIdRaw\r\n        ?? queryParts.find(x => x.startsWith(`tokenId`))?.split(`=`)[1]\r\n        ?? queryParts.find(x => x.startsWith(`seed`))?.split(`=`)[1]\r\n        ?? document.location.pathname.match(new RegExp(`art/${artKey}/([^/]+)`))?.[1]\r\n        ?? `0`;\r\n\r\n    const [art, setArt] = useState(null as null|ArtWork);\r\n    useEffect(() => {\r\n        const artworkItem = artIndex.find(x => x.key === artKey);\r\n        if (!artworkItem) { return; }\r\n\r\n        (async () => {\r\n            const result = await artworkItem.load();\r\n            setArt(result);\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {art && (\r\n                <ArtRenderer art={art} tokenId={tokenId} showInfo={true} createP5={(x, host) => new p5(x, host)}/>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport const SeedController = (props: {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    onWalletAddress: (address: string) => void;\r\n}) => {\r\n\r\n    return (\r\n        <>\r\n            <div style={{\r\n                display: `flex`, flexDirection: `row`, flexWrap: `wrap`, alignItems: `center`,\r\n                color: `white`,\r\n                // padding: 8, borderRadius: 8,\r\n                // background: `#FFFFFF`,\r\n            }}>\r\n                <div style={{ padding: 4 }}>Seed:</div>\r\n                <input type='text'\r\n                    style={{ padding: 4, borderRadius: 4 }}\r\n                    value={props.value}\r\n                    onInput={x => props.onChange(x.currentTarget.value)}\r\n                    onChange={x => props.onChange(x.currentTarget.value)}\r\n                />\r\n                {/* <C.Input_Text value={props.value} onChange={props.onChange} /> */}\r\n                <ConnectWalletButton label={`Use Wallet Address`} onWalletAddress={x => {props.onChange(x); props.onWalletAddress(x);}} />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\ndeclare const ethereum: {\r\n    request: (args: { method: 'eth_requestAccounts' }) => Promise<string[]>;\r\n};\r\nexport const ConnectWalletButton = (props: {\r\n    label?: string;\r\n    onWalletAddress: (address: string) => void;\r\n}) => {\r\n\r\n    const [connected, setConnected] = useState(false);\r\n\r\n    if (typeof ethereum === undefined){\r\n        return <></>;\r\n    }\r\n\r\n    const connect = async () => {\r\n        const accounts = await ethereum.request({ method: `eth_requestAccounts` });\r\n        const account = accounts[0];\r\n        props.onWalletAddress(account);\r\n        setConnected(true);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                background: `#037dd6`,\r\n                color: `#FFFFFF`,\r\n                borderRadius: 4,\r\n                padding: 4,\r\n                textAlign: `center`,\r\n            }}\r\n            onClick={connect}>{props.label ?? `Connect Wallet`}</div>\r\n    );\r\n};\r\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var logging = false;\n\nvar customLogger = function customLogger() {};\n\nvar setLogging = function setLogging(_logging) {\n  logging = _logging;\n};\n\nvar setCustomLogger = function setCustomLogger(logger) {\n  customLogger = logger;\n};\n\nvar log = function log(type, message) {\n  customLogger({\n    type: type,\n    message: message\n  });\n\n  if (logging) {\n    console.log(\"[\".concat(type, \"] \").concat(message));\n  }\n};\n\nmodule.exports = {\n  logging: logging,\n  setLogging: setLogging,\n  setCustomLogger: setCustomLogger,\n  log: log\n};","var defaultOptions = require('./defaultOptions');\n\nvar getCreateFFmpegCore = require('./getCreateFFmpegCore');\n\nvar fetchFile = require('./fetchFile');\n\nmodule.exports = {\n  defaultOptions: defaultOptions,\n  getCreateFFmpegCore: getCreateFFmpegCore,\n  fetchFile: fetchFile\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","// Copyright 2014 Simon Lydell\n// X11 (MIT) Licensed. (See LICENSE.)\nvoid function (root, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else if (typeof exports === \"object\") {\n    module.exports = factory();\n  } else {\n    root.resolveUrl = factory();\n  }\n}(this, function () {\n  function resolveUrl()\n  /* ...urls */\n  {\n    var numUrls = arguments.length;\n\n    if (numUrls === 0) {\n      throw new Error(\"resolveUrl requires at least one argument; got none.\");\n    }\n\n    var base = document.createElement(\"base\");\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    var head = document.getElementsByTagName(\"head\")[0];\n    head.insertBefore(base, head.firstChild);\n    var a = document.createElement(\"a\");\n    var resolved;\n\n    for (var index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n    return resolved;\n  }\n\n  return resolveUrl;\n});","var _toConsumableArray = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _regeneratorRuntime = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/regenerator\");\n\nrequire(\"regenerator-runtime/runtime.js\");\n\nvar _asyncToGenerator = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _defineProperty = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _objectWithoutProperties = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/objectWithoutProperties\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _require = require('./config'),\n    defaultArgs = _require.defaultArgs,\n    baseOptions = _require.baseOptions;\n\nvar _require2 = require('./utils/log'),\n    setLogging = _require2.setLogging,\n    setCustomLogger = _require2.setCustomLogger,\n    log = _require2.log;\n\nvar parseProgress = require('./utils/parseProgress');\n\nvar parseArgs = require('./utils/parseArgs');\n\nvar _require3 = require('./node'),\n    defaultOptions = _require3.defaultOptions,\n    getCreateFFmpegCore = _require3.getCreateFFmpegCore;\n\nvar _require4 = require('../package.json'),\n    version = _require4.version;\n\nvar NO_LOAD = Error('ffmpeg.wasm is not ready, make sure you have completed load().');\n\nmodule.exports = function () {\n  var _options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _baseOptions$defaultO = _objectSpread(_objectSpread(_objectSpread({}, baseOptions), defaultOptions), _options),\n      logging = _baseOptions$defaultO.log,\n      logger = _baseOptions$defaultO.logger,\n      optProgress = _baseOptions$defaultO.progress,\n      options = _objectWithoutProperties(_baseOptions$defaultO, [\"log\", \"logger\", \"progress\"]);\n\n  var Core = null;\n  var ffmpeg = null;\n  var runResolve = null;\n  var running = false;\n  var progress = optProgress;\n\n  var detectCompletion = function detectCompletion(message) {\n    if (message === 'FFMPEG_END' && runResolve !== null) {\n      runResolve();\n      runResolve = null;\n      running = false;\n    }\n  };\n\n  var parseMessage = function parseMessage(_ref) {\n    var type = _ref.type,\n        message = _ref.message;\n    log(type, message);\n    parseProgress(message, progress);\n    detectCompletion(message);\n  };\n  /*\n   * Load ffmpeg.wasm-core script.\n   * In browser environment, the ffmpeg.wasm-core script is fetch from\n   * CDN and can be assign to a local path by assigning `corePath`.\n   * In node environment, we use dynamic require and the default `corePath`\n   * is `$ffmpeg/core`.\n   *\n   * Typically the load() func might take few seconds to minutes to complete,\n   * better to do it as early as possible.\n   *\n   */\n\n\n  var load = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$getCreateFFmpe, createFFmpegCore, corePath, workerPath, wasmPath;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              log('info', 'load ffmpeg-core');\n\n              if (!(Core === null)) {\n                _context.next = 17;\n                break;\n              }\n\n              log('info', 'loading ffmpeg-core');\n              /*\n               * In node environment, all paths are undefined as there\n               * is no need to set them.\n               */\n\n              _context.next = 5;\n              return getCreateFFmpegCore(options);\n\n            case 5:\n              _yield$getCreateFFmpe = _context.sent;\n              createFFmpegCore = _yield$getCreateFFmpe.createFFmpegCore;\n              corePath = _yield$getCreateFFmpe.corePath;\n              workerPath = _yield$getCreateFFmpe.workerPath;\n              wasmPath = _yield$getCreateFFmpe.wasmPath;\n              _context.next = 12;\n              return createFFmpegCore({\n                /*\n                 * Assign mainScriptUrlOrBlob fixes chrome extension web worker issue\n                 * as there is no document.currentScript in the context of content_scripts\n                 */\n                mainScriptUrlOrBlob: corePath,\n                printErr: function printErr(message) {\n                  return parseMessage({\n                    type: 'fferr',\n                    message: message\n                  });\n                },\n                print: function print(message) {\n                  return parseMessage({\n                    type: 'ffout',\n                    message: message\n                  });\n                },\n\n                /*\n                 * locateFile overrides paths of files that is loaded by main script (ffmpeg-core.js).\n                 * It is critical for browser environment and we override both wasm and worker paths\n                 * as we are using blob URL instead of original URL to avoid cross origin issues.\n                 */\n                locateFile: function locateFile(path, prefix) {\n                  if (typeof window !== 'undefined') {\n                    if (typeof wasmPath !== 'undefined' && path.endsWith('ffmpeg-core.wasm')) {\n                      return wasmPath;\n                    }\n\n                    if (typeof workerPath !== 'undefined' && path.endsWith('ffmpeg-core.worker.js')) {\n                      return workerPath;\n                    }\n                  }\n\n                  return prefix + path;\n                }\n              });\n\n            case 12:\n              Core = _context.sent;\n              ffmpeg = Core.cwrap('proxy_main', 'number', ['number', 'number']);\n              log('info', 'ffmpeg-core loaded');\n              _context.next = 18;\n              break;\n\n            case 17:\n              throw Error('ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.');\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function load() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /*\n   * Determine whether the Core is loaded.\n   */\n\n\n  var isLoaded = function isLoaded() {\n    return Core !== null;\n  };\n  /*\n   * Run ffmpeg command.\n   * This is the major function in ffmpeg.wasm, you can just imagine it\n   * as ffmpeg native cli and what you need to pass is the same.\n   *\n   * For example, you can convert native command below:\n   *\n   * ```\n   * $ ffmpeg -i video.avi -c:v libx264 video.mp4\n   * ```\n   *\n   * To\n   *\n   * ```\n   * await ffmpeg.run('-i', 'video.avi', '-c:v', 'libx264', 'video.mp4');\n   * ```\n   *\n   */\n\n\n  var run = function run() {\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    log('info', \"run ffmpeg command: \".concat(_args.join(' ')));\n\n    if (Core === null) {\n      throw NO_LOAD;\n    } else if (running) {\n      throw Error('ffmpeg.wasm can only run one command at a time');\n    } else {\n      running = true;\n      return new Promise(function (resolve) {\n        var args = [].concat(_toConsumableArray(defaultArgs), _args).filter(function (s) {\n          return s.length !== 0;\n        });\n        runResolve = resolve;\n        ffmpeg.apply(void 0, _toConsumableArray(parseArgs(Core, args)));\n      });\n    }\n  };\n  /*\n   * Run FS operations.\n   * For input/output file of ffmpeg.wasm, it is required to save them to MEMFS\n   * first so that ffmpeg.wasm is able to consume them. Here we rely on the FS\n   * methods provided by Emscripten.\n   *\n   * Common methods to use are:\n   * ffmpeg.FS('writeFile', 'video.avi', new Uint8Array(...)): writeFile writes\n   * data to MEMFS. You need to use Uint8Array for binary data.\n   * ffmpeg.FS('readFile', 'video.mp4'): readFile from MEMFS.\n   * ffmpeg.FS('unlink', 'video.map'): delete file from MEMFS.\n   *\n   * For more info, check https://emscripten.org/docs/api_reference/Filesystem-API.html\n   *\n   */\n\n\n  var FS = function FS(method) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    log('info', \"run FS.\".concat(method, \" \").concat(args.map(function (arg) {\n      return typeof arg === 'string' ? arg : \"<\".concat(arg.length, \" bytes binary file>\");\n    }).join(' ')));\n\n    if (Core === null) {\n      throw NO_LOAD;\n    } else {\n      var ret = null;\n\n      try {\n        var _Core$FS;\n\n        ret = (_Core$FS = Core.FS)[method].apply(_Core$FS, args);\n      } catch (e) {\n        if (method === 'readdir') {\n          throw Error(\"ffmpeg.FS('readdir', '\".concat(args[0], \"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')\"));\n        } else if (method === 'readFile') {\n          throw Error(\"ffmpeg.FS('readFile', '\".concat(args[0], \"') error. Check if the path exists\"));\n        } else {\n          throw Error('Oops, something went wrong in FS operation.');\n        }\n      }\n\n      return ret;\n    }\n  };\n\n  var setProgress = function setProgress(_progress) {\n    progress = _progress;\n  };\n\n  var setLogger = function setLogger(_logger) {\n    setCustomLogger(_logger);\n  };\n\n  setLogging(logging);\n  setCustomLogger(logger);\n  log('info', \"use ffmpeg.wasm v\".concat(version));\n  return {\n    setProgress: setProgress,\n    setLogger: setLogger,\n    setLogging: setLogging,\n    load: load,\n    isLoaded: isLoaded,\n    run: run,\n    FS: FS\n  };\n};","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","module.exports = function (Core, args) {\n  var argsPtr = Core._malloc(args.length * Uint32Array.BYTES_PER_ELEMENT);\n\n  args.forEach(function (s, idx) {\n    var buf = Core._malloc(s.length + 1);\n\n    Core.writeAsciiToMemory(s, buf);\n    Core.setValue(argsPtr + Uint32Array.BYTES_PER_ELEMENT * idx, buf, 'i32');\n  });\n  return [args.length, argsPtr];\n};","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","module.exports = {\n  defaultArgs: [\n  /* args[0] is always the binary path */\n  './ffmpeg',\n  /* Disable interaction mode */\n  '-nostdin',\n  /* Force to override output file */\n  '-y'],\n  baseOptions: {\n    /* Flag to turn on/off log messages in console */\n    log: false,\n\n    /*\n     * Custom logger to get ffmpeg.wasm output messages.\n     * a sample logger looks like this:\n     *\n     * ```\n     * logger = ({ type, message }) => {\n     *   console.log(type, message);\n     * }\n     * ```\n     *\n     * type can be one of following:\n     *\n     * info: internal workflow debug messages\n     * fferr: ffmpeg native stderr output\n     * ffout: ffmpeg native stdout output\n     */\n    logger: function logger() {},\n\n    /*\n     * Progress handler to get current progress of ffmpeg command.\n     * a sample progress handler looks like this:\n     *\n     * ```\n     * progress = ({ ratio }) => {\n     *   console.log(ratio);\n     * }\n     * ```\n     *\n     * ratio is a float number between 0 to 1.\n     */\n    progress: function progress() {},\n\n    /*\n     * Path to find/download ffmpeg.wasm-core,\n     * this value should be overwriten by `defaultOptions` in\n     * each environment.\n     */\n    corePath: ''\n  }\n};","var _slicedToArray = require(\"D:/Projects/rick-love-master/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar duration = 0;\n\nvar ts2sec = function ts2sec(ts) {\n  var _ts$split = ts.split(':'),\n      _ts$split2 = _slicedToArray(_ts$split, 3),\n      h = _ts$split2[0],\n      m = _ts$split2[1],\n      s = _ts$split2[2];\n\n  return parseFloat(h) * 60 * 60 + parseFloat(m) * 60 + parseFloat(s);\n};\n\nmodule.exports = function (message, progress) {\n  if (typeof message === 'string') {\n    if (message.startsWith('  Duration')) {\n      var ts = message.split(', ')[0].split(': ')[1];\n      var d = ts2sec(ts);\n\n      if (duration === 0 || duration > d) {\n        duration = d;\n      }\n    } else if (message.startsWith('frame') || message.startsWith('size')) {\n      var _ts = message.split('time=')[1].split(' ')[0];\n      var t = ts2sec(_ts);\n      progress({\n        ratio: t / duration\n      });\n    } else if (message.startsWith('video:')) {\n      progress({\n        ratio: 1\n      });\n      duration = 0;\n    }\n  }\n};"],"sourceRoot":""}