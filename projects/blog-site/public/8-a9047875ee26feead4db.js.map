{"version":3,"sources":["webpack:///D:/Projects/rick-love-master/node_modules/gatsby/node_modules/core-js/modules/es.promise.finally.js","webpack:///D:/Projects/rick-love-master/code/art/rando.ts","webpack:///D:/Projects/rick-love-master/code/art/circles.tsx","webpack:///D:/Projects/rick-love-master/code/art/layers-of-the-onions-soul.tsx","webpack:///D:/Projects/rick-love-master/code/art/p5-viewer.tsx","webpack:///D:/Projects/rick-love-master/code/art/art-gallery.tsx","webpack:///D:/Projects/rick-love-master/node_modules/gatsby/node_modules/core-js/modules/es.math.hypot.js"],"names":["$","IS_PURE","NativePromise","fails","getBuiltIn","speciesConstructor","promiseResolve","redefine","target","proto","real","forced","prototype","call","then","onFinally","C","this","isFunction","x","e","createRandomGenerator","hash","a","seed","str","h","length","i","Math","imul","charCodeAt","xmur3","random","t","art_circles","title","description","artist","renderArt","hostElement","floor","b","c","cr","cg","cb","ca","p5","s","setup","createCanvas","draw","background","color","noFill","stroke","j","circle","translate","rotate","art_layersOfTheOnionsSoul","d","fill","P5Viewer","props","hostElementRef","useRef","useEffect","current","innerHTML","remove","style","width","height","ref","ArtGallery","artItems","useState","art","setArt","setHash","setRenderArt","debounce","useDebounce","changeHash","value","View_Panel","View_Form","map","Fragment","key","paddingBottom","Button_FormAction","onPress","View_FieldRow","Text_FormTitle","Input_Text","onChange","$hypot","hypot","abs","sqrt","stat","Infinity","NaN","value1","value2","arg","div","sum","aLen","arguments","larg"],"mappings":"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","file":"8-a9047875ee26feead4db.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","/* eslint-disable no-return-assign */\r\n/* eslint-disable no-multi-assign */\r\n/* eslint-disable @typescript-eslint/no-unused-expressions */\r\n/* eslint-disable no-bitwise */\r\n\r\n// FROM: https://stackoverflow.com/a/47593316/567524\r\n\r\nfunction xmur3(str: string) {\r\n    let h = 1779033703 ^ str.length;\r\n    for (let i = 0; i < str.length; i++) {\r\n        h = Math.imul(h ^ str.charCodeAt(i), 3432918353);\r\n        h = h << 13 | h >>> 19;\r\n    }\r\n\r\n    return () => {\r\n        h = Math.imul(h ^ h >>> 16, 2246822507);\r\n        h = Math.imul(h ^ h >>> 13, 3266489909);\r\n        return (h ^= h >>> 16) >>> 0;\r\n    };\r\n}\r\n\r\nfunction mulberry32(a: number) {\r\n    return () => {\r\n        let t = a += 0x6D2B79F5;\r\n        t = Math.imul(t ^ t >>> 15, t | 1);\r\n        t ^= t + Math.imul(t ^ t >>> 7, t | 61);\r\n        return ((t ^ t >>> 14) >>> 0) / 4294967296;\r\n    };\r\n}\r\n\r\nexport const createRandomGenerator = (hash: string) => {\r\n    const seed = xmur3(hash)();\r\n    return {\r\n        random: mulberry32(seed),\r\n    };\r\n};\r\n","/* eslint-disable new-cap */\r\n/* eslint-disable no-new */\r\nimport p5 from 'p5';\r\nimport { createRandomGenerator } from './rando';\r\n\r\nexport const art_circles = {\r\n    title: `Circles`,\r\n    description: `The circles we travel in life always bring us back home.`,\r\n    artist: `Rick Love`,\r\n    renderArt: (hostElement: HTMLElement, hash = `This is my hash!`) => {\r\n        // const { a, b, c } = { a: 57, b: 23, c: 15 };\r\n\r\n        const { random } = createRandomGenerator(hash);\r\n        const { a, b, c } = { a: 1 + Math.floor(57 * random()), b: 1 + Math.floor(213 * random()), c: 1 + Math.floor(115 * random()) };\r\n        const { cr, cg, cb, ca } = { cr: Math.floor(25 + 230 * random()), cg: Math.floor(25 + 230 * random()), cb: Math.floor(25 + 230 * random()), ca: Math.floor(25 + 25 * random()) };\r\n\r\n        return new p5((s: p5) => {\r\n            s.setup = () => {\r\n                s.createCanvas(400, 400);\r\n            };\r\n            s.draw = () => {\r\n                s.background(0);\r\n                for (let i = 0; i < 10; i++) {\r\n                    const color = s.color((cr * i) % 255, (cg * i) % 255, (cb * i) % 255, ca);\r\n                    s.noFill();\r\n                    s.stroke(color);\r\n                    for (let j = 0; j < 36; j++) {\r\n                        s.circle(200 - a / 2 + j % a, 200 - b / 2 + j % b, 270 - (i * 5) % c);\r\n                    }\r\n                    s.translate(200, 200);\r\n                    s.rotate((a + b + c) % 2);\r\n                    s.translate(-200, -200);\r\n                }\r\n            };\r\n        }, hostElement);\r\n    },\r\n};\r\n","/* eslint-disable new-cap */\r\n/* eslint-disable no-new */\r\nimport p5 from 'p5';\r\nimport { createRandomGenerator } from './rando';\r\n\r\nexport const art_layersOfTheOnionsSoul = {\r\n    title: `Layers of the Onion's Soul`,\r\n    description: `This represents the complexity of an onion's soul - which has many layers, like a human.`,\r\n    artist: `Rick Love & Lydia Love - who called me weirdo as inspiration, and mentioned a circle, some squares, a tetrahedron, Minecraft blocks, and then said she meant cubes and spheres.`,\r\n    renderArt: (hostElement: HTMLElement, hash = `This is my hash!`) => {\r\n        // const { a, b, c } = { a: 3, b: 7, c: 15 };\r\n\r\n        const { random } = createRandomGenerator(hash);\r\n        const { a, b, c, d, e } = { a: 1 + Math.floor(17 * random()), b: 1 + Math.floor(57 * random()), c: 1 + Math.floor(35 * random()), d: 0 + Math.floor(5 * random()), e: 20 + Math.floor(255 * random()) };\r\n        // const { cr, cg, cb } = { cr: 207, cg: 175, cb: 65 };\r\n        const { cr, cg, cb } = { cr: Math.floor(25 + 230 * random()), cg: Math.floor(25 + 230 * random()), cb: Math.floor(25 + 230 * random()) };\r\n\r\n\r\n        return new p5((s: p5) => {\r\n            s.setup = () => {\r\n                s.createCanvas(400, 400);\r\n            };\r\n            s.draw = () => {\r\n                s.background(0);\r\n                for (let i = 0; i < 35; i++) {\r\n                    const color = s.color(cr, cg * (1 + i * a) % 255, cb + i);\r\n                    s.fill(color);\r\n                    s.circle(150 + (i * 7) % b - a, 250 + i - c % 35 + b, (270 - i) % e);\r\n                    s.rotate(d);\r\n                }\r\n            };\r\n        }, hostElement);\r\n    },\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\nexport const P5Viewer = (props: {\r\n    renderArt: (hostElement: HTMLDivElement) => { remove: () => void };\r\n}) => {\r\n\r\n    const hostElementRef = useRef(null as null | HTMLDivElement);\r\n\r\n    useEffect(() => {\r\n        if (!hostElementRef.current) { return () => { }; }\r\n\r\n        hostElementRef.current.innerHTML = ``;\r\n        const { remove } = props.renderArt(hostElementRef.current);\r\n        return () => {\r\n            remove();\r\n        };\r\n    }, [hostElementRef.current, props.renderArt]);\r\n\r\n    return (\r\n        <>\r\n            <div style={{ width: 400, height: 400, background: `#888888` }} ref={hostElementRef} />\r\n        </>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { C } from 'controls-react';\r\nimport { useDebounce } from 'utils-react/hooks';\r\nimport { art_circles } from './circles';\r\nimport { art_layersOfTheOnionsSoul } from './layers-of-the-onions-soul';\r\nimport { P5Viewer } from './p5-viewer';\r\n\r\nexport const ArtGallery = (props: {}) => {\r\n    const artItems = [\r\n        art_circles,\r\n        art_layersOfTheOnionsSoul,\r\n    ];\r\n\r\n    const [art, setArt] = useState(artItems[0]);\r\n    const [hash, setHash] = useState(`hash`);\r\n    const [renderArt, setRenderArt] = useState({ renderArt: (hostElement: HTMLDivElement) => { return { remove: () => { } }; } });\r\n\r\n    const { debounce } = useDebounce(50);\r\n\r\n    const changeHash = (value: string) => {\r\n        setHash(value);\r\n\r\n        debounce(() => {\r\n            setRenderArt({ renderArt: (hostElement) => art.renderArt(hostElement, value) });\r\n        });\r\n    };\r\n    useEffect(() => changeHash(`hash`), [art]);\r\n\r\n    return (\r\n        <C.View_Panel>\r\n            <C.View_Form>\r\n                {artItems.map(x => (\r\n                    <React.Fragment key={x.title}>\r\n                        <div style={{ paddingBottom: 4 }}>\r\n                            <C.Button_FormAction onPress={() => setArt(x)}>{x.title}</C.Button_FormAction>\r\n                        </div>\r\n                    </React.Fragment>\r\n                ))}\r\n                <C.View_FieldRow>\r\n                    <C.Text_FormTitle>Enter a hash:</C.Text_FormTitle>\r\n                    <C.Input_Text value={hash} onChange={changeHash} />\r\n                </C.View_FieldRow>\r\n            </C.View_Form>\r\n\r\n            <C.Text_FormTitle>{art.title}</C.Text_FormTitle>\r\n            <C.Text_FormTitle>{art.artist}</C.Text_FormTitle>\r\n            <C.Text_FormTitle>{art.description}</C.Text_FormTitle>\r\n            <P5Viewer renderArt={renderArt.renderArt} />\r\n        </C.View_Panel>\r\n    );\r\n};\r\n","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n"],"sourceRoot":""}