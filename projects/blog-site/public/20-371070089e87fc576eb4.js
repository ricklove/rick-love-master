(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[20],{pAyS:function(e,n,t){"use strict";t.r(n),t.d(n,"DoodleView",(function(){return a}));t("yIC7"),t("p+GS"),t("dtAy"),t("4oWw"),t("nruA"),t("LnO1"),t("XjK0"),t("SCO9"),t("PN9k");var r=t("ERkP"),o=t.n(r);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var c={width:128,height:128,segments:[]},a=function(e){var n=Object(r.useState)(c),t=n[0],i=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,{style:{width:256,height:256,color:"#FFFFFF",backgroundColor:"#000000"},drawing:t,onChange:i}))},l=function(e){return e.points.length<=0?"":1===e.points.length?"M"+e.points[0].x+" "+e.points[0].y+" L"+e.points[0].x+" "+e.points[0].y:"M"+e.points[0].x+" "+e.points[0].y+" L"+e.points.slice(1).map((function(e){return e.x+" "+e.y})).join(" ")},s=function(e){var n=e.style,t=e.drawing,u=e.onChange,c=n.width/t.width,a=Object(r.useState)(null),s=a[0],v=a[1],d=Object(r.useRef)({clientX:0,clientY:0,x:0,y:0}),f=Object(r.useRef)(null),h=function(e){return e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1},p=function(e,n){var t,r,o,i,u=f.current;if(!u)return h(e);var a=u.getBoundingClientRect();v({points:[]});var l={clientX:null!==(t=null!==(r=null==n?void 0:n.clientX)&&void 0!==r?r:e.clientX)&&void 0!==t?t:0,clientY:null!==(o=null!==(i=null==n?void 0:n.clientY)&&void 0!==i?i:e.clientY)&&void 0!==o?o:0};return d.current={clientX:l.clientX,clientY:l.clientY,x:Math.floor((l.clientX-a.x)/c),y:Math.floor((l.clientY-a.y)/c)},h(e)},m=function(e){var n=s;return n?(u(Object.assign(Object.assign({},t),{},{segments:[].concat(i(t.segments),[n])})),v(null),h(e)):h(e)},g=function(e,n){var t,r,o,u,a=null!==(t=null!==(r=null==n?void 0:n.clientX)&&void 0!==r?r:e.clientX)&&void 0!==t?t:0,l=null!==(o=null!==(u=null==n?void 0:n.clientY)&&void 0!==u?u:e.clientY)&&void 0!==o?o:0;return function(e){v((function(n){return n?{points:[].concat(i(n.points),[e])}:null}))}({x:Math.floor((a-d.current.clientX)/c)+d.current.x,y:Math.floor((l-d.current.clientY)/c)+d.current.y}),h(e)};return Object(r.useEffect)((function(){var e=f.current;if(!e)return function(){};var n=function(e){return p(e,e.touches[0])},t=function(e){return g(e,e.touches[0])};return e.addEventListener("mouseDown",p,{passive:!1}),e.addEventListener("onTouchStart",n,{passive:!1}),e.addEventListener("onMouseUp",m,{passive:!1}),e.addEventListener("onTouchEnd",m,{passive:!1}),e.addEventListener("onMouseLeave",m,{passive:!1}),e.addEventListener("onTouchEndCapture",m,{passive:!1}),e.addEventListener("onMouseMove",g,{passive:!1}),e.addEventListener("onTouchMove",t,{passive:!1}),function(){e.removeEventListener("mouseDown",p),e.removeEventListener("onTouchStart",n),e.removeEventListener("onMouseUp",m),e.removeEventListener("onTouchEnd",m),e.removeEventListener("onMouseLeave",m),e.removeEventListener("onTouchEndCapture",m),e.removeEventListener("onMouseMove",g),e.removeEventListener("onTouchMove",t)}}),[f.current]),o.a.createElement("div",{ref:f,style:{width:n.width,height:n.height,backgroundColor:n.backgroundColor}},o.a.createElement("svg",{style:{width:n.width,height:n.height},viewBox:"0 0 "+t.width+" "+t.height,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},t.segments.map((function(e){return o.a.createElement("path",{d:l(e),stroke:n.color,fill:"transparent"})})),s&&o.a.createElement("path",{d:l(s),stroke:n.color,fill:"transparent"})))}}}]);
//# sourceMappingURL=20-371070089e87fc576eb4.js.map