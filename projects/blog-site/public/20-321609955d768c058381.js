(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[20],{pAyS:function(t,e,n){"use strict";n.r(e),n.d(e,"styles",(function(){return a})),n.d(e,"DoodleTestView",(function(){return c})),n.d(e,"DoodleDrawerView",(function(){return s})),n.d(e,"DoodleDisplayView",(function(){return d}));n("yIC7"),n("p+GS"),n("dtAy"),n("4oWw"),n("nruA"),n("LnO1"),n("XjK0"),n("SCO9"),n("PN9k");var r=n("ERkP"),o=n.n(r);n("zpx+"),n("7dyJ"),n("T7D0");var i=function(t){if(t.points.length<=0)return"";if(1===t.points.length)return"M"+t.points[0].x+" "+t.points[0].y+" L"+t.points[0].x+" "+t.points[0].y;var e=t.points[0];return"M"+t.points[0].x+" "+t.points[0].y+" l"+t.points.slice(1).map((function(t){var n=t.x-e.x+" "+(t.y-e.y);return e=t,n})).join(" ")};function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a={drawing:{width:312,height:312,color:"#FFFFFF",backgroundColor:"#000000"}},c=function(t){var e=Object(r.useState)({width:104,height:104,segments:[]}),n=e[0],i=e[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,{style:a.drawing,drawing:n,onChange:i}),o.a.createElement(d,{style:a.drawing,drawing:n}))},s=function(t){var e=t.style,n=t.drawing,l=t.onChange,a=e.width/n.width,c=Object(r.useState)(null),s=c[0],d=c[1],h=Object(r.useRef)(null),f=Object(r.useRef)(null),v=function(t){return t.preventDefault(),t.stopPropagation(),t.nativeEvent.cancelBubble=!0,t.nativeEvent.returnValue=!1,!1},p=function(t,e){var n,r,o,i,u=f.current;if(!u)return v(t);var l=u.getBoundingClientRect(),c={clientX:null!==(n=null!==(r=null==e?void 0:e.clientX)&&void 0!==r?r:t.clientX)&&void 0!==n?n:0,clientY:null!==(o=null!==(i=null==e?void 0:e.clientY)&&void 0!==i?i:t.clientY)&&void 0!==o?o:0};return h.current={clientX:c.clientX,clientY:c.clientY,x:Math.floor((c.clientX-l.x)/a),y:Math.floor((c.clientY-l.y)/a)},d({points:[{x:h.current.x,y:h.current.y}]}),v(t)},g=function(t){var e=s;return e?(l(Object.assign(Object.assign({},n),{},{segments:[].concat(u(n.segments),[e])})),d(null),h.current=null,v(t)):v(t)},w=function(t,e){var n,r,o,i;if(!h.current)return v(t);var l=null!==(n=null!==(r=null==e?void 0:e.clientX)&&void 0!==r?r:t.clientX)&&void 0!==n?n:0,c=null!==(o=null!==(i=null==e?void 0:e.clientY)&&void 0!==i?i:t.clientY)&&void 0!==o?o:0;return function(t){d((function(e){if(!e)return null;var n=e.points[e.points.length-1];return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)<=2?e:{points:[].concat(u(e.points),[t])}}))}({x:Math.floor((l-h.current.clientX)/a)+h.current.x,y:Math.floor((c-h.current.clientY)/a)+h.current.y}),v(t)};return Object(r.useEffect)((function(){var t=function(t){return!h.current||(t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1)};return document.addEventListener("touchmove",t,{passive:!1}),function(){document.removeEventListener("touchmove",t)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{position:"relative",width:e.width,height:e.height,backgroundColor:e.backgroundColor}},o.a.createElement("svg",{style:{width:e.width,height:e.height},viewBox:"0 0 "+n.width+" "+n.height,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},n.segments.map((function(t,n){return o.a.createElement("path",{key:n,d:i(t),stroke:e.color,fill:"transparent"})})),s&&o.a.createElement("path",{d:i(s),stroke:e.color,fill:"transparent"})),o.a.createElement("div",{ref:f,style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:10},onMouseDown:p,onMouseUp:g,onMouseMove:w,onMouseLeave:g,onTouchStart:function(t){return p(t,t.touches[0])},onTouchEnd:g,onTouchCancel:g,onTouchMove:function(t){return w(t,t.touches[0])},onTouchEndCapture:g})))},d=function(t){var e=t.style,n=t.drawing;return o.a.createElement("div",{style:{width:e.width,height:e.height,backgroundColor:e.backgroundColor}},o.a.createElement("svg",{style:{width:e.width,height:e.height},viewBox:"0 0 "+n.width+" "+n.height,preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},n.segments.map((function(t,n){return o.a.createElement("path",{key:n,d:i(t),stroke:e.color,fill:"transparent"})}))))}}}]);
//# sourceMappingURL=20-321609955d768c058381.js.map