(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[13],{BQ33:function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",a="day",s="week",u="month",o="quarter",i="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},d={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+f(r,2,"0")+":"+f(a,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,u),a=t-r<0,s=e.clone().add(n+(a?-1:1),u);return Number(-(n+(t-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:u,y:i,w:s,d:a,D:"date",h:r,m:n,s:t,ms:e,Q:o}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",p={};p[m]=h;var v=function(e){return e instanceof w},y=function(e,t,n){var r;if(!e)return m;if("string"==typeof e)p[e]&&(r=e),t&&(p[e]=t,r=e);else{var a=e.name;p[a]=e,r=a}return!n&&r&&(m=r),r||!n&&m},b=function(e,t){if(v(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},g=d;g.l=y,g.i=v,g.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var w=function(){function f(e){this.$L=this.$L||y(e.locale,null,!0),this.parse(e)}var d=f.prototype;return d.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(g.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(c);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(t)}(e),this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return g},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},d.isAfter=function(e,t){return b(e)<this.startOf(t)},d.isBefore=function(e,t){return this.endOf(t)<b(e)},d.$g=function(e,t,n){return g.u(e)?this[t]:this.set(n,e)},d.year=function(e){return this.$g(e,"$y",i)},d.month=function(e){return this.$g(e,"$M",u)},d.day=function(e){return this.$g(e,"$W",a)},d.date=function(e){return this.$g(e,"$D","date")},d.hour=function(e){return this.$g(e,"$H",r)},d.minute=function(e){return this.$g(e,"$m",n)},d.second=function(e){return this.$g(e,"$s",t)},d.millisecond=function(t){return this.$g(t,"$ms",e)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(e,o){var c=this,l=!!g.u(o)||o,f=g.p(e),d=function(e,t){var n=g.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return l?n:n.endOf(a)},h=function(e,t){return g.w(c.toDate()[e].apply(c.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},m=this.$W,p=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case i:return l?d(1,0):d(31,11);case u:return l?d(1,p):d(0,p+1);case s:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return d(l?v-w:v+(6-w),p);case a:case"date":return h(y+"Hours",0);case r:return h(y+"Minutes",1);case n:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(s,o){var c,l=g.p(s),f="set"+(this.$u?"UTC":""),d=(c={},c.day=f+"Date",c.date=f+"Date",c[u]=f+"Month",c[i]=f+"FullYear",c[r]=f+"Hours",c[n]=f+"Minutes",c[t]=f+"Seconds",c[e]=f+"Milliseconds",c)[l],h=l===a?this.$D+(o-this.$W):o;if(l===u||l===i){var m=this.clone().set("date",1);m.$d[d](h),m.init(),this.$d=m.set("date",Math.min(this.$D,m.daysInMonth())).toDate()}else d&&this.$d[d](h);return this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(e){return this[g.p(e)]()},d.add=function(e,o){var c,l=this;e=Number(e);var f=g.p(o),d=function(t){var n=b(l);return g.w(n.date(n.date()+Math.round(t*e)),l)};if(f===u)return this.set(u,this.$M+e);if(f===i)return this.set(i,this.$y+e);if(f===a)return d(1);if(f===s)return d(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[t]=1e3,c)[f]||1,m=this.$d.getTime()+e*h;return g.w(m,this)},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=g.z(this),a=this.$locale(),s=this.$H,u=this.$m,o=this.$M,i=a.weekdays,c=a.months,f=function(e,r,a,s){return e&&(e[r]||e(t,n))||a[r].substr(0,s)},d=function(e){return g.s(s%12||12,e,"0")},h=a.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:g.s(o+1,2,"0"),MMM:f(a.monthsShort,o,c,3),MMMM:f(c,o),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:f(a.weekdaysMin,this.$W,i,2),ddd:f(a.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(s),HH:g.s(s,2,"0"),h:d(1),hh:d(2),a:h(s,u,!0),A:h(s,u,!1),m:String(u),mm:g.s(u,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(e,t){return t||m[e]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(e,a,c){var l,f=g.p(a),d=b(e),h=6e4*(d.utcOffset()-this.utcOffset()),m=this-d,p=g.m(this,d);return p=(l={},l[i]=p/12,l[u]=p,l[o]=p/3,l[s]=(m-h)/6048e5,l.day=(m-h)/864e5,l[r]=m/36e5,l[n]=m/6e4,l[t]=m/1e3,l)[f]||m,c?p:g.a(p)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return p[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},d.clone=function(){return g.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}();return b.prototype=w.prototype,b.extend=function(e,t){return e(t,w,b),b},b.locale=y,b.isDayjs=v,b.unix=function(e){return b(1e3*e)},b.en=p[m],b.Ls=p,b}()},CN1R:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=r.format,s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=s,r.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,n=void 0===t?{}:t,r=e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,t,r){var a=r&&r.toUpperCase();return t||n[r]||s[r]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}));return a.call(this,r)}}}()},VKAe:function(e,t,n){"use strict";n.r(t),n.d(t,"PaymentFullStackTesterHost",(function(){return F})),n.d(t,"PaymentFullStackTester",(function(){return L}));var r=n("a1TR"),a=n.n(r),s=(n("3yYM"),n("Ab9Y")),u=n("ERkP"),o=n.n(u),i=n("bQih"),c=n("+tC1"),l=n("eCSs"),f=n("V6ES"),d=n("uFyH"),h=function(e){function t(t,n,r){var a;return(a=e.call(this)||this).message=t,a.data=n,a.innerError=r,a}return Object(f.a)(t,e),t}(Object(d.a)(Error)),m=1e3,p=function(e,t){return{jsonrpc:"2.0",method:e,params:t,id:""+m++}},v=function(e){function t(t,n,r){var a;return(a=e.call(this)||this).message=t,a.data=n,a.innerError=r,a}return Object(f.a)(t,e),t}(Object(d.a)(Error)),y=function(e,t,n){void 0===n&&(n=15e3);var r=0,u=new Promise((function(a,s){r=setTimeout((function(){var n={isTimeout:!0,message:"Web Api Timeout",error:new v("Web Api Timeout"),details:{url:e,options:t}};s(n)}),n)})),o=Object(s.a)(a.a.mark((function n(){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,t).catch((function(t){throw new v("Fetch Error",{url:e},t)}));case 2:return s=n.sent,clearTimeout(r),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))();return Promise.race([u,o])},b=function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,s,u,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(n),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Content-Length":""+r.length},body:r,credentials:"include",cache:"no-cache"},e.next=4,y(t,s).catch((function(e){throw new v("Request Failure",{url:t,data:n},e)}));case 4:if((u=e.sent).ok){e.next=23;break}return e.t0=v,e.next=9,u.json().catch((function(e){}));case 9:if(e.t2=o=e.sent,e.t1=null!==e.t2,!e.t1){e.next=13;break}e.t1=void 0!==o;case 13:if(!e.t1){e.next=17;break}e.t3=o,e.next=18;break;case 17:e.t3={};case 18:throw e.t4=e.t3,e.t5=u.status,e.t6={url:t,data:n},e.t7={data:e.t4,responseStatus:e.t5,request:e.t6},new e.t0("Api Error",e.t7);case 23:return e.next=25,u.json().catch((function(e){throw new v("Request Parse Failure",{url:t,data:n},e)}));case 25:return i=e.sent,e.abrupt("return",i);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t,n={webRequest:(t=Object(s.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,n);case 2:return r=e.sent,e.abrupt("return",{responseBodyObj:r});case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})};return function(e){var t=Object.keys(e.apiMethodNames).map((function(t){return{method:t,execute:(n=Object(s.a)(a.a.mark((function n(r){var s,u,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=p(t,r),n.next=3,e.inner.request(s);case 3:if(u=n.sent,!(o=u).error){n.next=7;break}throw new h("JsonRpcClient Request Failed",{error:o.error});case 7:return n.abrupt("return",o.result);case 8:case"end":return n.stop()}}),n)}))),function(e){return n.apply(this,arguments)})};var n}));return Object(c.c)(t.map((function(e){return{key:e.method,value:e.execute}})))}({inner:function(e){var t,n=[];return{request:(t=Object(s.a)(a.a.mark((function t(r){var u,o,i,c,f,d,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={_resolve:null,_reject:null},o=new Promise((function(e,t){u._resolve=e,u._reject=t})),n.push({data:r,promiseState:{_resolve:u._resolve,_reject:u._reject}}),t.next=5,Object(l.a)(50);case 5:if(!(n.length<=0)){t.next=7;break}return t.abrupt("return",o);case 7:return i=n,n=[],t.next=11,Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.inner.batchRequest(i.map((function(e){return e.data})));case 3:return t.t0=t.sent,t.abrupt("return",{batchResponses:t.t0});case 7:return t.prev=7,t.t1=t.catch(0),t.abrupt("return",{error:t.t1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))();case 11:if(!(c=t.sent).error){t.next=15;break}return i.forEach((function(e){e.promiseState._reject(new h("Request Failed",{request:e.data,batchRequests:i}))})),t.abrupt("return",o);case 15:f=function(){var e=m.value,t=c.batchResponses,n=null==t?void 0:t.find((function(t){return t.id===e.data.id}));if(!n)return e.promiseState._reject(new h("Batch Response is Missing",{request:e.data,batchRequests:i,batchResponses:t})),"continue";e.promiseState._resolve(n)},d=g(i);case 17:if((m=d()).done){t.next=23;break}if("continue"!==f()){t.next=21;break}return t.abrupt("continue",21);case 21:t.next=17;break;case 23:return t.abrupt("return",o);case 24:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}}({inner:function(e){var t;return{batchRequest:(t=Object(s.a)(a.a.mark((function t(n){var r,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=e.sessionTokenStorage)||void 0===r?void 0:r.getSessionToken();case 2:return s=t.sent,t.next=5,e.inner.sessionRequest({batchRequests:n,sessionToken:s});case 5:if(u=t.sent,!e.sessionTokenStorage){t.next=15;break}if("reset"!==u.newSessionToken){t.next=12;break}return t.next=10,e.sessionTokenStorage.resetSessionToken();case 10:t.next=15;break;case 12:if(!u.newSessionToken){t.next=15;break}return t.next=15,e.sessionTokenStorage.setSessionToken(u.newSessionToken);case 15:return t.abrupt("return",u.batchResponses);case 16:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}}({inner:function(e){var t;return{sessionRequest:(t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.inner.webRequest(e.serverUrl,n);case 2:return r=t.sent,t.abrupt("return",r.responseBodyObj);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}}({serverUrl:e.serverUrl,inner:n}),sessionTokenStorage:e.sessionTokenStorage})}),apiMethodNames:e.apiMethodNames})},S=n("gptL"),x=n("njmQ"),$=n("BQ33"),k=n.n($),P=n("CN1R"),E=n.n(P);k.a.extend(E.a);var O=n("PQcI"),_=function(e){var t=function(e){var t=Object(O.a)(e);return{AppWrapperComponent:function(e){var n=e.children;return t.AppWrapperComponent?o.a.createElement(t.AppWrapperComponent,null,n):o.a.createElement(o.a.Fragment,null,n)},PaymentMethodEntryComponent:function(e){return o.a.createElement(t.PaymentMethodEntryComponent,e)}}}(e),n={PaymentMethodView:function(n){return o.a.createElement(j,{comp:t,serverAccess:e.serverAccess,title:"Payment Methods"})},PaymentHistoryView:function(n){return o.a.createElement(T,{comp:t,serverAccess:e.serverAccess,title:"Payment History"})}};return Object.assign({},t,n)},j=function(e){var t=Object(u.useState)({textPadding:4,elementPadding:4,buttonAlignment:"right",borderRadius:4,borderColor:S.c.colors.border,backgroundColor:S.c.colors.background_field,textColor:S.c.colors.text,buttonText:"Save"}),n=t[0],r=(t[1],Object(x.a)()),c=r.loading,l=r.error,f=r.doWork,d=Object(u.useState)(null),h=d[0],m=d[1],p=function(){return f(Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.serverAccess.getPaymentMethods();case 2:n=t.sent,m(n);case 4:case"end":return t.stop()}}),t)}))))},v=Object(u.useState)(null),y=v[0],b=v[1];return Object(u.useEffect)((function(){p()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a.View_Form,null,o.a.createElement(i.a.Text_FormTitle,null,e.title),o.a.createElement(i.a.Loading,{loading:c}),o.a.createElement(i.a.ErrorBox,{error:l}),h&&h.length>0&&o.a.createElement(i.a.View_FormFields,null,h.map((function(t){return o.a.createElement(i.a.View_FieldRow,{key:t.key},o.a.createElement(i.a.Text_FieldLabel,null,t.title),o.a.createElement(i.a.Text_FieldLabel,null,"Expires: "+(""+t.expiration.month).padStart(2,"0")+"/"+t.expiration.year),o.a.createElement(i.a.Button_FieldInline,{onPress:function(){return n=t.key,f(Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.serverAccess.deletePaymentMethod(n);case 2:p();case 3:case"end":return t.stop()}}),t)}))));var n}},"Remove"))}))),!y&&o.a.createElement(i.a.View_FormActionRow,null,o.a.createElement(i.a.Button_FormAction,{onPress:function(){return f(function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.serverAccess.onSetupPayment();case 2:r=t.sent,n(),console.log("setupPayment",{result:r}),b(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},"Add Payment Method")),y&&o.a.createElement(e.comp.PaymentMethodEntryComponent,{style:n,paymentMethodSetupToken:y,onPaymentMethodReady:function(t){return f(Object(s.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.serverAccess.onPaymentMethodReady(t);case 2:b(null),p();case 4:case"end":return n.stop()}}),n)}))))}})))},T=function(e){var t=Object(x.a)(),n=t.loading,r=t.error,c=t.doWork,l=Object(u.useState)(null),f=l[0],d=l[1];return Object(u.useEffect)((function(){c(function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.serverAccess.getPayments();case 2:r=t.sent,n(),d(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a.View_Form,null,o.a.createElement(i.a.Text_FormTitle,null,e.title),o.a.createElement(i.a.Loading,{loading:n}),o.a.createElement(i.a.ErrorBox,{error:r}),f&&f.length>0&&o.a.createElement(i.a.View_FormFields,null,f.map((function(e){return o.a.createElement(i.a.View_FieldRow,{key:""+e.created},o.a.createElement(i.a.Text_FieldLabel,null,"Created: "+(t=e.created,k()(t).format("L"))),o.a.createElement(i.a.Text_FieldLabel,null,"$"+e.amount.usdCents/100));var t})))))},D=function(e){var t=Object(x.a)(),n=t.loading,r=t.error,c=t.doWork,l=Object(u.useState)(100),f=l[0],d=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a.View_Form,null,o.a.createElement(i.a.Text_FormTitle,null,"Make Purchase"),o.a.createElement(i.a.Text_FormTitle,null,e.title),o.a.createElement(i.a.Loading,{loading:n}),o.a.createElement(i.a.ErrorBox,{error:r}),o.a.createElement(i.a.View_FormFields,null,o.a.createElement(i.a.View_FieldRow,null,o.a.createElement(i.a.Text_FieldLabel,null,"Amount $"),o.a.createElement(i.a.Input_Currency,{value:f,onChange:function(e){return d(e)}}),o.a.createElement(i.a.Button_FieldInline,{onPress:function(){return c(Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.serverAccess.onMakePurchase(f);case 2:null===(n=e.onPurchase)||void 0===n||n.call(e);case 3:case"end":return t.stop()}}),t)}))))}},"Purchase")))))},A=function(){var e=Object(s.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(30).then(n.bind(null,"uUap"));case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.fullStackTestConfig;case 11:if(r=e.t2){e.next=14;break}throw new Error("Create config file");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){var t=Object(u.useState)(null),n=t[0],r=t[1],i=Object(u.useState)(null),c=i[0],l=i[1];return Object(u.useEffect)((function(){Object(s.a)(a.a.mark((function e(){var t,n,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,l(t),n=M({serverUrl:t.serverUrl,apiMethodNames:{setupSavedPaymentMethod:"setupSavedPaymentMethod",saveSavedPaymentMethod:"saveSavedPaymentMethod",getSavedPaymentMethods:"getSavedPaymentMethods",deleteSavedPaymentMethod:"deleteSavedPaymentMethod",debug_triggerPayment:"debug_triggerPayment",getPayments:"getPayments"}}),"stripe",u={onSetupPayment:function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onSetupPayment START"),e.next=3,n.setupSavedPaymentMethod({providerName:"stripe"});case 3:return t=e.sent,console.log("onSetupPayment END",{result:t}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onPaymentMethodReady:function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onPaymentMethodReady START"),e.next=3,n.saveSavedPaymentMethod({providerName:"stripe",paymentMethodClientToken:t});case 3:return r=e.sent,console.log("onPaymentMethodReady END",{result:r}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPaymentMethods:function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getPaymentMethods START"),e.next=3,n.getSavedPaymentMethods();case 3:return t=e.sent,console.log("getPaymentMethods END",{result:t}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deletePaymentMethod:function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deletePaymentMethod"),e.next=3,n.deleteSavedPaymentMethod({key:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPayments:function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getPayments START"),e.next=3,n.getPayments();case 3:return t=e.sent,console.log("getPayments END",{result:t}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onMakePurchase:function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onMakePurchase"),e.next=3,n.debug_triggerPayment({amount:{currency:"usd",usdCents:Math.floor(100*t)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r(u);case 8:case"end":return e.stop()}}),e)})))()}),[]),o.a.createElement("div",null,(!c||!n)&&o.a.createElement("div",null,"Loading..."),c&&n&&o.a.createElement(L,{config:c,serverAccess:n}))},L=function(e){var t,n,r,a,s=(n={stripePublicKey:e.config.stripePublicKey,serverAccess:e.serverAccess},r=_(n),a={PaymentDebugView:function(e){return o.a.createElement(D,{comp:r,serverAccess:n.serverAccess,title:"Payment Debug",onPurchase:e.onPurchase})}},Object.assign({},r,a)),c=null!==(t=s.AppWrapperComponent)&&void 0!==t?t:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,t)},l=Object(u.useState)(0),f=(l[0],l[1]);return o.a.createElement(c,null,o.a.createElement(i.a.View_Panel,null,o.a.createElement(i.a.View_Form,null,o.a.createElement(i.a.Text_FormTitle,null,"Page and Stuff...")),o.a.createElement(s.PaymentMethodView,null),o.a.createElement(s.PaymentHistoryView,null),o.a.createElement(s.PaymentDebugView,{onPurchase:function(){f((function(e){return e+1}))}})))}}}]);
//# sourceMappingURL=13-ab1166c1e230f0e3e31c.js.map