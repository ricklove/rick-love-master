(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10],{"1Tjt":function(e,t,n){"use strict";n.r(t),n.d(t,"EducationalGame_MultiplesCounting",(function(){return m}));var r=n("t8gp"),o=n("ERkP"),a=n.n(o),i=n("DTYs"),l=n("hsFx"),c=n("rTbz"),s=n("7h3R"),u=Object(c.a)({storageKey:"MultiplesCountingLeaderboard",sortKey:function(e){return e.timeMs},sortDescending:!0,scoreColumns:[{name:"Time",getValue:function(e){return""+(e.timeMs/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}},{name:"Mistakes",getValue:function(e){return""+e.mistakes}}]}),m=function(e){var t,n=Object(o.useState)({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),r=n[0],l=n[1],c=Object(o.useState)(f()),m=c[0],d=c[1],C=Object(o.useState)(null),h=C[0],p=C[1],v=Object(o.useRef)(m),E=u.useLeaderboard({getScore:function(){var e;return{mistakes:r.mistakes,timeMs:(null!==(e=r.gameWonTime)&&void 0!==e?e:Date.now())-r.startTime}}}),T=function(){l((function(e){return Object.assign({},e,{gameWonTime:Date.now(),key:e.key+1})}))},F=function(e){s.ProgressGameService.onCorrect();var t=Object.assign({},v.current),n=t.columns.find((function(t){return t.multiple===e.multiple}));n&&(n.maxTimesCorrect=e.times),d(t),setTimeout((function(){k(t)}),100)},x=function(e){p((function(e){return Object.assign({},e)})),l((function(e){return Object.assign({},e,{mistakes:e.mistakes+1,key:e.key+1})}))},k=function(e){var t=b(e,T,F,x);p(t)};return Object(o.useEffect)((function(){k(m)}),[]),v.current=m,a.a.createElement(a.a.Fragment,null,a.a.createElement(i.h,{style:{marginTop:50,marginBottom:150,padding:2,alignItems:"center"}},a.a.createElement(i.h,{style:{width:292}},a.a.createElement(w,{gameScore:r}),a.a.createElement(g,{gameBoard:m,focus:null!==(t=null==h?void 0:h.focus)&&void 0!==t?t:{multiple:0,times:0}}),h&&!r.gameWonTime&&a.a.createElement(y,{gameInput:h}),a.a.createElement(E.LeaderboardArea,{gameOver:!!r.gameWonTime,onScoreSaved:function(){var e=f();l({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),d(e),k(e)}}))))},f=function(){return{size:12,rows:Object(r.a)(new Array(12)).map((function(e,t){return{times:t+1}})),columns:Object(r.a)(new Array(12)).map((function(e,t){return{multiple:t+1,maxTimesCorrect:0}}))}},d={cellView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.75)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellView:{width:24,height:24,borderWidth:1,borderColor:"#66FF66",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12},cellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#333300"},focusCellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},g=function(e){var t=e.gameBoard,n=e.focus,r=Object(o.useState)(0),l=r[0],c=r[1];Object(o.useEffect)((function(){c(0);var e=setInterval((function(){c((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var s=function(){return l%5==0?"row":l%5==1?"col":"both"};return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.h,{style:{flexDirection:"row"}},a.a.createElement(i.h,{style:{flexDirection:"column-reverse"}},a.a.createElement(i.h,{style:d.focusCellHeaderView},a.a.createElement(i.e,{style:d.focusCellHeaderText},"x")),t.rows.map((function(e){return a.a.createElement(i.h,{key:e.times,style:n.times===e.times?d.focusCellHeaderView:d.cellHeaderView},a.a.createElement(i.e,{style:n.times===e.times?d.focusCellHeaderText:d.cellHeaderText},""+e.times))}))),t.columns.map((function(e){return a.a.createElement(i.h,{key:e.multiple,style:{flexDirection:"column-reverse"}},a.a.createElement(i.h,{style:n.multiple===e.multiple?d.focusCellHeaderView:d.cellHeaderView},a.a.createElement(i.e,{style:n.multiple===e.multiple?d.focusCellHeaderText:d.cellHeaderText},""+e.multiple)),t.rows.map((function(t){return a.a.createElement(i.h,{key:t.times,style:n.times>=t.times&&n.multiple>=e.multiple?[d.focusCellView,(l=s(),"both"===l?{borderLeftColor:d.focusCellView.borderColor,borderRightColor:d.focusCellView.borderColor,borderTopColor:d.focusCellView.borderColor,borderBottomColor:d.focusCellView.borderColor}:{borderLeftColor:l.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderRightColor:l.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderTopColor:l.includes("row")?"#000000":"rgba(0,0,0,0.15)",borderBottomColor:l.includes("row")?"#000000":"rgba(0,0,0,0.15)"})]:d.cellView},e.maxTimesCorrect>=t.times?a.a.createElement(i.e,{style:d.cellText},(r=e.multiple,o=t.times,"both"===s()?""+r*o:"")):a.a.createElement(i.e,{style:d.cellText}));var r,o,l})))}))))},b=function(e,t,n,o){var a=e.columns.filter((function(t){return t.maxTimesCorrect<e.size}))[0];if(!a)return t(),{key:"",focus:{multiple:0,times:0},buttons:[]};var i=a.multiple,c=a.maxTimesCorrect+1,s=i*c,u=Object(l.a)(Object(r.a)(new Array(100)).map((function(){return Math.round(i+1-2*Math.random())*Math.round(c+1-2*Math.random())+Math.round(2-4*Math.random())})).filter((function(e){return e!==s})).filter((function(e){return e>0}))).slice(0,4),m=Object(l.f)([s].concat(Object(r.a)(u))),f=m.map((function(e){return{value:e,text:""+e,onPress:function(){return function(e){if(e!==s){var t=f.find((function(t){return t.value===e}));t&&(t.wasAnsweredWrong=!0,o({multiple:i,times:c}))}else n({multiple:i,times:c})}(e)},wasAnsweredWrong:!1}}));return{key:i+"*"+c,focus:{multiple:i,times:c},buttons:f}},C={outerContainer:{height:150},container:{flexDirection:"row",justifyContent:"space-around",margin:16},buttonView:{width:48,height:48,borderWidth:2,borderColor:"#6666FF",borderStyle:"solid",justifyContent:"center",alignItems:"center"},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FFFFFF"},buttonText_wrong:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FF6666"}},y=function(e){var t=e.gameInput,n=Object(o.useState)(0),r=n[0],l=n[1];return Object(o.useEffect)((function(){l(100);var e=setInterval((function(){l((function(e){return Math.max(0,e-1)}))}),50);return function(){return clearInterval(e)}}),[t.key]),a.a.createElement(a.a.Fragment,null,a.a.createElement(i.h,{style:C.outerContainer},a.a.createElement(i.h,{style:[C.container,{transform:"translate(0px,"+r+"px)"}]},t.buttons.map((function(e){return a.a.createElement(i.g,{key:e.text+t.key,onPress:e.wasAnsweredWrong?function(){}:e.onPress},a.a.createElement(i.h,{style:C.buttonView},a.a.createElement(i.e,{style:e.wasAnsweredWrong?C.buttonText_wrong:C.buttonText},e.text)))})))))},h={container:{flex:1,alignItems:"center",margin:16},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FFFF00"},mistakesText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FF6666"}},w=function(e){var t=e.gameScore,n=Object(o.useState)(""),r=n[0],l=n[1],c=Object(o.useState)(""),s=c[0],u=c[1];return Object(o.useEffect)((function(){var e=setInterval((function(){var e;if(u(t.mistakes?(null!==(e=t.mistakes)&&void 0!==e?e:0)+" Mistakes":""),t.gameWonTime){var n=t.gameWonTime-t.startTime;l((function(e){return(n/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})+" seconds"}))}else{var r=Date.now()-t.startTime;l((function(e){return(r/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})+" seconds"}))}}),100);return function(){return clearInterval(e)}}),[t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(i.h,{style:h.container},a.a.createElement(i.h,null,a.a.createElement(i.e,{style:h.text},r)),a.a.createElement(i.h,null,a.a.createElement(i.e,{style:h.mistakesText},s))))}}}]);
//# sourceMappingURL=10-9b8e9c30531ccc807d19.js.map