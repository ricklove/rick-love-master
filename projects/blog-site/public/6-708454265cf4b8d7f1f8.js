(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[6],{"1Tjt":function(e,t,r){"use strict";r.r(t),r.d(t,"EducationalGame_MultiplesCounting",(function(){return f}));r("yIC7"),r("p+GS"),r("dtAy"),r("4oWw"),r("nruA"),r("LnO1"),r("XjK0"),r("SCO9"),r("T3IU"),r("DZyD"),r("KI7T"),r("PN9k");var n=r("ERkP"),o=r.n(n),a=r("DTYs"),i=r("hsFx"),l=r("rTbz"),c=r("7h3R");function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=Object(l.a)({storageKey:"MultiplesCountingLeaderboard",sortKey:function(e){return e.timeMs},sortDescending:!0,scoreColumns:[{name:"Time",getValue:function(e){return""+(e.timeMs/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}},{name:"Mistakes",getValue:function(e){return""+e.mistakes}}]}),f=function(e){var t,r=Object(n.useState)({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),i=r[0],l=r[1],u=Object(n.useState)(d()),s=u[0],f=u[1],b=Object(n.useState)(null),C=b[0],w=b[1],v=Object(n.useRef)(s),T=m.useLeaderboard({getScore:function(){var e;return{mistakes:i.mistakes,timeMs:(null!==(e=i.gameWonTime)&&void 0!==e?e:Date.now())-i.startTime}}}),E=function(){l((function(e){return Object.assign(Object.assign({},e),{},{gameWonTime:Date.now(),key:e.key+1})}))},F=function(e){c.ProgressGameService.onCorrect();var t=Object.assign({},v.current),r=t.columns.find((function(t){return t.multiple===e.multiple}));r&&(r.maxTimesCorrect=e.times),f(t),setTimeout((function(){S(t)}),100)},x=function(e){w((function(e){return Object.assign({},e)})),l((function(e){return Object.assign(Object.assign({},e),{},{mistakes:e.mistakes+1,key:e.key+1})}))},S=function(e){var t=y(e,E,F,x);w(t)};return Object(n.useEffect)((function(){S(s)}),[]),v.current=s,o.a.createElement(o.a.Fragment,null,o.a.createElement(a.h,{style:{marginTop:50,marginBottom:150,padding:2,alignItems:"center"}},o.a.createElement(a.h,{style:{width:292}},o.a.createElement(p,{gameScore:i}),o.a.createElement(g,{gameBoard:s,focus:null!==(t=null==C?void 0:C.focus)&&void 0!==t?t:{multiple:0,times:0}}),C&&!i.gameWonTime&&o.a.createElement(h,{gameInput:C}),o.a.createElement(T.LeaderboardArea,{gameOver:!!i.gameWonTime,onScoreSaved:function(){var e=d();l({key:0,startTime:Date.now(),gameWonTime:void 0,mistakes:0}),f(e),S(e)}}))))},d=function(){return{size:12,rows:u(new Array(12)).map((function(e,t){return{times:t+1}})),columns:u(new Array(12)).map((function(e,t){return{multiple:t+1,maxTimesCorrect:0}}))}},b={cellView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.75)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellView:{width:24,height:24,borderWidth:1,borderColor:"#66FF66",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},focusCellHeaderView:{width:24,height:24,backgroundColor:"rgba(0,0,0,0.5)",borderWidth:1,borderColor:"#111133",borderStyle:"solid",justifyContent:"center",alignItems:"center"},cellText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12},cellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#333300"},focusCellHeaderText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,color:"#FFFF00"}},g=function(e){var t=e.gameBoard,r=e.focus,i=Object(n.useState)(0),l=i[0],c=i[1];Object(n.useEffect)((function(){c(0);var e=setInterval((function(){c((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var u=function(){return l%5==0?"row":l%5==1?"col":"both"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.h,{style:{flexDirection:"row"}},o.a.createElement(a.h,{style:{flexDirection:"column-reverse"}},o.a.createElement(a.h,{style:b.focusCellHeaderView},o.a.createElement(a.e,{style:b.focusCellHeaderText},"x")),t.rows.map((function(e){return o.a.createElement(a.h,{key:e.times,style:r.times===e.times?b.focusCellHeaderView:b.cellHeaderView},o.a.createElement(a.e,{style:r.times===e.times?b.focusCellHeaderText:b.cellHeaderText},""+e.times))}))),t.columns.map((function(e){return o.a.createElement(a.h,{key:e.multiple,style:{flexDirection:"column-reverse"}},o.a.createElement(a.h,{style:r.multiple===e.multiple?b.focusCellHeaderView:b.cellHeaderView},o.a.createElement(a.e,{style:r.multiple===e.multiple?b.focusCellHeaderText:b.cellHeaderText},""+e.multiple)),t.rows.map((function(t){return o.a.createElement(a.h,{key:t.times,style:r.times>=t.times&&r.multiple>=e.multiple?[b.focusCellView,(l=u(),"both"===l?{borderLeftColor:b.focusCellView.borderColor,borderRightColor:b.focusCellView.borderColor,borderTopColor:b.focusCellView.borderColor,borderBottomColor:b.focusCellView.borderColor}:{borderLeftColor:l.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderRightColor:l.includes("col")?"#000000":"rgba(0,0,0,0.15)",borderTopColor:l.includes("row")?"#000000":"rgba(0,0,0,0.15)",borderBottomColor:l.includes("row")?"#000000":"rgba(0,0,0,0.15)"})]:b.cellView},e.maxTimesCorrect>=t.times?o.a.createElement(a.e,{style:b.cellText},(n=e.multiple,i=t.times,"both"===u()?""+n*i:"")):o.a.createElement(a.e,{style:b.cellText}));var n,i,l})))}))))},y=function(e,t,r,n){var o=e.columns.filter((function(t){return t.maxTimesCorrect<e.size}))[0];if(!o)return t(),{key:"",focus:{multiple:0,times:0},buttons:[]};var a=o.multiple,l=o.maxTimesCorrect+1,c=a*l,s=Object(i.a)(u(new Array(100)).map((function(){return Math.round(a+1-2*Math.random())*Math.round(l+1-2*Math.random())+Math.round(2-4*Math.random())})).filter((function(e){return e!==c})).filter((function(e){return e>0}))).slice(0,4),m=Object(i.e)([c].concat(u(s))),f=m.map((function(e){return{value:e,text:""+e,onPress:function(){return function(e){if(e!==c){var t=f.find((function(t){return t.value===e}));t&&(t.wasAnsweredWrong=!0,n({multiple:a,times:l}))}else r({multiple:a,times:l})}(e)},wasAnsweredWrong:!1}}));return{key:a+"*"+l,focus:{multiple:a,times:l},buttons:f}},C={outerContainer:{height:150},container:{flexDirection:"row",justifyContent:"space-around",margin:16},buttonView:{width:48,height:48,borderWidth:2,borderColor:"#6666FF",borderStyle:"solid",justifyContent:"center",alignItems:"center"},buttonText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FFFFFF"},buttonText_wrong:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:24,color:"#FF6666"}},h=function(e){var t=e.gameInput,r=Object(n.useState)(0),i=r[0],l=r[1];return Object(n.useEffect)((function(){l(100);var e=setInterval((function(){l((function(e){return Math.max(0,e-1)}))}),50);return function(){return clearInterval(e)}}),[t.key]),o.a.createElement(o.a.Fragment,null,o.a.createElement(a.h,{style:C.outerContainer},o.a.createElement(a.h,{style:[C.container,{transform:"translate(0px,"+i+"px)"}]},t.buttons.map((function(e){return o.a.createElement(a.g,{key:e.text+t.key,onPress:e.wasAnsweredWrong?function(){}:e.onPress},o.a.createElement(a.h,{style:C.buttonView},o.a.createElement(a.e,{style:e.wasAnsweredWrong?C.buttonText_wrong:C.buttonText},e.text)))})))))},w={container:{flex:1,alignItems:"center",margin:16},text:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FFFF00"},mistakesText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,color:"#FF6666"}},p=function(e){var t=e.gameScore,r=Object(n.useState)(""),i=r[0],l=r[1],c=Object(n.useState)(""),u=c[0],s=c[1];return Object(n.useEffect)((function(){var e=setInterval((function(){var e;if(s(t.mistakes?(null!==(e=t.mistakes)&&void 0!==e?e:0)+" Mistakes":""),t.gameWonTime){var r=t.gameWonTime-t.startTime;l((function(e){return(r/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})+" seconds"}))}else{var n=Date.now()-t.startTime;l((function(e){return(n/1e3).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})+" seconds"}))}}),100);return function(){return clearInterval(e)}}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(a.h,{style:w.container},o.a.createElement(a.h,null,o.a.createElement(a.e,{style:w.text},i)),o.a.createElement(a.h,null,o.a.createElement(a.e,{style:w.mistakesText},u))))}}}]);
//# sourceMappingURL=6-708454265cf4b8d7f1f8.js.map